var cw=Object.create;var hc=Object.defineProperty;var uw=Object.getOwnPropertyDescriptor;var lw=Object.getOwnPropertyNames;var dw=Object.getPrototypeOf,fw=Object.prototype.hasOwnProperty;var hw=t=>hc(t,"__esModule",{value:!0});var T=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var gw=(t,e,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of lw(e))!fw.call(t,r)&&r!=="default"&&hc(t,r,{get:()=>e[r],enumerable:!(n=uw(e,r))||n.enumerable});return t},pw=t=>gw(hw(hc(t!=null?cw(dw(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var so=T((xE,sd)=>{var mw="2.0.0",vw=256,yw=Number.MAX_SAFE_INTEGER||9007199254740991,_w=16;sd.exports={SEMVER_SPEC_VERSION:mw,MAX_LENGTH:vw,MAX_SAFE_INTEGER:yw,MAX_SAFE_COMPONENT_LENGTH:_w}});var ao=T((IE,ad)=>{var ww=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};ad.exports=ww});var Wr=T((gr,cd)=>{var{MAX_SAFE_COMPONENT_LENGTH:gc}=so(),bw=ao();gr=cd.exports={};var Rw=gr.re=[],U=gr.src=[],B=gr.t={},Cw=0,he=(t,e,n)=>{let r=Cw++;bw(r,e),B[t]=r,U[r]=e,Rw[r]=new RegExp(e,n?"g":void 0)};he("NUMERICIDENTIFIER","0|[1-9]\\d*");he("NUMERICIDENTIFIERLOOSE","[0-9]+");he("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");he("MAINVERSION",`(${U[B.NUMERICIDENTIFIER]})\\.(${U[B.NUMERICIDENTIFIER]})\\.(${U[B.NUMERICIDENTIFIER]})`);he("MAINVERSIONLOOSE",`(${U[B.NUMERICIDENTIFIERLOOSE]})\\.(${U[B.NUMERICIDENTIFIERLOOSE]})\\.(${U[B.NUMERICIDENTIFIERLOOSE]})`);he("PRERELEASEIDENTIFIER",`(?:${U[B.NUMERICIDENTIFIER]}|${U[B.NONNUMERICIDENTIFIER]})`);he("PRERELEASEIDENTIFIERLOOSE",`(?:${U[B.NUMERICIDENTIFIERLOOSE]}|${U[B.NONNUMERICIDENTIFIER]})`);he("PRERELEASE",`(?:-(${U[B.PRERELEASEIDENTIFIER]}(?:\\.${U[B.PRERELEASEIDENTIFIER]})*))`);he("PRERELEASELOOSE",`(?:-?(${U[B.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${U[B.PRERELEASEIDENTIFIERLOOSE]})*))`);he("BUILDIDENTIFIER","[0-9A-Za-z-]+");he("BUILD",`(?:\\+(${U[B.BUILDIDENTIFIER]}(?:\\.${U[B.BUILDIDENTIFIER]})*))`);he("FULLPLAIN",`v?${U[B.MAINVERSION]}${U[B.PRERELEASE]}?${U[B.BUILD]}?`);he("FULL",`^${U[B.FULLPLAIN]}$`);he("LOOSEPLAIN",`[v=\\s]*${U[B.MAINVERSIONLOOSE]}${U[B.PRERELEASELOOSE]}?${U[B.BUILD]}?`);he("LOOSE",`^${U[B.LOOSEPLAIN]}$`);he("GTLT","((?:<|>)?=?)");he("XRANGEIDENTIFIERLOOSE",`${U[B.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);he("XRANGEIDENTIFIER",`${U[B.NUMERICIDENTIFIER]}|x|X|\\*`);he("XRANGEPLAIN",`[v=\\s]*(${U[B.XRANGEIDENTIFIER]})(?:\\.(${U[B.XRANGEIDENTIFIER]})(?:\\.(${U[B.XRANGEIDENTIFIER]})(?:${U[B.PRERELEASE]})?${U[B.BUILD]}?)?)?`);he("XRANGEPLAINLOOSE",`[v=\\s]*(${U[B.XRANGEIDENTIFIERLOOSE]})(?:\\.(${U[B.XRANGEIDENTIFIERLOOSE]})(?:\\.(${U[B.XRANGEIDENTIFIERLOOSE]})(?:${U[B.PRERELEASELOOSE]})?${U[B.BUILD]}?)?)?`);he("XRANGE",`^${U[B.GTLT]}\\s*${U[B.XRANGEPLAIN]}$`);he("XRANGELOOSE",`^${U[B.GTLT]}\\s*${U[B.XRANGEPLAINLOOSE]}$`);he("COERCE",`(^|[^\\d])(\\d{1,${gc}})(?:\\.(\\d{1,${gc}}))?(?:\\.(\\d{1,${gc}}))?(?:$|[^\\d])`);he("COERCERTL",U[B.COERCE],!0);he("LONETILDE","(?:~>?)");he("TILDETRIM",`(\\s*)${U[B.LONETILDE]}\\s+`,!0);gr.tildeTrimReplace="$1~";he("TILDE",`^${U[B.LONETILDE]}${U[B.XRANGEPLAIN]}$`);he("TILDELOOSE",`^${U[B.LONETILDE]}${U[B.XRANGEPLAINLOOSE]}$`);he("LONECARET","(?:\\^)");he("CARETTRIM",`(\\s*)${U[B.LONECARET]}\\s+`,!0);gr.caretTrimReplace="$1^";he("CARET",`^${U[B.LONECARET]}${U[B.XRANGEPLAIN]}$`);he("CARETLOOSE",`^${U[B.LONECARET]}${U[B.XRANGEPLAINLOOSE]}$`);he("COMPARATORLOOSE",`^${U[B.GTLT]}\\s*(${U[B.LOOSEPLAIN]})$|^$`);he("COMPARATOR",`^${U[B.GTLT]}\\s*(${U[B.FULLPLAIN]})$|^$`);he("COMPARATORTRIM",`(\\s*)${U[B.GTLT]}\\s*(${U[B.LOOSEPLAIN]}|${U[B.XRANGEPLAIN]})`,!0);gr.comparatorTrimReplace="$1$2$3";he("HYPHENRANGE",`^\\s*(${U[B.XRANGEPLAIN]})\\s+-\\s+(${U[B.XRANGEPLAIN]})\\s*$`);he("HYPHENRANGELOOSE",`^\\s*(${U[B.XRANGEPLAINLOOSE]})\\s+-\\s+(${U[B.XRANGEPLAINLOOSE]})\\s*$`);he("STAR","(<|>)?=?\\s*\\*");he("GTE0","^\\s*>=\\s*0.0.0\\s*$");he("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")});var co=T((NE,ud)=>{var Sw=["includePrerelease","loose","rtl"],Pw=t=>t?typeof t!="object"?{loose:!0}:Sw.filter(e=>t[e]).reduce((e,n)=>(e[n]=!0,e),{}):{};ud.exports=Pw});var ps=T((AE,fd)=>{var ld=/^[0-9]+$/,dd=(t,e)=>{let n=ld.test(t),r=ld.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},Dw=(t,e)=>dd(e,t);fd.exports={compareIdentifiers:dd,rcompareIdentifiers:Dw}});var ht=T((jE,md)=>{var ms=ao(),{MAX_LENGTH:hd,MAX_SAFE_INTEGER:vs}=so(),{re:gd,t:pd}=Wr(),Tw=co(),{compareIdentifiers:uo}=ps(),Bt=class{constructor(e,n){if(n=Tw(n),e instanceof Bt){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>hd)throw new TypeError(`version is longer than ${hd} characters`);ms("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=e.trim().match(n.loose?gd[pd.LOOSE]:gd[pd.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>vs||this.major<0)throw new TypeError("Invalid major version");if(this.minor>vs||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>vs||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<vs)return s}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(ms("SemVer.compare",this.version,this.options,e),!(e instanceof Bt)){if(typeof e=="string"&&e===this.version)return 0;e=new Bt(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Bt||(e=new Bt(e,this.options)),uo(this.major,e.major)||uo(this.minor,e.minor)||uo(this.patch,e.patch)}comparePre(e){if(e instanceof Bt||(e=new Bt(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],i=e.prerelease[n];if(ms("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return uo(r,i)}while(++n)}compareBuild(e){e instanceof Bt||(e=new Bt(e,this.options));let n=0;do{let r=this.build[n],i=e.build[n];if(ms("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return uo(r,i)}while(++n)}inc(e,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n),this.inc("pre",n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let r=this.prerelease.length;for(;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}n&&(this.prerelease[0]===n?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};md.exports=Bt});var $r=T((LE,wd)=>{var{MAX_LENGTH:qw}=so(),{re:vd,t:yd}=Wr(),_d=ht(),Ew=co(),Ow=(t,e)=>{if(e=Ew(e),t instanceof _d)return t;if(typeof t!="string"||t.length>qw||!(e.loose?vd[yd.LOOSE]:vd[yd.FULL]).test(t))return null;try{return new _d(t,e)}catch{return null}};wd.exports=Ow});var Rd=T((WE,bd)=>{var Fw=$r(),kw=(t,e)=>{let n=Fw(t,e);return n?n.version:null};bd.exports=kw});var Sd=T(($E,Cd)=>{var Mw=$r(),xw=(t,e)=>{let n=Mw(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};Cd.exports=xw});var Dd=T((HE,Pd)=>{var Iw=ht(),Nw=(t,e,n,r)=>{typeof n=="string"&&(r=n,n=void 0);try{return new Iw(t,n).inc(e,r).version}catch{return null}};Pd.exports=Nw});var Gt=T((zE,qd)=>{var Td=ht(),Aw=(t,e,n)=>new Td(t,n).compare(new Td(e,n));qd.exports=Aw});var ys=T((KE,Ed)=>{var jw=Gt(),Lw=(t,e,n)=>jw(t,e,n)===0;Ed.exports=Lw});var kd=T((UE,Fd)=>{var Od=$r(),Ww=ys(),$w=(t,e)=>{if(Ww(t,e))return null;{let n=Od(t),r=Od(e),i=n.prerelease.length||r.prerelease.length,s=i?"pre":"",o=i?"prerelease":"";for(let c in n)if((c==="major"||c==="minor"||c==="patch")&&n[c]!==r[c])return s+c;return o}};Fd.exports=$w});var xd=T((BE,Md)=>{var Hw=ht(),zw=(t,e)=>new Hw(t,e).major;Md.exports=zw});var Nd=T((GE,Id)=>{var Kw=ht(),Uw=(t,e)=>new Kw(t,e).minor;Id.exports=Uw});var jd=T((XE,Ad)=>{var Bw=ht(),Gw=(t,e)=>new Bw(t,e).patch;Ad.exports=Gw});var Wd=T((VE,Ld)=>{var Xw=$r(),Vw=(t,e)=>{let n=Xw(t,e);return n&&n.prerelease.length?n.prerelease:null};Ld.exports=Vw});var Hd=T((JE,$d)=>{var Jw=Gt(),Qw=(t,e,n)=>Jw(e,t,n);$d.exports=Qw});var Kd=T((QE,zd)=>{var Yw=Gt(),Zw=(t,e)=>Yw(t,e,!0);zd.exports=Zw});var _s=T((YE,Bd)=>{var Ud=ht(),eb=(t,e,n)=>{let r=new Ud(t,n),i=new Ud(e,n);return r.compare(i)||r.compareBuild(i)};Bd.exports=eb});var Xd=T((ZE,Gd)=>{var tb=_s(),nb=(t,e)=>t.sort((n,r)=>tb(n,r,e));Gd.exports=nb});var Jd=T((eO,Vd)=>{var rb=_s(),ib=(t,e)=>t.sort((n,r)=>rb(r,n,e));Vd.exports=ib});var lo=T((tO,Qd)=>{var ob=Gt(),sb=(t,e,n)=>ob(t,e,n)>0;Qd.exports=sb});var ws=T((nO,Yd)=>{var ab=Gt(),cb=(t,e,n)=>ab(t,e,n)<0;Yd.exports=cb});var pc=T((rO,Zd)=>{var ub=Gt(),lb=(t,e,n)=>ub(t,e,n)!==0;Zd.exports=lb});var bs=T((iO,ef)=>{var db=Gt(),fb=(t,e,n)=>db(t,e,n)>=0;ef.exports=fb});var Rs=T((oO,tf)=>{var hb=Gt(),gb=(t,e,n)=>hb(t,e,n)<=0;tf.exports=gb});var mc=T((sO,nf)=>{var pb=ys(),mb=pc(),vb=lo(),yb=bs(),_b=ws(),wb=Rs(),bb=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return pb(t,n,r);case"!=":return mb(t,n,r);case">":return vb(t,n,r);case">=":return yb(t,n,r);case"<":return _b(t,n,r);case"<=":return wb(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};nf.exports=bb});var of=T((aO,rf)=>{var Rb=ht(),Cb=$r(),{re:Cs,t:Ss}=Wr(),Sb=(t,e)=>{if(t instanceof Rb)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(Cs[Ss.COERCE]);else{let r;for(;(r=Cs[Ss.COERCERTL].exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||r.index+r[0].length!==n.index+n[0].length)&&(n=r),Cs[Ss.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;Cs[Ss.COERCERTL].lastIndex=-1}return n===null?null:Cb(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,e)};rf.exports=Sb});var af=T((cO,sf)=>{"use strict";sf.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var uf=T((uO,cf)=>{"use strict";cf.exports=be;be.Node=Hr;be.create=be;function be(t){var e=this;if(e instanceof be||(e=new be),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)e.push(arguments[n]);return e}be.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e};be.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};be.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};be.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Db(this,arguments[t]);return this.length};be.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)Tb(this,arguments[t]);return this.length};be.prototype.pop=function(){if(!!this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};be.prototype.shift=function(){if(!!this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};be.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,r=0;n!==null;r++)t.call(e,n.value,r,this),n=n.next};be.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,r=this.length-1;n!==null;r--)t.call(e,n.value,r,this),n=n.prev};be.prototype.get=function(t){for(var e=0,n=this.head;n!==null&&e<t;e++)n=n.next;if(e===t&&n!==null)return n.value};be.prototype.getReverse=function(t){for(var e=0,n=this.tail;n!==null&&e<t;e++)n=n.prev;if(e===t&&n!==null)return n.value};be.prototype.map=function(t,e){e=e||this;for(var n=new be,r=this.head;r!==null;)n.push(t.call(e,r.value,this)),r=r.next;return n};be.prototype.mapReverse=function(t,e){e=e||this;for(var n=new be,r=this.tail;r!==null;)n.push(t.call(e,r.value,this)),r=r.prev;return n};be.prototype.reduce=function(t,e){var n,r=this.head;if(arguments.length>1)n=e;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=t(n,r.value,i),r=r.next;return n};be.prototype.reduceReverse=function(t,e){var n,r=this.tail;if(arguments.length>1)n=e;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=t(n,r.value,i),r=r.prev;return n};be.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;n!==null;e++)t[e]=n.value,n=n.next;return t};be.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;n!==null;e++)t[e]=n.value,n=n.prev;return t};be.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new be;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=0,i=this.head;i!==null&&r<t;r++)i=i.next;for(;i!==null&&r<e;r++,i=i.next)n.push(i.value);return n};be.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new be;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=this.length,i=this.tail;i!==null&&r>e;r--)i=i.prev;for(;i!==null&&r>t;r--,i=i.prev)n.push(i.value);return n};be.prototype.splice=function(t,e,...n){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var r=0,i=this.head;i!==null&&r<t;r++)i=i.next;for(var s=[],r=0;i&&r<e;r++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=Pb(this,i,n[r]);return s};be.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=e,this.tail=t,this};function Pb(t,e,n){var r=e===t.head?new Hr(n,null,e,t):new Hr(n,e,e.next,t);return r.next===null&&(t.tail=r),r.prev===null&&(t.head=r),t.length++,r}function Db(t,e){t.tail=new Hr(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function Tb(t,e){t.head=new Hr(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Hr(t,e,n,r){if(!(this instanceof Hr))return new Hr(t,e,n,r);this.list=r,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{af()(be)}catch{}});var mf=T((lO,pf)=>{"use strict";var qb=uf(),zr=Symbol("max"),Gn=Symbol("length"),li=Symbol("lengthCalculator"),fo=Symbol("allowStale"),Kr=Symbol("maxAge"),Xn=Symbol("dispose"),lf=Symbol("noDisposeOnSet"),nt=Symbol("lruList"),un=Symbol("cache"),df=Symbol("updateAgeOnGet"),vc=()=>1,ff=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let n=this[zr]=e.max||1/0,r=e.length||vc;if(this[li]=typeof r!="function"?vc:r,this[fo]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Kr]=e.maxAge||0,this[Xn]=e.dispose,this[lf]=e.noDisposeOnSet||!1,this[df]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[zr]=e||1/0,ho(this)}get max(){return this[zr]}set allowStale(e){this[fo]=!!e}get allowStale(){return this[fo]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Kr]=e,ho(this)}get maxAge(){return this[Kr]}set lengthCalculator(e){typeof e!="function"&&(e=vc),e!==this[li]&&(this[li]=e,this[Gn]=0,this[nt].forEach(n=>{n.length=this[li](n.value,n.key),this[Gn]+=n.length})),ho(this)}get lengthCalculator(){return this[li]}get length(){return this[Gn]}get itemCount(){return this[nt].length}rforEach(e,n){n=n||this;for(let r=this[nt].tail;r!==null;){let i=r.prev;gf(this,e,r,n),r=i}}forEach(e,n){n=n||this;for(let r=this[nt].head;r!==null;){let i=r.next;gf(this,e,r,n),r=i}}keys(){return this[nt].toArray().map(e=>e.key)}values(){return this[nt].toArray().map(e=>e.value)}reset(){this[Xn]&&this[nt]&&this[nt].length&&this[nt].forEach(e=>this[Xn](e.key,e.value)),this[un]=new Map,this[nt]=new qb,this[Gn]=0}dump(){return this[nt].map(e=>Ps(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[nt]}set(e,n,r){if(r=r||this[Kr],r&&typeof r!="number")throw new TypeError("maxAge must be a number");let i=r?Date.now():0,s=this[li](n,e);if(this[un].has(e)){if(s>this[zr])return di(this,this[un].get(e)),!1;let a=this[un].get(e).value;return this[Xn]&&(this[lf]||this[Xn](e,a.value)),a.now=i,a.maxAge=r,a.value=n,this[Gn]+=s-a.length,a.length=s,this.get(e),ho(this),!0}let o=new hf(e,n,s,i,r);return o.length>this[zr]?(this[Xn]&&this[Xn](e,n),!1):(this[Gn]+=o.length,this[nt].unshift(o),this[un].set(e,this[nt].head),ho(this),!0)}has(e){if(!this[un].has(e))return!1;let n=this[un].get(e).value;return!Ps(this,n)}get(e){return yc(this,e,!0)}peek(e){return yc(this,e,!1)}pop(){let e=this[nt].tail;return e?(di(this,e),e.value):null}del(e){di(this,this[un].get(e))}load(e){this.reset();let n=Date.now();for(let r=e.length-1;r>=0;r--){let i=e[r],s=i.e||0;if(s===0)this.set(i.k,i.v);else{let o=s-n;o>0&&this.set(i.k,i.v,o)}}}prune(){this[un].forEach((e,n)=>yc(this,n,!1))}},yc=(t,e,n)=>{let r=t[un].get(e);if(r){let i=r.value;if(Ps(t,i)){if(di(t,r),!t[fo])return}else n&&(t[df]&&(r.value.now=Date.now()),t[nt].unshiftNode(r));return i.value}},Ps=(t,e)=>{if(!e||!e.maxAge&&!t[Kr])return!1;let n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t[Kr]&&n>t[Kr]},ho=t=>{if(t[Gn]>t[zr])for(let e=t[nt].tail;t[Gn]>t[zr]&&e!==null;){let n=e.prev;di(t,e),e=n}},di=(t,e)=>{if(e){let n=e.value;t[Xn]&&t[Xn](n.key,n.value),t[Gn]-=n.length,t[un].delete(n.key),t[nt].removeNode(e)}},hf=class{constructor(e,n,r,i,s){this.key=e,this.value=n,this.length=r,this.now=i,this.maxAge=s||0}},gf=(t,e,n,r)=>{let i=n.value;Ps(t,i)&&(di(t,n),t[fo]||(i=void 0)),i&&e.call(r,i.value,i.key,t)};pf.exports=ff});var Xt=T((dO,wf)=>{var fi=class{constructor(e,n){if(n=Ob(n),e instanceof fi)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new fi(e.raw,n);if(e instanceof _c)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(i=>!yf(i[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&Ib(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let r=`parseRange:${Object.keys(this.options).join(",")}:${e}`,i=vf.get(r);if(i)return i;let s=this.options.loose,o=s?gt[ct.HYPHENRANGELOOSE]:gt[ct.HYPHENRANGE];e=e.replace(o,Ub(this.options.includePrerelease)),Be("hyphen replace",e),e=e.replace(gt[ct.COMPARATORTRIM],kb),Be("comparator trim",e,gt[ct.COMPARATORTRIM]),e=e.replace(gt[ct.TILDETRIM],Mb),e=e.replace(gt[ct.CARETTRIM],xb),e=e.split(/\s+/).join(" ");let c=s?gt[ct.COMPARATORLOOSE]:gt[ct.COMPARATOR],a=e.split(" ").map(m=>Nb(m,this.options)).join(" ").split(/\s+/).map(m=>Kb(m,this.options)).filter(this.options.loose?m=>!!m.match(c):()=>!0).map(m=>new _c(m,this.options)),d=a.length,h=new Map;for(let m of a){if(yf(m))return[m];h.set(m.value,m)}h.size>1&&h.has("")&&h.delete("");let p=[...h.values()];return vf.set(r,p),p}intersects(e,n){if(!(e instanceof fi))throw new TypeError("a Range is required");return this.set.some(r=>_f(r,n)&&e.set.some(i=>_f(i,n)&&r.every(s=>i.every(o=>s.intersects(o,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Fb(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(Bb(this.set[n],e,this.options))return!0;return!1}};wf.exports=fi;var Eb=mf(),vf=new Eb({max:1e3}),Ob=co(),_c=go(),Be=ao(),Fb=ht(),{re:gt,t:ct,comparatorTrimReplace:kb,tildeTrimReplace:Mb,caretTrimReplace:xb}=Wr(),yf=t=>t.value==="<0.0.0-0",Ib=t=>t.value==="",_f=(t,e)=>{let n=!0,r=t.slice(),i=r.pop();for(;n&&r.length;)n=r.every(s=>i.intersects(s,e)),i=r.pop();return n},Nb=(t,e)=>(Be("comp",t,e),t=Lb(t,e),Be("caret",t),t=Ab(t,e),Be("tildes",t),t=$b(t,e),Be("xrange",t),t=zb(t,e),Be("stars",t),t),vt=t=>!t||t.toLowerCase()==="x"||t==="*",Ab=(t,e)=>t.trim().split(/\s+/).map(n=>jb(n,e)).join(" "),jb=(t,e)=>{let n=e.loose?gt[ct.TILDELOOSE]:gt[ct.TILDE];return t.replace(n,(r,i,s,o,c)=>{Be("tilde",t,r,i,s,o,c);let a;return vt(i)?a="":vt(s)?a=`>=${i}.0.0 <${+i+1}.0.0-0`:vt(o)?a=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:c?(Be("replaceTilde pr",c),a=`>=${i}.${s}.${o}-${c} <${i}.${+s+1}.0-0`):a=`>=${i}.${s}.${o} <${i}.${+s+1}.0-0`,Be("tilde return",a),a})},Lb=(t,e)=>t.trim().split(/\s+/).map(n=>Wb(n,e)).join(" "),Wb=(t,e)=>{Be("caret",t,e);let n=e.loose?gt[ct.CARETLOOSE]:gt[ct.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(i,s,o,c,a)=>{Be("caret",t,i,s,o,c,a);let d;return vt(s)?d="":vt(o)?d=`>=${s}.0.0${r} <${+s+1}.0.0-0`:vt(c)?s==="0"?d=`>=${s}.${o}.0${r} <${s}.${+o+1}.0-0`:d=`>=${s}.${o}.0${r} <${+s+1}.0.0-0`:a?(Be("replaceCaret pr",a),s==="0"?o==="0"?d=`>=${s}.${o}.${c}-${a} <${s}.${o}.${+c+1}-0`:d=`>=${s}.${o}.${c}-${a} <${s}.${+o+1}.0-0`:d=`>=${s}.${o}.${c}-${a} <${+s+1}.0.0-0`):(Be("no pr"),s==="0"?o==="0"?d=`>=${s}.${o}.${c}${r} <${s}.${o}.${+c+1}-0`:d=`>=${s}.${o}.${c}${r} <${s}.${+o+1}.0-0`:d=`>=${s}.${o}.${c} <${+s+1}.0.0-0`),Be("caret return",d),d})},$b=(t,e)=>(Be("replaceXRanges",t,e),t.split(/\s+/).map(n=>Hb(n,e)).join(" ")),Hb=(t,e)=>{t=t.trim();let n=e.loose?gt[ct.XRANGELOOSE]:gt[ct.XRANGE];return t.replace(n,(r,i,s,o,c,a)=>{Be("xRange",t,r,i,s,o,c,a);let d=vt(s),h=d||vt(o),p=h||vt(c),m=p;return i==="="&&m&&(i=""),a=e.includePrerelease?"-0":"",d?i===">"||i==="<"?r="<0.0.0-0":r="*":i&&m?(h&&(o=0),c=0,i===">"?(i=">=",h?(s=+s+1,o=0,c=0):(o=+o+1,c=0)):i==="<="&&(i="<",h?s=+s+1:o=+o+1),i==="<"&&(a="-0"),r=`${i+s}.${o}.${c}${a}`):h?r=`>=${s}.0.0${a} <${+s+1}.0.0-0`:p&&(r=`>=${s}.${o}.0${a} <${s}.${+o+1}.0-0`),Be("xRange return",r),r})},zb=(t,e)=>(Be("replaceStars",t,e),t.trim().replace(gt[ct.STAR],"")),Kb=(t,e)=>(Be("replaceGTE0",t,e),t.trim().replace(gt[e.includePrerelease?ct.GTE0PRE:ct.GTE0],"")),Ub=t=>(e,n,r,i,s,o,c,a,d,h,p,m,v)=>(vt(r)?n="":vt(i)?n=`>=${r}.0.0${t?"-0":""}`:vt(s)?n=`>=${r}.${i}.0${t?"-0":""}`:o?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,vt(d)?a="":vt(h)?a=`<${+d+1}.0.0-0`:vt(p)?a=`<${d}.${+h+1}.0-0`:m?a=`<=${d}.${h}.${p}-${m}`:t?a=`<${d}.${h}.${+p+1}-0`:a=`<=${a}`,`${n} ${a}`.trim()),Bb=(t,e,n)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let r=0;r<t.length;r++)if(Be(t[r].semver),t[r].semver!==_c.ANY&&t[r].semver.prerelease.length>0){let i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var go=T((fO,Pf)=>{var po=Symbol("SemVer ANY"),mo=class{static get ANY(){return po}constructor(e,n){if(n=Gb(n),e instanceof mo){if(e.loose===!!n.loose)return e;e=e.value}bc("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===po?this.value="":this.value=this.operator+this.semver.version,bc("comp",this)}parse(e){let n=this.options.loose?bf[Rf.COMPARATORLOOSE]:bf[Rf.COMPARATOR],r=e.match(n);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new Cf(r[2],this.options.loose):this.semver=po}toString(){return this.value}test(e){if(bc("Comparator.test",e,this.options.loose),this.semver===po||e===po)return!0;if(typeof e=="string")try{e=new Cf(e,this.options)}catch{return!1}return wc(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof mo))throw new TypeError("a Comparator is required");if((!n||typeof n!="object")&&(n={loose:!!n,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new Sf(e.value,n).test(this.value);if(e.operator==="")return e.value===""?!0:new Sf(this.value,n).test(e.semver);let r=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),s=this.semver.version===e.semver.version,o=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),c=wc(this.semver,"<",e.semver,n)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),a=wc(this.semver,">",e.semver,n)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return r||i||s&&o||c||a}};Pf.exports=mo;var Gb=co(),{re:bf,t:Rf}=Wr(),wc=mc(),bc=ao(),Cf=ht(),Sf=Xt()});var vo=T((hO,Df)=>{var Xb=Xt(),Vb=(t,e,n)=>{try{e=new Xb(e,n)}catch{return!1}return e.test(t)};Df.exports=Vb});var qf=T((gO,Tf)=>{var Jb=Xt(),Qb=(t,e)=>new Jb(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));Tf.exports=Qb});var Of=T((pO,Ef)=>{var Yb=ht(),Zb=Xt(),eR=(t,e,n)=>{let r=null,i=null,s=null;try{s=new Zb(e,n)}catch{return null}return t.forEach(o=>{s.test(o)&&(!r||i.compare(o)===-1)&&(r=o,i=new Yb(r,n))}),r};Ef.exports=eR});var kf=T((mO,Ff)=>{var tR=ht(),nR=Xt(),rR=(t,e,n)=>{let r=null,i=null,s=null;try{s=new nR(e,n)}catch{return null}return t.forEach(o=>{s.test(o)&&(!r||i.compare(o)===1)&&(r=o,i=new tR(r,n))}),r};Ff.exports=rR});var If=T((vO,xf)=>{var Rc=ht(),iR=Xt(),Mf=lo(),oR=(t,e)=>{t=new iR(t,e);let n=new Rc("0.0.0");if(t.test(n)||(n=new Rc("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){let i=t.set[r],s=null;i.forEach(o=>{let c=new Rc(o.semver.version);switch(o.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!s||Mf(c,s))&&(s=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!n||Mf(n,s))&&(n=s)}return n&&t.test(n)?n:null};xf.exports=oR});var Af=T((yO,Nf)=>{var sR=Xt(),aR=(t,e)=>{try{return new sR(t,e).range||"*"}catch{return null}};Nf.exports=aR});var Ds=T((_O,$f)=>{var cR=ht(),jf=go(),{ANY:uR}=jf,lR=Xt(),dR=vo(),Lf=lo(),Wf=ws(),fR=Rs(),hR=bs(),gR=(t,e,n,r)=>{t=new cR(t,r),e=new lR(e,r);let i,s,o,c,a;switch(n){case">":i=Lf,s=fR,o=Wf,c=">",a=">=";break;case"<":i=Wf,s=hR,o=Lf,c="<",a="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(dR(t,e,r))return!1;for(let d=0;d<e.set.length;++d){let h=e.set[d],p=null,m=null;if(h.forEach(v=>{v.semver===uR&&(v=new jf(">=0.0.0")),p=p||v,m=m||v,i(v.semver,p.semver,r)?p=v:o(v.semver,m.semver,r)&&(m=v)}),p.operator===c||p.operator===a||(!m.operator||m.operator===c)&&s(t,m.semver))return!1;if(m.operator===a&&o(t,m.semver))return!1}return!0};$f.exports=gR});var zf=T((wO,Hf)=>{var pR=Ds(),mR=(t,e,n)=>pR(t,e,">",n);Hf.exports=mR});var Uf=T((bO,Kf)=>{var vR=Ds(),yR=(t,e,n)=>vR(t,e,"<",n);Kf.exports=yR});var Xf=T((RO,Gf)=>{var Bf=Xt(),_R=(t,e,n)=>(t=new Bf(t,n),e=new Bf(e,n),t.intersects(e));Gf.exports=_R});var Jf=T((CO,Vf)=>{var wR=vo(),bR=Gt();Vf.exports=(t,e,n)=>{let r=[],i=null,s=null,o=t.sort((h,p)=>bR(h,p,n));for(let h of o)wR(h,e,n)?(s=h,i||(i=h)):(s&&r.push([i,s]),s=null,i=null);i&&r.push([i,null]);let c=[];for(let[h,p]of r)h===p?c.push(h):!p&&h===o[0]?c.push("*"):p?h===o[0]?c.push(`<=${p}`):c.push(`${h} - ${p}`):c.push(`>=${h}`);let a=c.join(" || "),d=typeof e.raw=="string"?e.raw:String(e);return a.length<d.length?a:e}});var th=T((SO,eh)=>{var Qf=Xt(),Ts=go(),{ANY:Cc}=Ts,yo=vo(),Sc=Gt(),RR=(t,e,n={})=>{if(t===e)return!0;t=new Qf(t,n),e=new Qf(e,n);let r=!1;e:for(let i of t.set){for(let s of e.set){let o=CR(i,s,n);if(r=r||o!==null,o)continue e}if(r)return!1}return!0},CR=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Cc){if(e.length===1&&e[0].semver===Cc)return!0;n.includePrerelease?t=[new Ts(">=0.0.0-0")]:t=[new Ts(">=0.0.0")]}if(e.length===1&&e[0].semver===Cc){if(n.includePrerelease)return!0;e=[new Ts(">=0.0.0")]}let r=new Set,i,s;for(let v of t)v.operator===">"||v.operator===">="?i=Yf(i,v,n):v.operator==="<"||v.operator==="<="?s=Zf(s,v,n):r.add(v.semver);if(r.size>1)return null;let o;if(i&&s){if(o=Sc(i.semver,s.semver,n),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let v of r){if(i&&!yo(v,String(i),n)||s&&!yo(v,String(s),n))return null;for(let O of e)if(!yo(v,String(O),n))return!1;return!0}let c,a,d,h,p=s&&!n.includePrerelease&&s.semver.prerelease.length?s.semver:!1,m=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;p&&p.prerelease.length===1&&s.operator==="<"&&p.prerelease[0]===0&&(p=!1);for(let v of e){if(h=h||v.operator===">"||v.operator===">=",d=d||v.operator==="<"||v.operator==="<=",i){if(m&&v.semver.prerelease&&v.semver.prerelease.length&&v.semver.major===m.major&&v.semver.minor===m.minor&&v.semver.patch===m.patch&&(m=!1),v.operator===">"||v.operator===">="){if(c=Yf(i,v,n),c===v&&c!==i)return!1}else if(i.operator===">="&&!yo(i.semver,String(v),n))return!1}if(s){if(p&&v.semver.prerelease&&v.semver.prerelease.length&&v.semver.major===p.major&&v.semver.minor===p.minor&&v.semver.patch===p.patch&&(p=!1),v.operator==="<"||v.operator==="<="){if(a=Zf(s,v,n),a===v&&a!==s)return!1}else if(s.operator==="<="&&!yo(s.semver,String(v),n))return!1}if(!v.operator&&(s||i)&&o!==0)return!1}return!(i&&d&&!s&&o!==0||s&&h&&!i&&o!==0||m||p)},Yf=(t,e,n)=>{if(!t)return e;let r=Sc(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},Zf=(t,e,n)=>{if(!t)return e;let r=Sc(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};eh.exports=RR});var Dc=T((PO,nh)=>{var Pc=Wr();nh.exports={re:Pc.re,src:Pc.src,tokens:Pc.t,SEMVER_SPEC_VERSION:so().SEMVER_SPEC_VERSION,SemVer:ht(),compareIdentifiers:ps().compareIdentifiers,rcompareIdentifiers:ps().rcompareIdentifiers,parse:$r(),valid:Rd(),clean:Sd(),inc:Dd(),diff:kd(),major:xd(),minor:Nd(),patch:jd(),prerelease:Wd(),compare:Gt(),rcompare:Hd(),compareLoose:Kd(),compareBuild:_s(),sort:Xd(),rsort:Jd(),gt:lo(),lt:ws(),eq:ys(),neq:pc(),gte:bs(),lte:Rs(),cmp:mc(),coerce:of(),Comparator:go(),Range:Xt(),satisfies:vo(),toComparators:qf(),maxSatisfying:Of(),minSatisfying:kf(),minVersion:If(),validRange:Af(),outside:Ds(),gtr:zf(),ltr:Uf(),intersects:Xf(),simplifyRange:Jf(),subset:th()}});var pr=T(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.asPromise=He.thenable=He.typedArray=He.stringArray=He.array=He.func=He.error=He.number=He.string=He.boolean=void 0;function SR(t){return t===!0||t===!1}He.boolean=SR;function rh(t){return typeof t=="string"||t instanceof String}He.string=rh;function PR(t){return typeof t=="number"||t instanceof Number}He.number=PR;function DR(t){return t instanceof Error}He.error=DR;function ih(t){return typeof t=="function"}He.func=ih;function oh(t){return Array.isArray(t)}He.array=oh;function TR(t){return oh(t)&&t.every(e=>rh(e))}He.stringArray=TR;function qR(t,e){return Array.isArray(t)&&t.every(e)}He.typedArray=qR;function sh(t){return t&&ih(t.then)}He.thenable=sh;function ER(t){return t instanceof Promise?t:sh(t)?new Promise((e,n)=>{t.then(r=>e(r),r=>n(r))}):Promise.resolve(t)}He.asPromise=ER});var Vn=T(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});var Tc;function qc(){if(Tc===void 0)throw new Error("No runtime abstraction layer installed");return Tc}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Tc=n}t.install=e})(qc||(qc={}));Ec.default=qc});var Oc=T(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});_o.Disposable=void 0;var OR;(function(t){function e(n){return{dispose:n}}t.create=e})(OR=_o.Disposable||(_o.Disposable={}))});var ch=T(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.AbstractMessageBuffer=void 0;var FR=13,kR=10,MR=`\r
`,ah=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,n=0,r=0,i=0;e:for(;n<this._chunks.length;){let a=this._chunks[n];r=0;t:for(;r<a.length;){switch(a[r]){case FR:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case kR:switch(e){case 1:e=2;break;case 3:e=4,r++;break e;default:e=0}break;default:e=0}r++}i+=a.byteLength,n++}if(e!==4)return;let s=this._read(i+r),o=new Map,c=this.toString(s,"ascii").split(MR);if(c.length<2)return o;for(let a=0;a<c.length-2;a++){let d=c[a],h=d.indexOf(":");if(h===-1)throw new Error("Message header must separate key and value using :");let p=d.substr(0,h),m=d.substr(h+1).trim();o.set(p,m)}return o}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let o=s.slice(0,e);n.set(o,r),r+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};qs.AbstractMessageBuffer=ah});var hh=T(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});var xR=Vn(),uh=require("util"),Ur=Oc(),IR=ch(),wo=class extends IR.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return wo.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new uh.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};wo.emptyBuffer=Buffer.allocUnsafe(0);var lh=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Ur.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Ur.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Ur.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),Ur.Disposable.create(()=>this.stream.off("data",e))}},dh=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Ur.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Ur.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Ur.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let s=o=>{o==null?r():i(o)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},fh=Object.freeze({messageBuffer:Object.freeze({create:t=>new wo(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new uh.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new lh(t),asWritableStream:t=>new dh(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){return setTimeout(t,e,...n)},clearTimeout(t){clearTimeout(t)},setImmediate(t,...e){return setImmediate(t,...e)},clearImmediate(t){clearImmediate(t)}})});function Fc(){return fh}(function(t){function e(){xR.default.install(fh)}t.install=e})(Fc||(Fc={}));kc.default=Fc});var hi=T(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.stringArray=pt.array=pt.func=pt.error=pt.number=pt.string=pt.boolean=void 0;function NR(t){return t===!0||t===!1}pt.boolean=NR;function gh(t){return typeof t=="string"||t instanceof String}pt.string=gh;function AR(t){return typeof t=="number"||t instanceof Number}pt.number=AR;function jR(t){return t instanceof Error}pt.error=jR;function LR(t){return typeof t=="function"}pt.func=LR;function ph(t){return Array.isArray(t)}pt.array=ph;function WR(t){return ph(t)&&t.every(e=>gh(e))}pt.stringArray=WR});var Mc=T(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.isResponseMessage=G.isNotificationMessage=G.isRequestMessage=G.NotificationType9=G.NotificationType8=G.NotificationType7=G.NotificationType6=G.NotificationType5=G.NotificationType4=G.NotificationType3=G.NotificationType2=G.NotificationType1=G.NotificationType0=G.NotificationType=G.RequestType9=G.RequestType8=G.RequestType7=G.RequestType6=G.RequestType5=G.RequestType4=G.RequestType3=G.RequestType2=G.RequestType1=G.RequestType=G.RequestType0=G.AbstractMessageSignature=G.ParameterStructures=G.ResponseError=G.ErrorCodes=void 0;var Br=hi(),mh;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=t.jsonrpcReservedErrorRangeStart,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=t.jsonrpcReservedErrorRangeEnd})(mh=G.ErrorCodes||(G.ErrorCodes={}));var Es=class extends Error{constructor(e,n,r){super(n);this.code=Br.number(e)?e:mh.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,Es.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};G.ResponseError=Es;var ut=class{constructor(e){this.kind=e}static is(e){return e===ut.auto||e===ut.byName||e===ut.byPosition}toString(){return this.kind}};G.ParameterStructures=ut;ut.auto=new ut("auto");ut.byPosition=new ut("byPosition");ut.byName=new ut("byName");var Ae=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return ut.auto}};G.AbstractMessageSignature=Ae;var vh=class extends Ae{constructor(e){super(e,0)}};G.RequestType0=vh;var yh=class extends Ae{constructor(e,n=ut.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};G.RequestType=yh;var _h=class extends Ae{constructor(e,n=ut.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};G.RequestType1=_h;var wh=class extends Ae{constructor(e){super(e,2)}};G.RequestType2=wh;var bh=class extends Ae{constructor(e){super(e,3)}};G.RequestType3=bh;var Rh=class extends Ae{constructor(e){super(e,4)}};G.RequestType4=Rh;var Ch=class extends Ae{constructor(e){super(e,5)}};G.RequestType5=Ch;var Sh=class extends Ae{constructor(e){super(e,6)}};G.RequestType6=Sh;var Ph=class extends Ae{constructor(e){super(e,7)}};G.RequestType7=Ph;var Dh=class extends Ae{constructor(e){super(e,8)}};G.RequestType8=Dh;var Th=class extends Ae{constructor(e){super(e,9)}};G.RequestType9=Th;var qh=class extends Ae{constructor(e,n=ut.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};G.NotificationType=qh;var Eh=class extends Ae{constructor(e){super(e,0)}};G.NotificationType0=Eh;var Oh=class extends Ae{constructor(e,n=ut.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};G.NotificationType1=Oh;var Fh=class extends Ae{constructor(e){super(e,2)}};G.NotificationType2=Fh;var kh=class extends Ae{constructor(e){super(e,3)}};G.NotificationType3=kh;var Mh=class extends Ae{constructor(e){super(e,4)}};G.NotificationType4=Mh;var xh=class extends Ae{constructor(e){super(e,5)}};G.NotificationType5=xh;var Ih=class extends Ae{constructor(e){super(e,6)}};G.NotificationType6=Ih;var Nh=class extends Ae{constructor(e){super(e,7)}};G.NotificationType7=Nh;var Ah=class extends Ae{constructor(e){super(e,8)}};G.NotificationType8=Ah;var jh=class extends Ae{constructor(e){super(e,9)}};G.NotificationType9=jh;function $R(t){let e=t;return e&&Br.string(e.method)&&(Br.string(e.id)||Br.number(e.id))}G.isRequestMessage=$R;function HR(t){let e=t;return e&&Br.string(e.method)&&t.id===void 0}G.isNotificationMessage=HR;function zR(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(Br.string(e.id)||Br.number(e.id)||e.id===null)}G.isResponseMessage=zR});var gi=T(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.Emitter=Gr.Event=void 0;var KR=Vn(),UR;(function(t){let e={dispose(){}};t.None=function(){return e}})(UR=Gr.Event||(Gr.Event={}));var Lh=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,o=r.length;s<o;s++)try{n.push(r[s].apply(i[s],e))}catch(c){KR.default().console.error(c)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},bo=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new Lh),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(e,n),i.dispose=bo._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Gr.Emitter=bo;bo._noop=function(){}});var Ac=T(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.CancellationTokenSource=Xr.CancellationToken=void 0;var Wh=Vn(),BR=hi(),xc=gi(),Ic;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:xc.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:xc.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||BR.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(Ic=Xr.CancellationToken||(Xr.CancellationToken={}));var GR=Object.freeze(function(t,e){let n=Wh.default().timer.setTimeout(t.bind(e),0);return{dispose(){Wh.default().timer.clearTimeout(n)}}}),Nc=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?GR:(this._emitter||(this._emitter=new xc.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},$h=class{get token(){return this._token||(this._token=new Nc),this._token}cancel(){this._token?this._token.cancel():this._token=Ic.Cancelled}dispose(){this._token?this._token instanceof Nc&&this._token.dispose():this._token=Ic.None}};Xr.CancellationTokenSource=$h});var zh=T(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});Jn.ReadableStreamMessageReader=Jn.AbstractMessageReader=Jn.MessageReader=void 0;var Os=Vn(),pi=hi(),jc=gi(),XR;(function(t){function e(n){let r=n;return r&&pi.func(r.listen)&&pi.func(r.dispose)&&pi.func(r.onError)&&pi.func(r.onClose)&&pi.func(r.onPartialMessage)}t.is=e})(XR=Jn.MessageReader||(Jn.MessageReader={}));var Lc=class{constructor(){this.errorEmitter=new jc.Emitter,this.closeEmitter=new jc.Emitter,this.partialMessageEmitter=new jc.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${pi.string(e.message)?e.message:"unknown"}`)}};Jn.AbstractMessageReader=Lc;var Wc;(function(t){function e(n){var r;let i,s,o,c=new Map,a,d=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=(r=n.charset)!==null&&r!==void 0?r:"utf-8",n.contentDecoder!==void 0&&(o=n.contentDecoder,c.set(o.name,o)),n.contentDecoders!==void 0)for(let h of n.contentDecoders)c.set(h.name,h);if(n.contentTypeDecoder!==void 0&&(a=n.contentTypeDecoder,d.set(a.name,a)),n.contentTypeDecoders!==void 0)for(let h of n.contentTypeDecoders)d.set(h.name,h)}return a===void 0&&(a=Os.default().applicationJson.decoder,d.set(a.name,a)),{charset:i,contentDecoder:o,contentDecoders:c,contentTypeDecoder:a,contentTypeDecoders:d}}t.fromOptions=e})(Wc||(Wc={}));var Hh=class extends Lc{constructor(e,n){super();this.readable=e,this.options=Wc.fromOptions(n),this.buffer=Os.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i.get("Content-Length");if(!s)throw new Error("Header must provide a Content-Length property.");let o=parseInt(s);if(isNaN(o))throw new Error("Content-Length value must be a number.");this.nextMessageLength=o}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(n):r=Promise.resolve(n),r.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(s=>{this.callback(s)},s=>{this.fireError(s)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(Os.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=Os.default().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Jn.ReadableStreamMessageReader=Hh});var Uh=T(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.Semaphore=void 0;var VR=Vn(),Kh=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||VR.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};Fs.Semaphore=Kh});var Jh=T(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});Qn.WriteableStreamMessageWriter=Qn.AbstractMessageWriter=Qn.MessageWriter=void 0;var Bh=Vn(),Ro=hi(),JR=Uh(),Gh=gi(),QR="Content-Length: ",Xh=`\r
`,YR;(function(t){function e(n){let r=n;return r&&Ro.func(r.dispose)&&Ro.func(r.onClose)&&Ro.func(r.onError)&&Ro.func(r.write)}t.is=e})(YR=Qn.MessageWriter||(Qn.MessageWriter={}));var $c=class{constructor(){this.errorEmitter=new Gh.Emitter,this.closeEmitter=new Gh.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Ro.string(e.message)?e.message:"unknown"}`)}};Qn.AbstractMessageWriter=$c;var Hc;(function(t){function e(n){var r,i;return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:Bh.default().applicationJson.encoder}:{charset:(r=n.charset)!==null&&r!==void 0?r:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(i=n.contentTypeEncoder)!==null&&i!==void 0?i:Bh.default().applicationJson.encoder}}t.fromOptions=e})(Hc||(Hc={}));var Vh=class extends $c{constructor(e,n){super();this.writable=e,this.options=Hc.fromOptions(n),this.errorCount=0,this.writeSemaphore=new JR.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(QR,r.byteLength.toString(),Xh),i.push(Xh),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};Qn.WriteableStreamMessageWriter=Vh});var Yh=T(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.LRUCache=Yn.LinkedMap=Yn.Touch=void 0;var yt;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(yt=Yn.Touch||(Yn.Touch={}));var zc=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,n=yt.None){let r=this._map.get(e);if(!!r)return n!==yt.None&&this.touch(r,n),r.value}set(e,n,r=yt.None){let i=this._map.get(e);if(i)i.value=n,r!==yt.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case yt.None:this.addItemLast(i);break;case yt.First:this.addItemFirst(i);break;case yt.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(!!n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.key,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}values(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.value,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}entries(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:[r.key,r.value],done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==yt.First&&n!==yt.Last)){if(n===yt.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===yt.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};Yn.LinkedMap=zc;var Qh=class extends zc{constructor(e,n=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=yt.AsNew){return super.get(e,n)}peek(e){return super.get(e,yt.None)}set(e,n){return super.set(e,n,yt.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Yn.LRUCache=Qh});var ig=T(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.createMessageConnection=re.ConnectionOptions=re.CancellationStrategy=re.CancellationSenderStrategy=re.CancellationReceiverStrategy=re.ConnectionStrategy=re.ConnectionError=re.ConnectionErrors=re.LogTraceNotification=re.SetTraceNotification=re.TraceFormat=re.Trace=re.NullLogger=re.ProgressType=void 0;var Zh=Vn(),rt=hi(),te=Mc(),eg=Yh(),Co=gi(),Kc=Ac(),So;(function(t){t.type=new te.NotificationType("$/cancelRequest")})(So||(So={}));var ks;(function(t){t.type=new te.NotificationType("$/progress")})(ks||(ks={}));var tg=class{constructor(){}};re.ProgressType=tg;var Uc;(function(t){function e(n){return rt.func(n)}t.is=e})(Uc||(Uc={}));re.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Xe;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"})(Xe=re.Trace||(re.Trace={}));(function(t){function e(r){if(!rt.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(Xe=re.Trace||(re.Trace={}));var ln;(function(t){t.Text="text",t.JSON="json"})(ln=re.TraceFormat||(re.TraceFormat={}));(function(t){function e(n){return n=n.toLowerCase(),n==="json"?t.JSON:t.Text}t.fromString=e})(ln=re.TraceFormat||(re.TraceFormat={}));var ng;(function(t){t.type=new te.NotificationType("$/setTrace")})(ng=re.SetTraceNotification||(re.SetTraceNotification={}));var Bc;(function(t){t.type=new te.NotificationType("$/logTrace")})(Bc=re.LogTraceNotification||(re.LogTraceNotification={}));var Ms;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(Ms=re.ConnectionErrors||(re.ConnectionErrors={}));var Vr=class extends Error{constructor(e,n){super(n);this.code=e,Object.setPrototypeOf(this,Vr.prototype)}};re.ConnectionError=Vr;var rg;(function(t){function e(n){let r=n;return r&&rt.func(r.cancelUndispatched)}t.is=e})(rg=re.ConnectionStrategy||(re.ConnectionStrategy={}));var Gc;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new Kc.CancellationTokenSource}});function e(n){let r=n;return r&&rt.func(r.createCancellationTokenSource)}t.is=e})(Gc=re.CancellationReceiverStrategy||(re.CancellationReceiverStrategy={}));var Xc;(function(t){t.Message=Object.freeze({sendCancellation(n,r){n.sendNotification(So.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&rt.func(r.sendCancellation)&&rt.func(r.cleanup)}t.is=e})(Xc=re.CancellationSenderStrategy||(re.CancellationSenderStrategy={}));var Vc;(function(t){t.Message=Object.freeze({receiver:Gc.Message,sender:Xc.Message});function e(n){let r=n;return r&&Gc.is(r.receiver)&&Xc.is(r.sender)}t.is=e})(Vc=re.CancellationStrategy||(re.CancellationStrategy={}));var ZR;(function(t){function e(n){let r=n;return r&&(Vc.is(r.cancellationStrategy)||rg.is(r.connectionStrategy))}t.is=e})(ZR=re.ConnectionOptions||(re.ConnectionOptions={}));var dn;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(dn||(dn={}));function eC(t,e,n,r){let i=n!==void 0?n:re.NullLogger,s=0,o=0,c=0,a="2.0",d,h=Object.create(null),p,m=Object.create(null),v=new Map,O,F=new eg.LinkedMap,N=Object.create(null),w=Object.create(null),C=Xe.Off,q=ln.Text,k,A=dn.New,Y=new Co.Emitter,le=new Co.Emitter,ye=new Co.Emitter,ke=new Co.Emitter,W=new Co.Emitter,x=r&&r.cancellationStrategy?r.cancellationStrategy:Vc.Message;function L(P){if(P===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+P.toString()}function z(P){return P===null?"res-unknown-"+(++c).toString():"res-"+P.toString()}function fe(){return"not-"+(++o).toString()}function ee(P,_){te.isRequestMessage(_)?P.set(L(_.id),_):te.isResponseMessage(_)?P.set(z(_.id),_):P.set(fe(),_)}function de(P){}function ne(){return A===dn.Listening}function Ie(){return A===dn.Closed}function Te(){return A===dn.Disposed}function tt(){(A===dn.New||A===dn.Listening)&&(A=dn.Closed,le.fire(void 0))}function Ze(P){Y.fire([P,void 0,void 0])}function cn(P){Y.fire(P)}t.onClose(tt),t.onError(Ze),e.onClose(tt),e.onError(cn);function ar(){O||F.size===0||(O=Zh.default().timer.setImmediate(()=>{O=void 0,cr()}))}function cr(){if(F.size===0)return;let P=F.shift();try{te.isRequestMessage(P)?zn(P):te.isNotificationMessage(P)?Dn(P):te.isResponseMessage(P)?Pn(P):Kn(P)}finally{ar()}}let Hn=P=>{try{if(te.isNotificationMessage(P)&&P.method===So.type.method){let _=L(P.params.id),g=F.get(_);if(te.isRequestMessage(g)){let b=r==null?void 0:r.connectionStrategy,D=b&&b.cancelUndispatched?b.cancelUndispatched(g,de):de(g);if(D&&(D.error!==void 0||D.result!==void 0)){F.delete(_),D.id=g.id,$t(D,P.method,Date.now()),e.write(D);return}}}ee(F,P)}finally{ar()}};function zn(P){if(Te())return;function _(E,$,V){let oe={jsonrpc:a,id:P.id};E instanceof te.ResponseError?oe.error=E.toJson():oe.result=E===void 0?null:E,$t(oe,$,V),e.write(oe)}function g(E,$,V){let oe={jsonrpc:a,id:P.id,error:E.toJson()};$t(oe,$,V),e.write(oe)}function b(E,$,V){E===void 0&&(E=null);let oe={jsonrpc:a,id:P.id,result:E};$t(oe,$,V),e.write(oe)}lr(P);let D=h[P.method],u,l;D&&(u=D.type,l=D.handler);let S=Date.now();if(l||d){let E=String(P.id),$=x.receiver.createCancellationTokenSource(E);w[E]=$;try{let V;if(l)if(P.params===void 0){if(u!==void 0&&u.numberOfParams!==0){g(new te.ResponseError(te.ErrorCodes.InvalidParams,`Request ${P.method} defines ${u.numberOfParams} params but recevied none.`),P.method,S);return}V=l($.token)}else if(Array.isArray(P.params)){if(u!==void 0&&u.parameterStructures===te.ParameterStructures.byName){g(new te.ResponseError(te.ErrorCodes.InvalidParams,`Request ${P.method} defines parameters by name but received parameters by position`),P.method,S);return}V=l(...P.params,$.token)}else{if(u!==void 0&&u.parameterStructures===te.ParameterStructures.byPosition){g(new te.ResponseError(te.ErrorCodes.InvalidParams,`Request ${P.method} defines parameters by position but received parameters by name`),P.method,S);return}V=l(P.params,$.token)}else d&&(V=d(P.method,P.params,$.token));let oe=V;V?oe.then?oe.then(qe=>{delete w[E],_(qe,P.method,S)},qe=>{delete w[E],qe instanceof te.ResponseError?g(qe,P.method,S):qe&&rt.string(qe.message)?g(new te.ResponseError(te.ErrorCodes.InternalError,`Request ${P.method} failed with message: ${qe.message}`),P.method,S):g(new te.ResponseError(te.ErrorCodes.InternalError,`Request ${P.method} failed unexpectedly without providing any details.`),P.method,S)}):(delete w[E],_(V,P.method,S)):(delete w[E],b(V,P.method,S))}catch(V){delete w[E],V instanceof te.ResponseError?_(V,P.method,S):V&&rt.string(V.message)?g(new te.ResponseError(te.ErrorCodes.InternalError,`Request ${P.method} failed with message: ${V.message}`),P.method,S):g(new te.ResponseError(te.ErrorCodes.InternalError,`Request ${P.method} failed unexpectedly without providing any details.`),P.method,S)}}else g(new te.ResponseError(te.ErrorCodes.MethodNotFound,`Unhandled method ${P.method}`),P.method,S)}function Pn(P){if(!Te())if(P.id===null)P.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(P.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let _=String(P.id),g=N[_];if(Nr(P,g),g){delete N[_];try{if(P.error){let b=P.error;g.reject(new te.ResponseError(b.code,b.message,b.data))}else if(P.result!==void 0)g.resolve(P.result);else throw new Error("Should never happen.")}catch(b){b.message?i.error(`Response handler '${g.method}' failed with message: ${b.message}`):i.error(`Response handler '${g.method}' failed unexpectedly.`)}}}}function Dn(P){if(Te())return;let _,g;if(P.method===So.type.method)g=b=>{let D=b.id,u=w[String(D)];u&&u.cancel()};else{let b=m[P.method];b&&(g=b.handler,_=b.type)}if(g||p)try{Ht(P),g?P.params===void 0?(_!==void 0&&_.numberOfParams!==0&&_.parameterStructures!==te.ParameterStructures.byName&&i.error(`Notification ${P.method} defines ${_.numberOfParams} params but recevied none.`),g()):Array.isArray(P.params)?(_!==void 0&&(_.parameterStructures===te.ParameterStructures.byName&&i.error(`Notification ${P.method} defines parameters by name but received parameters by position`),_.numberOfParams!==P.params.length&&i.error(`Notification ${P.method} defines ${_.numberOfParams} params but received ${P.params.length} argumennts`)),g(...P.params)):(_!==void 0&&_.parameterStructures===te.ParameterStructures.byPosition&&i.error(`Notification ${P.method} defines parameters by position but received parameters by name`),g(P.params)):p&&p(P.method,P.params)}catch(b){b.message?i.error(`Notification handler '${P.method}' failed with message: ${b.message}`):i.error(`Notification handler '${P.method}' failed unexpectedly.`)}else ye.fire(P)}function Kn(P){if(!P){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(P,null,4)}`);let _=P;if(rt.string(_.id)||rt.number(_.id)){let g=String(_.id),b=N[g];b&&b.reject(new Error("The received response has neither a result nor an error property."))}}function ur(P){if(!(C===Xe.Off||!k))if(q===ln.Text){let _;C===Xe.Verbose&&P.params&&(_=`Params: ${JSON.stringify(P.params,null,4)}

`),k.log(`Sending request '${P.method} - (${P.id})'.`,_)}else ze("send-request",P)}function Ir(P){if(!(C===Xe.Off||!k))if(q===ln.Text){let _;C===Xe.Verbose&&(P.params?_=`Params: ${JSON.stringify(P.params,null,4)}

`:_=`No parameters provided.

`),k.log(`Sending notification '${P.method}'.`,_)}else ze("send-notification",P)}function $t(P,_,g){if(!(C===Xe.Off||!k))if(q===ln.Text){let b;C===Xe.Verbose&&(P.error&&P.error.data?b=`Error data: ${JSON.stringify(P.error.data,null,4)}

`:P.result?b=`Result: ${JSON.stringify(P.result,null,4)}

`:P.error===void 0&&(b=`No result returned.

`)),k.log(`Sending response '${_} - (${P.id})'. Processing request took ${Date.now()-g}ms`,b)}else ze("send-response",P)}function lr(P){if(!(C===Xe.Off||!k))if(q===ln.Text){let _;C===Xe.Verbose&&P.params&&(_=`Params: ${JSON.stringify(P.params,null,4)}

`),k.log(`Received request '${P.method} - (${P.id})'.`,_)}else ze("receive-request",P)}function Ht(P){if(!(C===Xe.Off||!k||P.method===Bc.type.method))if(q===ln.Text){let _;C===Xe.Verbose&&(P.params?_=`Params: ${JSON.stringify(P.params,null,4)}

`:_=`No parameters provided.

`),k.log(`Received notification '${P.method}'.`,_)}else ze("receive-notification",P)}function Nr(P,_){if(!(C===Xe.Off||!k))if(q===ln.Text){let g;if(C===Xe.Verbose&&(P.error&&P.error.data?g=`Error data: ${JSON.stringify(P.error.data,null,4)}

`:P.result?g=`Result: ${JSON.stringify(P.result,null,4)}

`:P.error===void 0&&(g=`No result returned.

`)),_){let b=P.error?` Request failed: ${P.error.message} (${P.error.code}).`:"";k.log(`Received response '${_.method} - (${P.id})' in ${Date.now()-_.timerStart}ms.${b}`,g)}else k.log(`Received response ${P.id} without active response promise.`,g)}else ze("receive-response",P)}function ze(P,_){if(!k||C===Xe.Off)return;let g={isLSPMessage:!0,type:P,message:_,timestamp:Date.now()};k.log(g)}function St(){if(Ie())throw new Vr(Ms.Closed,"Connection is closed.");if(Te())throw new Vr(Ms.Disposed,"Connection is disposed.")}function dr(){if(ne())throw new Vr(Ms.AlreadyListening,"Connection is already listening")}function Ar(){if(!ne())throw new Error("Call listen() first.")}function zt(P){return P===void 0?null:P}function fr(P){if(P!==null)return P}function Un(P){return P!=null&&!Array.isArray(P)&&typeof P=="object"}function Kt(P,_){switch(P){case te.ParameterStructures.auto:return Un(_)?fr(_):[zt(_)];case te.ParameterStructures.byName:if(!Un(_))throw new Error("Recevied parameters by name but param is not an object literal.");return fr(_);case te.ParameterStructures.byPosition:return[zt(_)];default:throw new Error(`Unknown parameter structure ${P.toString()}`)}}function Bn(P,_){let g,b=P.numberOfParams;switch(b){case 0:g=void 0;break;case 1:g=Kt(P.parameterStructures,_[0]);break;default:g=[];for(let D=0;D<_.length&&D<b;D++)g.push(zt(_[D]));if(_.length<b)for(let D=_.length;D<b;D++)g.push(null);break}return g}let Ut={sendNotification:(P,..._)=>{St();let g,b;if(rt.string(P)){g=P;let u=_[0],l=0,S=te.ParameterStructures.auto;te.ParameterStructures.is(u)&&(l=1,S=u);let E=_.length,$=E-l;switch($){case 0:b=void 0;break;case 1:b=Kt(S,_[l]);break;default:if(S===te.ParameterStructures.byName)throw new Error(`Recevied ${$} parameters for 'by Name' notification parameter structure.`);b=_.slice(l,E).map(V=>zt(V));break}}else{let u=_;g=P.method,b=Bn(P,u)}let D={jsonrpc:a,method:g,params:b};Ir(D),e.write(D)},onNotification:(P,_)=>{St();let g;return rt.func(P)?p=P:_&&(rt.string(P)?(g=P,m[P]={type:void 0,handler:_}):(g=P.method,m[P.method]={type:P,handler:_})),{dispose:()=>{g!==void 0?delete m[g]:p=void 0}}},onProgress:(P,_,g)=>{if(v.has(_))throw new Error(`Progress handler for token ${_} already registered`);return v.set(_,g),{dispose:()=>{v.delete(_)}}},sendProgress:(P,_,g)=>{Ut.sendNotification(ks.type,{token:_,value:g})},onUnhandledProgress:ke.event,sendRequest:(P,..._)=>{St(),Ar();let g,b,D;if(rt.string(P)){g=P;let E=_[0],$=_[_.length-1],V=0,oe=te.ParameterStructures.auto;te.ParameterStructures.is(E)&&(V=1,oe=E);let qe=_.length;Kc.CancellationToken.is($)&&(qe=qe-1,D=$);let Ke=qe-V;switch(Ke){case 0:b=void 0;break;case 1:b=Kt(oe,_[V]);break;default:if(oe===te.ParameterStructures.byName)throw new Error(`Recevied ${Ke} parameters for 'by Name' request parameter structure.`);b=_.slice(V,qe).map(Ue=>zt(Ue));break}}else{let E=_;g=P.method,b=Bn(P,E);let $=P.numberOfParams;D=Kc.CancellationToken.is(E[$])?E[$]:void 0}let u=s++,l;return D&&(l=D.onCancellationRequested(()=>{x.sender.sendCancellation(Ut,u)})),new Promise((E,$)=>{let V={jsonrpc:a,id:u,method:g,params:b},oe=Ue=>{E(Ue),x.sender.cleanup(u),l==null||l.dispose()},qe=Ue=>{$(Ue),x.sender.cleanup(u),l==null||l.dispose()},Ke={method:g,timerStart:Date.now(),resolve:oe,reject:qe};ur(V);try{e.write(V)}catch(Ue){Ke.reject(new te.ResponseError(te.ErrorCodes.MessageWriteError,Ue.message?Ue.message:"Unknown reason")),Ke=null}Ke&&(N[String(u)]=Ke)})},onRequest:(P,_)=>{St();let g=null;return Uc.is(P)?(g=void 0,d=P):rt.string(P)?(g=null,_!==void 0&&(g=P,h[P]={handler:_,type:void 0})):_!==void 0&&(g=P.method,h[P.method]={type:P,handler:_}),{dispose:()=>{g!==null&&(g!==void 0?delete h[g]:d=void 0)}}},trace:(P,_,g)=>{let b=!1,D=ln.Text;g!==void 0&&(rt.boolean(g)?b=g:(b=g.sendNotification||!1,D=g.traceFormat||ln.Text)),C=P,q=D,C===Xe.Off?k=void 0:k=_,b&&!Ie()&&!Te()&&Ut.sendNotification(ng.type,{value:Xe.toString(P)})},onError:Y.event,onClose:le.event,onUnhandledNotification:ye.event,onDispose:W.event,end:()=>{e.end()},dispose:()=>{if(Te())return;A=dn.Disposed,W.fire(void 0);let P=new Error("Connection got disposed.");Object.keys(N).forEach(_=>{N[_].reject(P)}),N=Object.create(null),w=Object.create(null),F=new eg.LinkedMap,rt.func(e.dispose)&&e.dispose(),rt.func(t.dispose)&&t.dispose()},listen:()=>{St(),dr(),A=dn.Listening,t.listen(Hn)},inspect:()=>{Zh.default().console.log("inspect")}};return Ut.onNotification(Bc.type,P=>{C===Xe.Off||!k||k.log(P.message,C===Xe.Verbose?P.verbose:void 0)}),Ut.onNotification(ks.type,P=>{let _=v.get(P.token);_?_(P.value):ke.fire(P)}),Ut}re.createMessageConnection=eC});var Yc=T(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.CancellationSenderStrategy=I.CancellationReceiverStrategy=I.ConnectionError=I.ConnectionErrors=I.LogTraceNotification=I.SetTraceNotification=I.TraceFormat=I.Trace=I.ProgressType=I.createMessageConnection=I.NullLogger=I.ConnectionOptions=I.ConnectionStrategy=I.WriteableStreamMessageWriter=I.AbstractMessageWriter=I.MessageWriter=I.ReadableStreamMessageReader=I.AbstractMessageReader=I.MessageReader=I.CancellationToken=I.CancellationTokenSource=I.Emitter=I.Event=I.Disposable=I.ParameterStructures=I.NotificationType9=I.NotificationType8=I.NotificationType7=I.NotificationType6=I.NotificationType5=I.NotificationType4=I.NotificationType3=I.NotificationType2=I.NotificationType1=I.NotificationType0=I.NotificationType=I.ErrorCodes=I.ResponseError=I.RequestType9=I.RequestType8=I.RequestType7=I.RequestType6=I.RequestType5=I.RequestType4=I.RequestType3=I.RequestType2=I.RequestType1=I.RequestType0=I.RequestType=I.RAL=void 0;I.CancellationStrategy=void 0;var Ne=Mc();Object.defineProperty(I,"RequestType",{enumerable:!0,get:function(){return Ne.RequestType}});Object.defineProperty(I,"RequestType0",{enumerable:!0,get:function(){return Ne.RequestType0}});Object.defineProperty(I,"RequestType1",{enumerable:!0,get:function(){return Ne.RequestType1}});Object.defineProperty(I,"RequestType2",{enumerable:!0,get:function(){return Ne.RequestType2}});Object.defineProperty(I,"RequestType3",{enumerable:!0,get:function(){return Ne.RequestType3}});Object.defineProperty(I,"RequestType4",{enumerable:!0,get:function(){return Ne.RequestType4}});Object.defineProperty(I,"RequestType5",{enumerable:!0,get:function(){return Ne.RequestType5}});Object.defineProperty(I,"RequestType6",{enumerable:!0,get:function(){return Ne.RequestType6}});Object.defineProperty(I,"RequestType7",{enumerable:!0,get:function(){return Ne.RequestType7}});Object.defineProperty(I,"RequestType8",{enumerable:!0,get:function(){return Ne.RequestType8}});Object.defineProperty(I,"RequestType9",{enumerable:!0,get:function(){return Ne.RequestType9}});Object.defineProperty(I,"ResponseError",{enumerable:!0,get:function(){return Ne.ResponseError}});Object.defineProperty(I,"ErrorCodes",{enumerable:!0,get:function(){return Ne.ErrorCodes}});Object.defineProperty(I,"NotificationType",{enumerable:!0,get:function(){return Ne.NotificationType}});Object.defineProperty(I,"NotificationType0",{enumerable:!0,get:function(){return Ne.NotificationType0}});Object.defineProperty(I,"NotificationType1",{enumerable:!0,get:function(){return Ne.NotificationType1}});Object.defineProperty(I,"NotificationType2",{enumerable:!0,get:function(){return Ne.NotificationType2}});Object.defineProperty(I,"NotificationType3",{enumerable:!0,get:function(){return Ne.NotificationType3}});Object.defineProperty(I,"NotificationType4",{enumerable:!0,get:function(){return Ne.NotificationType4}});Object.defineProperty(I,"NotificationType5",{enumerable:!0,get:function(){return Ne.NotificationType5}});Object.defineProperty(I,"NotificationType6",{enumerable:!0,get:function(){return Ne.NotificationType6}});Object.defineProperty(I,"NotificationType7",{enumerable:!0,get:function(){return Ne.NotificationType7}});Object.defineProperty(I,"NotificationType8",{enumerable:!0,get:function(){return Ne.NotificationType8}});Object.defineProperty(I,"NotificationType9",{enumerable:!0,get:function(){return Ne.NotificationType9}});Object.defineProperty(I,"ParameterStructures",{enumerable:!0,get:function(){return Ne.ParameterStructures}});var tC=Oc();Object.defineProperty(I,"Disposable",{enumerable:!0,get:function(){return tC.Disposable}});var og=gi();Object.defineProperty(I,"Event",{enumerable:!0,get:function(){return og.Event}});Object.defineProperty(I,"Emitter",{enumerable:!0,get:function(){return og.Emitter}});var sg=Ac();Object.defineProperty(I,"CancellationTokenSource",{enumerable:!0,get:function(){return sg.CancellationTokenSource}});Object.defineProperty(I,"CancellationToken",{enumerable:!0,get:function(){return sg.CancellationToken}});var Jc=zh();Object.defineProperty(I,"MessageReader",{enumerable:!0,get:function(){return Jc.MessageReader}});Object.defineProperty(I,"AbstractMessageReader",{enumerable:!0,get:function(){return Jc.AbstractMessageReader}});Object.defineProperty(I,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Jc.ReadableStreamMessageReader}});var Qc=Jh();Object.defineProperty(I,"MessageWriter",{enumerable:!0,get:function(){return Qc.MessageWriter}});Object.defineProperty(I,"AbstractMessageWriter",{enumerable:!0,get:function(){return Qc.AbstractMessageWriter}});Object.defineProperty(I,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Qc.WriteableStreamMessageWriter}});var Pt=ig();Object.defineProperty(I,"ConnectionStrategy",{enumerable:!0,get:function(){return Pt.ConnectionStrategy}});Object.defineProperty(I,"ConnectionOptions",{enumerable:!0,get:function(){return Pt.ConnectionOptions}});Object.defineProperty(I,"NullLogger",{enumerable:!0,get:function(){return Pt.NullLogger}});Object.defineProperty(I,"createMessageConnection",{enumerable:!0,get:function(){return Pt.createMessageConnection}});Object.defineProperty(I,"ProgressType",{enumerable:!0,get:function(){return Pt.ProgressType}});Object.defineProperty(I,"Trace",{enumerable:!0,get:function(){return Pt.Trace}});Object.defineProperty(I,"TraceFormat",{enumerable:!0,get:function(){return Pt.TraceFormat}});Object.defineProperty(I,"SetTraceNotification",{enumerable:!0,get:function(){return Pt.SetTraceNotification}});Object.defineProperty(I,"LogTraceNotification",{enumerable:!0,get:function(){return Pt.LogTraceNotification}});Object.defineProperty(I,"ConnectionErrors",{enumerable:!0,get:function(){return Pt.ConnectionErrors}});Object.defineProperty(I,"ConnectionError",{enumerable:!0,get:function(){return Pt.ConnectionError}});Object.defineProperty(I,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Pt.CancellationReceiverStrategy}});Object.defineProperty(I,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Pt.CancellationSenderStrategy}});Object.defineProperty(I,"CancellationStrategy",{enumerable:!0,get:function(){return Pt.CancellationStrategy}});var nC=Vn();I.RAL=nC.default});var _i=T(Ce=>{"use strict";var rC=Ce&&Ce.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),iC=Ce&&Ce.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&rC(e,t,n)};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.createMessageConnection=Ce.createServerSocketTransport=Ce.createClientSocketTransport=Ce.createServerPipeTransport=Ce.createClientPipeTransport=Ce.generateRandomPipeName=Ce.StreamMessageWriter=Ce.StreamMessageReader=Ce.SocketMessageWriter=Ce.SocketMessageReader=Ce.IPCMessageWriter=Ce.IPCMessageReader=void 0;var mi=hh();mi.default.install();var Tn=Yc(),ag=require("path"),oC=require("os"),sC=require("crypto"),xs=require("net");iC(Yc(),Ce);var cg=class extends Tn.AbstractMessageReader{constructor(e){super();this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Tn.Disposable.create(()=>this.process.off("message",e))}};Ce.IPCMessageReader=cg;var ug=class extends Tn.AbstractMessageWriter{constructor(e){super();this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};Ce.IPCMessageWriter=ug;var vi=class extends Tn.ReadableStreamMessageReader{constructor(e,n="utf-8"){super(mi.default().stream.asReadableStream(e),n)}};Ce.SocketMessageReader=vi;var yi=class extends Tn.WriteableStreamMessageWriter{constructor(e,n){super(mi.default().stream.asWritableStream(e),n);this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Ce.SocketMessageWriter=yi;var Zc=class extends Tn.ReadableStreamMessageReader{constructor(e,n){super(mi.default().stream.asReadableStream(e),n)}};Ce.StreamMessageReader=Zc;var eu=class extends Tn.WriteableStreamMessageWriter{constructor(e,n){super(mi.default().stream.asWritableStream(e),n)}};Ce.StreamMessageWriter=eu;var lg=process.env.XDG_RUNTIME_DIR,aC=new Map([["linux",107],["darwin",103]]);function cC(){let t=sC.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;lg?e=ag.join(lg,`vscode-ipc-${t}.sock`):e=ag.join(oC.tmpdir(),`vscode-${t}.sock`);let n=aC.get(process.platform);return n!==void 0&&e.length>=n&&mi.default().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}Ce.generateRandomPipeName=cC;function uC(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let o=xs.createServer(c=>{o.close(),n([new vi(c,e),new yi(c,e)])});o.on("error",s),o.listen(t,()=>{o.removeListener("error",s),i({onConnected:()=>r})})})}Ce.createClientPipeTransport=uC;function lC(t,e="utf-8"){let n=xs.createConnection(t);return[new vi(n,e),new yi(n,e)]}Ce.createServerPipeTransport=lC;function dC(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let o=xs.createServer(c=>{o.close(),n([new vi(c,e),new yi(c,e)])});o.on("error",s),o.listen(t,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>r})})})}Ce.createClientSocketTransport=dC;function fC(t,e="utf-8"){let n=xs.createConnection(t,"127.0.0.1");return[new vi(n,e),new yi(n,e)]}Ce.createServerSocketTransport=fC;function hC(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function gC(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function pC(t,e,n,r){n||(n=Tn.NullLogger);let i=hC(t)?new Zc(t):t,s=gC(e)?new eu(e):e;return Tn.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),Tn.createMessageConnection(i,s,n,r)}Ce.createMessageConnection=pC});var tu=T((HO,dg)=>{"use strict";dg.exports=_i()});var mr=T((fg,Is)=>{(function(t){if(typeof Is=="object"&&typeof Is.exports=="object"){var e=t(require,fg);e!==void 0&&(Is.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=void 0;var n;(function(g){g.MIN_VALUE=-2147483648,g.MAX_VALUE=2147483647})(n=e.integer||(e.integer={}));var r;(function(g){g.MIN_VALUE=0,g.MAX_VALUE=2147483647})(r=e.uinteger||(e.uinteger={}));var i;(function(g){function b(u,l){return u===Number.MAX_VALUE&&(u=r.MAX_VALUE),l===Number.MAX_VALUE&&(l=r.MAX_VALUE),{line:u,character:l}}g.create=b;function D(u){var l=u;return _.objectLiteral(l)&&_.uinteger(l.line)&&_.uinteger(l.character)}g.is=D})(i=e.Position||(e.Position={}));var s;(function(g){function b(u,l,S,E){if(_.uinteger(u)&&_.uinteger(l)&&_.uinteger(S)&&_.uinteger(E))return{start:i.create(u,l),end:i.create(S,E)};if(i.is(u)&&i.is(l))return{start:u,end:l};throw new Error("Range#create called with invalid arguments["+u+", "+l+", "+S+", "+E+"]")}g.create=b;function D(u){var l=u;return _.objectLiteral(l)&&i.is(l.start)&&i.is(l.end)}g.is=D})(s=e.Range||(e.Range={}));var o;(function(g){function b(u,l){return{uri:u,range:l}}g.create=b;function D(u){var l=u;return _.defined(l)&&s.is(l.range)&&(_.string(l.uri)||_.undefined(l.uri))}g.is=D})(o=e.Location||(e.Location={}));var c;(function(g){function b(u,l,S,E){return{targetUri:u,targetRange:l,targetSelectionRange:S,originSelectionRange:E}}g.create=b;function D(u){var l=u;return _.defined(l)&&s.is(l.targetRange)&&_.string(l.targetUri)&&(s.is(l.targetSelectionRange)||_.undefined(l.targetSelectionRange))&&(s.is(l.originSelectionRange)||_.undefined(l.originSelectionRange))}g.is=D})(c=e.LocationLink||(e.LocationLink={}));var a;(function(g){function b(u,l,S,E){return{red:u,green:l,blue:S,alpha:E}}g.create=b;function D(u){var l=u;return _.numberRange(l.red,0,1)&&_.numberRange(l.green,0,1)&&_.numberRange(l.blue,0,1)&&_.numberRange(l.alpha,0,1)}g.is=D})(a=e.Color||(e.Color={}));var d;(function(g){function b(u,l){return{range:u,color:l}}g.create=b;function D(u){var l=u;return s.is(l.range)&&a.is(l.color)}g.is=D})(d=e.ColorInformation||(e.ColorInformation={}));var h;(function(g){function b(u,l,S){return{label:u,textEdit:l,additionalTextEdits:S}}g.create=b;function D(u){var l=u;return _.string(l.label)&&(_.undefined(l.textEdit)||q.is(l))&&(_.undefined(l.additionalTextEdits)||_.typedArray(l.additionalTextEdits,q.is))}g.is=D})(h=e.ColorPresentation||(e.ColorPresentation={}));var p;(function(g){g.Comment="comment",g.Imports="imports",g.Region="region"})(p=e.FoldingRangeKind||(e.FoldingRangeKind={}));var m;(function(g){function b(u,l,S,E,$){var V={startLine:u,endLine:l};return _.defined(S)&&(V.startCharacter=S),_.defined(E)&&(V.endCharacter=E),_.defined($)&&(V.kind=$),V}g.create=b;function D(u){var l=u;return _.uinteger(l.startLine)&&_.uinteger(l.startLine)&&(_.undefined(l.startCharacter)||_.uinteger(l.startCharacter))&&(_.undefined(l.endCharacter)||_.uinteger(l.endCharacter))&&(_.undefined(l.kind)||_.string(l.kind))}g.is=D})(m=e.FoldingRange||(e.FoldingRange={}));var v;(function(g){function b(u,l){return{location:u,message:l}}g.create=b;function D(u){var l=u;return _.defined(l)&&o.is(l.location)&&_.string(l.message)}g.is=D})(v=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var O;(function(g){g.Error=1,g.Warning=2,g.Information=3,g.Hint=4})(O=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var F;(function(g){g.Unnecessary=1,g.Deprecated=2})(F=e.DiagnosticTag||(e.DiagnosticTag={}));var N;(function(g){function b(D){var u=D;return u!=null&&_.string(u.href)}g.is=b})(N=e.CodeDescription||(e.CodeDescription={}));var w;(function(g){function b(u,l,S,E,$,V){var oe={range:u,message:l};return _.defined(S)&&(oe.severity=S),_.defined(E)&&(oe.code=E),_.defined($)&&(oe.source=$),_.defined(V)&&(oe.relatedInformation=V),oe}g.create=b;function D(u){var l,S=u;return _.defined(S)&&s.is(S.range)&&_.string(S.message)&&(_.number(S.severity)||_.undefined(S.severity))&&(_.integer(S.code)||_.string(S.code)||_.undefined(S.code))&&(_.undefined(S.codeDescription)||_.string((l=S.codeDescription)===null||l===void 0?void 0:l.href))&&(_.string(S.source)||_.undefined(S.source))&&(_.undefined(S.relatedInformation)||_.typedArray(S.relatedInformation,v.is))}g.is=D})(w=e.Diagnostic||(e.Diagnostic={}));var C;(function(g){function b(u,l){for(var S=[],E=2;E<arguments.length;E++)S[E-2]=arguments[E];var $={title:u,command:l};return _.defined(S)&&S.length>0&&($.arguments=S),$}g.create=b;function D(u){var l=u;return _.defined(l)&&_.string(l.title)&&_.string(l.command)}g.is=D})(C=e.Command||(e.Command={}));var q;(function(g){function b(S,E){return{range:S,newText:E}}g.replace=b;function D(S,E){return{range:{start:S,end:S},newText:E}}g.insert=D;function u(S){return{range:S,newText:""}}g.del=u;function l(S){var E=S;return _.objectLiteral(E)&&_.string(E.newText)&&s.is(E.range)}g.is=l})(q=e.TextEdit||(e.TextEdit={}));var k;(function(g){function b(u,l,S){var E={label:u};return l!==void 0&&(E.needsConfirmation=l),S!==void 0&&(E.description=S),E}g.create=b;function D(u){var l=u;return l!==void 0&&_.objectLiteral(l)&&_.string(l.label)&&(_.boolean(l.needsConfirmation)||l.needsConfirmation===void 0)&&(_.string(l.description)||l.description===void 0)}g.is=D})(k=e.ChangeAnnotation||(e.ChangeAnnotation={}));var A;(function(g){function b(D){var u=D;return typeof u=="string"}g.is=b})(A=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var Y;(function(g){function b(S,E,$){return{range:S,newText:E,annotationId:$}}g.replace=b;function D(S,E,$){return{range:{start:S,end:S},newText:E,annotationId:$}}g.insert=D;function u(S,E){return{range:S,newText:"",annotationId:E}}g.del=u;function l(S){var E=S;return q.is(E)&&(k.is(E.annotationId)||A.is(E.annotationId))}g.is=l})(Y=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var le;(function(g){function b(u,l){return{textDocument:u,edits:l}}g.create=b;function D(u){var l=u;return _.defined(l)&&ne.is(l.textDocument)&&Array.isArray(l.edits)}g.is=D})(le=e.TextDocumentEdit||(e.TextDocumentEdit={}));var ye;(function(g){function b(u,l,S){var E={kind:"create",uri:u};return l!==void 0&&(l.overwrite!==void 0||l.ignoreIfExists!==void 0)&&(E.options=l),S!==void 0&&(E.annotationId=S),E}g.create=b;function D(u){var l=u;return l&&l.kind==="create"&&_.string(l.uri)&&(l.options===void 0||(l.options.overwrite===void 0||_.boolean(l.options.overwrite))&&(l.options.ignoreIfExists===void 0||_.boolean(l.options.ignoreIfExists)))&&(l.annotationId===void 0||A.is(l.annotationId))}g.is=D})(ye=e.CreateFile||(e.CreateFile={}));var ke;(function(g){function b(u,l,S,E){var $={kind:"rename",oldUri:u,newUri:l};return S!==void 0&&(S.overwrite!==void 0||S.ignoreIfExists!==void 0)&&($.options=S),E!==void 0&&($.annotationId=E),$}g.create=b;function D(u){var l=u;return l&&l.kind==="rename"&&_.string(l.oldUri)&&_.string(l.newUri)&&(l.options===void 0||(l.options.overwrite===void 0||_.boolean(l.options.overwrite))&&(l.options.ignoreIfExists===void 0||_.boolean(l.options.ignoreIfExists)))&&(l.annotationId===void 0||A.is(l.annotationId))}g.is=D})(ke=e.RenameFile||(e.RenameFile={}));var W;(function(g){function b(u,l,S){var E={kind:"delete",uri:u};return l!==void 0&&(l.recursive!==void 0||l.ignoreIfNotExists!==void 0)&&(E.options=l),S!==void 0&&(E.annotationId=S),E}g.create=b;function D(u){var l=u;return l&&l.kind==="delete"&&_.string(l.uri)&&(l.options===void 0||(l.options.recursive===void 0||_.boolean(l.options.recursive))&&(l.options.ignoreIfNotExists===void 0||_.boolean(l.options.ignoreIfNotExists)))&&(l.annotationId===void 0||A.is(l.annotationId))}g.is=D})(W=e.DeleteFile||(e.DeleteFile={}));var x;(function(g){function b(D){var u=D;return u&&(u.changes!==void 0||u.documentChanges!==void 0)&&(u.documentChanges===void 0||u.documentChanges.every(function(l){return _.string(l.kind)?ye.is(l)||ke.is(l)||W.is(l):le.is(l)}))}g.is=b})(x=e.WorkspaceEdit||(e.WorkspaceEdit={}));var L=function(){function g(b,D){this.edits=b,this.changeAnnotations=D}return g.prototype.insert=function(b,D,u){var l,S;if(u===void 0?l=q.insert(b,D):A.is(u)?(S=u,l=Y.insert(b,D,u)):(this.assertChangeAnnotations(this.changeAnnotations),S=this.changeAnnotations.manage(u),l=Y.insert(b,D,S)),this.edits.push(l),S!==void 0)return S},g.prototype.replace=function(b,D,u){var l,S;if(u===void 0?l=q.replace(b,D):A.is(u)?(S=u,l=Y.replace(b,D,u)):(this.assertChangeAnnotations(this.changeAnnotations),S=this.changeAnnotations.manage(u),l=Y.replace(b,D,S)),this.edits.push(l),S!==void 0)return S},g.prototype.delete=function(b,D){var u,l;if(D===void 0?u=q.del(b):A.is(D)?(l=D,u=Y.del(b,D)):(this.assertChangeAnnotations(this.changeAnnotations),l=this.changeAnnotations.manage(D),u=Y.del(b,l)),this.edits.push(u),l!==void 0)return l},g.prototype.add=function(b){this.edits.push(b)},g.prototype.all=function(){return this.edits},g.prototype.clear=function(){this.edits.splice(0,this.edits.length)},g.prototype.assertChangeAnnotations=function(b){if(b===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},g}(),z=function(){function g(b){this._annotations=b===void 0?Object.create(null):b,this._counter=0,this._size=0}return g.prototype.all=function(){return this._annotations},Object.defineProperty(g.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),g.prototype.manage=function(b,D){var u;if(A.is(b)?u=b:(u=this.nextId(),D=b),this._annotations[u]!==void 0)throw new Error("Id "+u+" is already in use.");if(D===void 0)throw new Error("No annotation provided for id "+u);return this._annotations[u]=D,this._size++,u},g.prototype.nextId=function(){return this._counter++,this._counter.toString()},g}(),fe=function(){function g(b){var D=this;this._textEditChanges=Object.create(null),b!==void 0?(this._workspaceEdit=b,b.documentChanges?(this._changeAnnotations=new z(b.changeAnnotations),b.changeAnnotations=this._changeAnnotations.all(),b.documentChanges.forEach(function(u){if(le.is(u)){var l=new L(u.edits,D._changeAnnotations);D._textEditChanges[u.textDocument.uri]=l}})):b.changes&&Object.keys(b.changes).forEach(function(u){var l=new L(b.changes[u]);D._textEditChanges[u]=l})):this._workspaceEdit={}}return Object.defineProperty(g.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),g.prototype.getTextEditChange=function(b){if(ne.is(b)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var D={uri:b.uri,version:b.version},u=this._textEditChanges[D.uri];if(!u){var l=[],S={textDocument:D,edits:l};this._workspaceEdit.documentChanges.push(S),u=new L(l,this._changeAnnotations),this._textEditChanges[D.uri]=u}return u}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var u=this._textEditChanges[b];if(!u){var l=[];this._workspaceEdit.changes[b]=l,u=new L(l),this._textEditChanges[b]=u}return u}},g.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new z,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},g.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},g.prototype.createFile=function(b,D,u){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var l;k.is(D)||A.is(D)?l=D:u=D;var S,E;if(l===void 0?S=ye.create(b,u):(E=A.is(l)?l:this._changeAnnotations.manage(l),S=ye.create(b,u,E)),this._workspaceEdit.documentChanges.push(S),E!==void 0)return E},g.prototype.renameFile=function(b,D,u,l){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S;k.is(u)||A.is(u)?S=u:l=u;var E,$;if(S===void 0?E=ke.create(b,D,l):($=A.is(S)?S:this._changeAnnotations.manage(S),E=ke.create(b,D,l,$)),this._workspaceEdit.documentChanges.push(E),$!==void 0)return $},g.prototype.deleteFile=function(b,D,u){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var l;k.is(D)||A.is(D)?l=D:u=D;var S,E;if(l===void 0?S=W.create(b,u):(E=A.is(l)?l:this._changeAnnotations.manage(l),S=W.create(b,u,E)),this._workspaceEdit.documentChanges.push(S),E!==void 0)return E},g}();e.WorkspaceChange=fe;var ee;(function(g){function b(u){return{uri:u}}g.create=b;function D(u){var l=u;return _.defined(l)&&_.string(l.uri)}g.is=D})(ee=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var de;(function(g){function b(u,l){return{uri:u,version:l}}g.create=b;function D(u){var l=u;return _.defined(l)&&_.string(l.uri)&&_.integer(l.version)}g.is=D})(de=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var ne;(function(g){function b(u,l){return{uri:u,version:l}}g.create=b;function D(u){var l=u;return _.defined(l)&&_.string(l.uri)&&(l.version===null||_.integer(l.version))}g.is=D})(ne=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var Ie;(function(g){function b(u,l,S,E){return{uri:u,languageId:l,version:S,text:E}}g.create=b;function D(u){var l=u;return _.defined(l)&&_.string(l.uri)&&_.string(l.languageId)&&_.integer(l.version)&&_.string(l.text)}g.is=D})(Ie=e.TextDocumentItem||(e.TextDocumentItem={}));var Te;(function(g){g.PlainText="plaintext",g.Markdown="markdown"})(Te=e.MarkupKind||(e.MarkupKind={})),function(g){function b(D){var u=D;return u===g.PlainText||u===g.Markdown}g.is=b}(Te=e.MarkupKind||(e.MarkupKind={}));var tt;(function(g){function b(D){var u=D;return _.objectLiteral(D)&&Te.is(u.kind)&&_.string(u.value)}g.is=b})(tt=e.MarkupContent||(e.MarkupContent={}));var Ze;(function(g){g.Text=1,g.Method=2,g.Function=3,g.Constructor=4,g.Field=5,g.Variable=6,g.Class=7,g.Interface=8,g.Module=9,g.Property=10,g.Unit=11,g.Value=12,g.Enum=13,g.Keyword=14,g.Snippet=15,g.Color=16,g.File=17,g.Reference=18,g.Folder=19,g.EnumMember=20,g.Constant=21,g.Struct=22,g.Event=23,g.Operator=24,g.TypeParameter=25})(Ze=e.CompletionItemKind||(e.CompletionItemKind={}));var cn;(function(g){g.PlainText=1,g.Snippet=2})(cn=e.InsertTextFormat||(e.InsertTextFormat={}));var ar;(function(g){g.Deprecated=1})(ar=e.CompletionItemTag||(e.CompletionItemTag={}));var cr;(function(g){function b(u,l,S){return{newText:u,insert:l,replace:S}}g.create=b;function D(u){var l=u;return l&&_.string(l.newText)&&s.is(l.insert)&&s.is(l.replace)}g.is=D})(cr=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var Hn;(function(g){g.asIs=1,g.adjustIndentation=2})(Hn=e.InsertTextMode||(e.InsertTextMode={}));var zn;(function(g){function b(D){return{label:D}}g.create=b})(zn=e.CompletionItem||(e.CompletionItem={}));var Pn;(function(g){function b(D,u){return{items:D||[],isIncomplete:!!u}}g.create=b})(Pn=e.CompletionList||(e.CompletionList={}));var Dn;(function(g){function b(u){return u.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}g.fromPlainText=b;function D(u){var l=u;return _.string(l)||_.objectLiteral(l)&&_.string(l.language)&&_.string(l.value)}g.is=D})(Dn=e.MarkedString||(e.MarkedString={}));var Kn;(function(g){function b(D){var u=D;return!!u&&_.objectLiteral(u)&&(tt.is(u.contents)||Dn.is(u.contents)||_.typedArray(u.contents,Dn.is))&&(D.range===void 0||s.is(D.range))}g.is=b})(Kn=e.Hover||(e.Hover={}));var ur;(function(g){function b(D,u){return u?{label:D,documentation:u}:{label:D}}g.create=b})(ur=e.ParameterInformation||(e.ParameterInformation={}));var Ir;(function(g){function b(D,u){for(var l=[],S=2;S<arguments.length;S++)l[S-2]=arguments[S];var E={label:D};return _.defined(u)&&(E.documentation=u),_.defined(l)?E.parameters=l:E.parameters=[],E}g.create=b})(Ir=e.SignatureInformation||(e.SignatureInformation={}));var $t;(function(g){g.Text=1,g.Read=2,g.Write=3})($t=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var lr;(function(g){function b(D,u){var l={range:D};return _.number(u)&&(l.kind=u),l}g.create=b})(lr=e.DocumentHighlight||(e.DocumentHighlight={}));var Ht;(function(g){g.File=1,g.Module=2,g.Namespace=3,g.Package=4,g.Class=5,g.Method=6,g.Property=7,g.Field=8,g.Constructor=9,g.Enum=10,g.Interface=11,g.Function=12,g.Variable=13,g.Constant=14,g.String=15,g.Number=16,g.Boolean=17,g.Array=18,g.Object=19,g.Key=20,g.Null=21,g.EnumMember=22,g.Struct=23,g.Event=24,g.Operator=25,g.TypeParameter=26})(Ht=e.SymbolKind||(e.SymbolKind={}));var Nr;(function(g){g.Deprecated=1})(Nr=e.SymbolTag||(e.SymbolTag={}));var ze;(function(g){function b(D,u,l,S,E){var $={name:D,kind:u,location:{uri:S,range:l}};return E&&($.containerName=E),$}g.create=b})(ze=e.SymbolInformation||(e.SymbolInformation={}));var St;(function(g){function b(u,l,S,E,$,V){var oe={name:u,detail:l,kind:S,range:E,selectionRange:$};return V!==void 0&&(oe.children=V),oe}g.create=b;function D(u){var l=u;return l&&_.string(l.name)&&_.number(l.kind)&&s.is(l.range)&&s.is(l.selectionRange)&&(l.detail===void 0||_.string(l.detail))&&(l.deprecated===void 0||_.boolean(l.deprecated))&&(l.children===void 0||Array.isArray(l.children))&&(l.tags===void 0||Array.isArray(l.tags))}g.is=D})(St=e.DocumentSymbol||(e.DocumentSymbol={}));var dr;(function(g){g.Empty="",g.QuickFix="quickfix",g.Refactor="refactor",g.RefactorExtract="refactor.extract",g.RefactorInline="refactor.inline",g.RefactorRewrite="refactor.rewrite",g.Source="source",g.SourceOrganizeImports="source.organizeImports",g.SourceFixAll="source.fixAll"})(dr=e.CodeActionKind||(e.CodeActionKind={}));var Ar;(function(g){function b(u,l){var S={diagnostics:u};return l!=null&&(S.only=l),S}g.create=b;function D(u){var l=u;return _.defined(l)&&_.typedArray(l.diagnostics,w.is)&&(l.only===void 0||_.typedArray(l.only,_.string))}g.is=D})(Ar=e.CodeActionContext||(e.CodeActionContext={}));var zt;(function(g){function b(u,l,S){var E={title:u},$=!0;return typeof l=="string"?($=!1,E.kind=l):C.is(l)?E.command=l:E.edit=l,$&&S!==void 0&&(E.kind=S),E}g.create=b;function D(u){var l=u;return l&&_.string(l.title)&&(l.diagnostics===void 0||_.typedArray(l.diagnostics,w.is))&&(l.kind===void 0||_.string(l.kind))&&(l.edit!==void 0||l.command!==void 0)&&(l.command===void 0||C.is(l.command))&&(l.isPreferred===void 0||_.boolean(l.isPreferred))&&(l.edit===void 0||x.is(l.edit))}g.is=D})(zt=e.CodeAction||(e.CodeAction={}));var fr;(function(g){function b(u,l){var S={range:u};return _.defined(l)&&(S.data=l),S}g.create=b;function D(u){var l=u;return _.defined(l)&&s.is(l.range)&&(_.undefined(l.command)||C.is(l.command))}g.is=D})(fr=e.CodeLens||(e.CodeLens={}));var Un;(function(g){function b(u,l){return{tabSize:u,insertSpaces:l}}g.create=b;function D(u){var l=u;return _.defined(l)&&_.uinteger(l.tabSize)&&_.boolean(l.insertSpaces)}g.is=D})(Un=e.FormattingOptions||(e.FormattingOptions={}));var Kt;(function(g){function b(u,l,S){return{range:u,target:l,data:S}}g.create=b;function D(u){var l=u;return _.defined(l)&&s.is(l.range)&&(_.undefined(l.target)||_.string(l.target))}g.is=D})(Kt=e.DocumentLink||(e.DocumentLink={}));var Bn;(function(g){function b(u,l){return{range:u,parent:l}}g.create=b;function D(u){var l=u;return l!==void 0&&s.is(l.range)&&(l.parent===void 0||g.is(l.parent))}g.is=D})(Bn=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var Ut;(function(g){function b(S,E,$,V){return new P(S,E,$,V)}g.create=b;function D(S){var E=S;return!!(_.defined(E)&&_.string(E.uri)&&(_.undefined(E.languageId)||_.string(E.languageId))&&_.uinteger(E.lineCount)&&_.func(E.getText)&&_.func(E.positionAt)&&_.func(E.offsetAt))}g.is=D;function u(S,E){for(var $=S.getText(),V=l(E,function(hr,jr){var gs=hr.range.start.line-jr.range.start.line;return gs===0?hr.range.start.character-jr.range.start.character:gs}),oe=$.length,qe=V.length-1;qe>=0;qe--){var Ke=V[qe],Ue=S.offsetAt(Ke.range.start),ve=S.offsetAt(Ke.range.end);if(ve<=oe)$=$.substring(0,Ue)+Ke.newText+$.substring(ve,$.length);else throw new Error("Overlapping edit");oe=Ue}return $}g.applyEdits=u;function l(S,E){if(S.length<=1)return S;var $=S.length/2|0,V=S.slice(0,$),oe=S.slice($);l(V,E),l(oe,E);for(var qe=0,Ke=0,Ue=0;qe<V.length&&Ke<oe.length;){var ve=E(V[qe],oe[Ke]);ve<=0?S[Ue++]=V[qe++]:S[Ue++]=oe[Ke++]}for(;qe<V.length;)S[Ue++]=V[qe++];for(;Ke<oe.length;)S[Ue++]=oe[Ke++];return S}})(Ut=e.TextDocument||(e.TextDocument={}));var P=function(){function g(b,D,u,l){this._uri=b,this._languageId=D,this._version=u,this._content=l,this._lineOffsets=void 0}return Object.defineProperty(g.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),g.prototype.getText=function(b){if(b){var D=this.offsetAt(b.start),u=this.offsetAt(b.end);return this._content.substring(D,u)}return this._content},g.prototype.update=function(b,D){this._content=b.text,this._version=D,this._lineOffsets=void 0},g.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var b=[],D=this._content,u=!0,l=0;l<D.length;l++){u&&(b.push(l),u=!1);var S=D.charAt(l);u=S==="\r"||S===`
`,S==="\r"&&l+1<D.length&&D.charAt(l+1)===`
`&&l++}u&&D.length>0&&b.push(D.length),this._lineOffsets=b}return this._lineOffsets},g.prototype.positionAt=function(b){b=Math.max(Math.min(b,this._content.length),0);var D=this.getLineOffsets(),u=0,l=D.length;if(l===0)return i.create(0,b);for(;u<l;){var S=Math.floor((u+l)/2);D[S]>b?l=S:u=S+1}var E=u-1;return i.create(E,b-D[E])},g.prototype.offsetAt=function(b){var D=this.getLineOffsets();if(b.line>=D.length)return this._content.length;if(b.line<0)return 0;var u=D[b.line],l=b.line+1<D.length?D[b.line+1]:this._content.length;return Math.max(Math.min(u+b.character,l),u)},Object.defineProperty(g.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),g}(),_;(function(g){var b=Object.prototype.toString;function D(ve){return typeof ve!="undefined"}g.defined=D;function u(ve){return typeof ve=="undefined"}g.undefined=u;function l(ve){return ve===!0||ve===!1}g.boolean=l;function S(ve){return b.call(ve)==="[object String]"}g.string=S;function E(ve){return b.call(ve)==="[object Number]"}g.number=E;function $(ve,hr,jr){return b.call(ve)==="[object Number]"&&hr<=ve&&ve<=jr}g.numberRange=$;function V(ve){return b.call(ve)==="[object Number]"&&-2147483648<=ve&&ve<=2147483647}g.integer=V;function oe(ve){return b.call(ve)==="[object Number]"&&0<=ve&&ve<=2147483647}g.uinteger=oe;function qe(ve){return b.call(ve)==="[object Function]"}g.func=qe;function Ke(ve){return ve!==null&&typeof ve=="object"}g.objectLiteral=Ke;function Ue(ve,hr){return Array.isArray(ve)&&ve.every(hr)}g.typedArray=Ue})(_||(_={}))})});var it=T(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.ProtocolNotificationType=Vt.ProtocolNotificationType0=Vt.ProtocolRequestType=Vt.ProtocolRequestType0=Vt.RegistrationType=void 0;var wi=_i(),hg=class{constructor(e){this.method=e}};Vt.RegistrationType=hg;var gg=class extends wi.RequestType0{constructor(e){super(e)}};Vt.ProtocolRequestType0=gg;var pg=class extends wi.RequestType{constructor(e){super(e,wi.ParameterStructures.byName)}};Vt.ProtocolRequestType=pg;var mg=class extends wi.NotificationType0{constructor(e){super(e)}};Vt.ProtocolNotificationType0=mg;var vg=class extends wi.NotificationType{constructor(e){super(e,wi.ParameterStructures.byName)}};Vt.ProtocolNotificationType=vg});var wg=T(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.objectLiteral=Ve.typedArray=Ve.stringArray=Ve.array=Ve.func=Ve.error=Ve.number=Ve.string=Ve.boolean=void 0;function mC(t){return t===!0||t===!1}Ve.boolean=mC;function yg(t){return typeof t=="string"||t instanceof String}Ve.string=yg;function vC(t){return typeof t=="number"||t instanceof Number}Ve.number=vC;function yC(t){return t instanceof Error}Ve.error=yC;function _C(t){return typeof t=="function"}Ve.func=_C;function _g(t){return Array.isArray(t)}Ve.array=_g;function wC(t){return _g(t)&&t.every(e=>yg(e))}Ve.stringArray=wC;function bC(t,e){return Array.isArray(t)&&t.every(e)}Ve.typedArray=bC;function RC(t){return t!==null&&typeof t=="object"}Ve.objectLiteral=RC});var bg=T(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});Po.ImplementationRequest=void 0;var CC=it(),SC;(function(t){t.method="textDocument/implementation",t.type=new CC.ProtocolRequestType(t.method)})(SC=Po.ImplementationRequest||(Po.ImplementationRequest={}))});var Rg=T(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.TypeDefinitionRequest=void 0;var PC=it(),DC;(function(t){t.method="textDocument/typeDefinition",t.type=new PC.ProtocolRequestType(t.method)})(DC=Do.TypeDefinitionRequest||(Do.TypeDefinitionRequest={}))});var Sg=T(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.DidChangeWorkspaceFoldersNotification=vr.WorkspaceFoldersRequest=void 0;var Cg=it(),TC;(function(t){t.type=new Cg.ProtocolRequestType0("workspace/workspaceFolders")})(TC=vr.WorkspaceFoldersRequest||(vr.WorkspaceFoldersRequest={}));var qC;(function(t){t.type=new Cg.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(qC=vr.DidChangeWorkspaceFoldersNotification||(vr.DidChangeWorkspaceFoldersNotification={}))});var Pg=T(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});To.ConfigurationRequest=void 0;var EC=it(),OC;(function(t){t.type=new EC.ProtocolRequestType("workspace/configuration")})(OC=To.ConfigurationRequest||(To.ConfigurationRequest={}))});var Tg=T(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.ColorPresentationRequest=yr.DocumentColorRequest=void 0;var Dg=it(),FC;(function(t){t.method="textDocument/documentColor",t.type=new Dg.ProtocolRequestType(t.method)})(FC=yr.DocumentColorRequest||(yr.DocumentColorRequest={}));var kC;(function(t){t.type=new Dg.ProtocolRequestType("textDocument/colorPresentation")})(kC=yr.ColorPresentationRequest||(yr.ColorPresentationRequest={}))});var qg=T(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.FoldingRangeRequest=_r.FoldingRangeKind=void 0;var MC=it(),xC;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(xC=_r.FoldingRangeKind||(_r.FoldingRangeKind={}));var IC;(function(t){t.method="textDocument/foldingRange",t.type=new MC.ProtocolRequestType(t.method)})(IC=_r.FoldingRangeRequest||(_r.FoldingRangeRequest={}))});var Eg=T(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.DeclarationRequest=void 0;var NC=it(),AC;(function(t){t.method="textDocument/declaration",t.type=new NC.ProtocolRequestType(t.method)})(AC=qo.DeclarationRequest||(qo.DeclarationRequest={}))});var Og=T(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.SelectionRangeRequest=void 0;var jC=it(),LC;(function(t){t.method="textDocument/selectionRange",t.type=new jC.ProtocolRequestType(t.method)})(LC=Eo.SelectionRangeRequest||(Eo.SelectionRangeRequest={}))});var kg=T(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.WorkDoneProgressCancelNotification=fn.WorkDoneProgressCreateRequest=fn.WorkDoneProgress=void 0;var WC=_i(),Fg=it(),$C;(function(t){t.type=new WC.ProgressType;function e(n){return n===t.type}t.is=e})($C=fn.WorkDoneProgress||(fn.WorkDoneProgress={}));var HC;(function(t){t.type=new Fg.ProtocolRequestType("window/workDoneProgress/create")})(HC=fn.WorkDoneProgressCreateRequest||(fn.WorkDoneProgressCreateRequest={}));var zC;(function(t){t.type=new Fg.ProtocolNotificationType("window/workDoneProgress/cancel")})(zC=fn.WorkDoneProgressCancelNotification||(fn.WorkDoneProgressCancelNotification={}))});var Mg=T(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.CallHierarchyOutgoingCallsRequest=hn.CallHierarchyIncomingCallsRequest=hn.CallHierarchyPrepareRequest=void 0;var nu=it(),KC;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new nu.ProtocolRequestType(t.method)})(KC=hn.CallHierarchyPrepareRequest||(hn.CallHierarchyPrepareRequest={}));var UC;(function(t){t.method="callHierarchy/incomingCalls",t.type=new nu.ProtocolRequestType(t.method)})(UC=hn.CallHierarchyIncomingCallsRequest||(hn.CallHierarchyIncomingCallsRequest={}));var BC;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new nu.ProtocolRequestType(t.method)})(BC=hn.CallHierarchyOutgoingCallsRequest||(hn.CallHierarchyOutgoingCallsRequest={}))});var xg=T(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.SemanticTokensRefreshRequest=Ee.SemanticTokensRangeRequest=Ee.SemanticTokensDeltaRequest=Ee.SemanticTokensRequest=Ee.SemanticTokensRegistrationType=Ee.TokenFormat=Ee.SemanticTokens=Ee.SemanticTokenModifiers=Ee.SemanticTokenTypes=void 0;var Oo=it(),GC;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})(GC=Ee.SemanticTokenTypes||(Ee.SemanticTokenTypes={}));var XC;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(XC=Ee.SemanticTokenModifiers||(Ee.SemanticTokenModifiers={}));var VC;(function(t){function e(n){let r=n;return r!==void 0&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(VC=Ee.SemanticTokens||(Ee.SemanticTokens={}));var JC;(function(t){t.Relative="relative"})(JC=Ee.TokenFormat||(Ee.TokenFormat={}));var QC;(function(t){t.method="textDocument/semanticTokens",t.type=new Oo.RegistrationType(t.method)})(QC=Ee.SemanticTokensRegistrationType||(Ee.SemanticTokensRegistrationType={}));var YC;(function(t){t.method="textDocument/semanticTokens/full",t.type=new Oo.ProtocolRequestType(t.method)})(YC=Ee.SemanticTokensRequest||(Ee.SemanticTokensRequest={}));var ZC;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new Oo.ProtocolRequestType(t.method)})(ZC=Ee.SemanticTokensDeltaRequest||(Ee.SemanticTokensDeltaRequest={}));var eS;(function(t){t.method="textDocument/semanticTokens/range",t.type=new Oo.ProtocolRequestType(t.method)})(eS=Ee.SemanticTokensRangeRequest||(Ee.SemanticTokensRangeRequest={}));var tS;(function(t){t.method="workspace/semanticTokens/refresh",t.type=new Oo.ProtocolRequestType0(t.method)})(tS=Ee.SemanticTokensRefreshRequest||(Ee.SemanticTokensRefreshRequest={}))});var Ig=T(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.ShowDocumentRequest=void 0;var nS=it(),rS;(function(t){t.method="window/showDocument",t.type=new nS.ProtocolRequestType(t.method)})(rS=Fo.ShowDocumentRequest||(Fo.ShowDocumentRequest={}))});var Ng=T(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.LinkedEditingRangeRequest=void 0;var iS=it(),oS;(function(t){t.method="textDocument/linkedEditingRange",t.type=new iS.ProtocolRequestType(t.method)})(oS=ko.LinkedEditingRangeRequest||(ko.LinkedEditingRangeRequest={}))});var Ag=T(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.WillDeleteFilesRequest=We.DidDeleteFilesNotification=We.DidRenameFilesNotification=We.WillRenameFilesRequest=We.DidCreateFilesNotification=We.WillCreateFilesRequest=We.FileOperationPatternKind=void 0;var bi=it(),sS;(function(t){t.file="file",t.folder="folder"})(sS=We.FileOperationPatternKind||(We.FileOperationPatternKind={}));var aS;(function(t){t.method="workspace/willCreateFiles",t.type=new bi.ProtocolRequestType(t.method)})(aS=We.WillCreateFilesRequest||(We.WillCreateFilesRequest={}));var cS;(function(t){t.method="workspace/didCreateFiles",t.type=new bi.ProtocolNotificationType(t.method)})(cS=We.DidCreateFilesNotification||(We.DidCreateFilesNotification={}));var uS;(function(t){t.method="workspace/willRenameFiles",t.type=new bi.ProtocolRequestType(t.method)})(uS=We.WillRenameFilesRequest||(We.WillRenameFilesRequest={}));var lS;(function(t){t.method="workspace/didRenameFiles",t.type=new bi.ProtocolNotificationType(t.method)})(lS=We.DidRenameFilesNotification||(We.DidRenameFilesNotification={}));var dS;(function(t){t.method="workspace/didDeleteFiles",t.type=new bi.ProtocolNotificationType(t.method)})(dS=We.DidDeleteFilesNotification||(We.DidDeleteFilesNotification={}));var fS;(function(t){t.method="workspace/willDeleteFiles",t.type=new bi.ProtocolRequestType(t.method)})(fS=We.WillDeleteFilesRequest||(We.WillDeleteFilesRequest={}))});var jg=T(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.MonikerRequest=gn.MonikerKind=gn.UniquenessLevel=void 0;var hS=it(),gS;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(gS=gn.UniquenessLevel||(gn.UniquenessLevel={}));var pS;(function(t){t.import="import",t.export="export",t.local="local"})(pS=gn.MonikerKind||(gn.MonikerKind={}));var mS;(function(t){t.method="textDocument/moniker",t.type=new hS.ProtocolRequestType(t.method)})(mS=gn.MonikerRequest||(gn.MonikerRequest={}))});var zg=T(y=>{"use strict";Object.defineProperty(y,"__esModule",{value:!0});y.DocumentLinkRequest=y.CodeLensRefreshRequest=y.CodeLensResolveRequest=y.CodeLensRequest=y.WorkspaceSymbolRequest=y.CodeActionResolveRequest=y.CodeActionRequest=y.DocumentSymbolRequest=y.DocumentHighlightRequest=y.ReferencesRequest=y.DefinitionRequest=y.SignatureHelpRequest=y.SignatureHelpTriggerKind=y.HoverRequest=y.CompletionResolveRequest=y.CompletionRequest=y.CompletionTriggerKind=y.PublishDiagnosticsNotification=y.WatchKind=y.FileChangeType=y.DidChangeWatchedFilesNotification=y.WillSaveTextDocumentWaitUntilRequest=y.WillSaveTextDocumentNotification=y.TextDocumentSaveReason=y.DidSaveTextDocumentNotification=y.DidCloseTextDocumentNotification=y.DidChangeTextDocumentNotification=y.TextDocumentContentChangeEvent=y.DidOpenTextDocumentNotification=y.TextDocumentSyncKind=y.TelemetryEventNotification=y.LogMessageNotification=y.ShowMessageRequest=y.ShowMessageNotification=y.MessageType=y.DidChangeConfigurationNotification=y.ExitNotification=y.ShutdownRequest=y.InitializedNotification=y.InitializeError=y.InitializeRequest=y.WorkDoneProgressOptions=y.TextDocumentRegistrationOptions=y.StaticRegistrationOptions=y.FailureHandlingKind=y.ResourceOperationKind=y.UnregistrationRequest=y.RegistrationRequest=y.DocumentSelector=y.DocumentFilter=void 0;y.MonikerRequest=y.MonikerKind=y.UniquenessLevel=y.WillDeleteFilesRequest=y.DidDeleteFilesNotification=y.WillRenameFilesRequest=y.DidRenameFilesNotification=y.WillCreateFilesRequest=y.DidCreateFilesNotification=y.FileOperationPatternKind=y.LinkedEditingRangeRequest=y.ShowDocumentRequest=y.SemanticTokensRegistrationType=y.SemanticTokensRefreshRequest=y.SemanticTokensRangeRequest=y.SemanticTokensDeltaRequest=y.SemanticTokensRequest=y.TokenFormat=y.SemanticTokens=y.SemanticTokenModifiers=y.SemanticTokenTypes=y.CallHierarchyPrepareRequest=y.CallHierarchyOutgoingCallsRequest=y.CallHierarchyIncomingCallsRequest=y.WorkDoneProgressCancelNotification=y.WorkDoneProgressCreateRequest=y.WorkDoneProgress=y.SelectionRangeRequest=y.DeclarationRequest=y.FoldingRangeRequest=y.ColorPresentationRequest=y.DocumentColorRequest=y.ConfigurationRequest=y.DidChangeWorkspaceFoldersNotification=y.WorkspaceFoldersRequest=y.TypeDefinitionRequest=y.ImplementationRequest=y.ApplyWorkspaceEditRequest=y.ExecuteCommandRequest=y.PrepareRenameRequest=y.RenameRequest=y.PrepareSupportDefaultBehavior=y.DocumentOnTypeFormattingRequest=y.DocumentRangeFormattingRequest=y.DocumentFormattingRequest=y.DocumentLinkResolveRequest=void 0;var wr=wg(),se=it(),vS=bg();Object.defineProperty(y,"ImplementationRequest",{enumerable:!0,get:function(){return vS.ImplementationRequest}});var yS=Rg();Object.defineProperty(y,"TypeDefinitionRequest",{enumerable:!0,get:function(){return yS.TypeDefinitionRequest}});var Lg=Sg();Object.defineProperty(y,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return Lg.WorkspaceFoldersRequest}});Object.defineProperty(y,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return Lg.DidChangeWorkspaceFoldersNotification}});var _S=Pg();Object.defineProperty(y,"ConfigurationRequest",{enumerable:!0,get:function(){return _S.ConfigurationRequest}});var Wg=Tg();Object.defineProperty(y,"DocumentColorRequest",{enumerable:!0,get:function(){return Wg.DocumentColorRequest}});Object.defineProperty(y,"ColorPresentationRequest",{enumerable:!0,get:function(){return Wg.ColorPresentationRequest}});var wS=qg();Object.defineProperty(y,"FoldingRangeRequest",{enumerable:!0,get:function(){return wS.FoldingRangeRequest}});var bS=Eg();Object.defineProperty(y,"DeclarationRequest",{enumerable:!0,get:function(){return bS.DeclarationRequest}});var RS=Og();Object.defineProperty(y,"SelectionRangeRequest",{enumerable:!0,get:function(){return RS.SelectionRangeRequest}});var ru=kg();Object.defineProperty(y,"WorkDoneProgress",{enumerable:!0,get:function(){return ru.WorkDoneProgress}});Object.defineProperty(y,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return ru.WorkDoneProgressCreateRequest}});Object.defineProperty(y,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return ru.WorkDoneProgressCancelNotification}});var iu=Mg();Object.defineProperty(y,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return iu.CallHierarchyIncomingCallsRequest}});Object.defineProperty(y,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return iu.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(y,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return iu.CallHierarchyPrepareRequest}});var Zn=xg();Object.defineProperty(y,"SemanticTokenTypes",{enumerable:!0,get:function(){return Zn.SemanticTokenTypes}});Object.defineProperty(y,"SemanticTokenModifiers",{enumerable:!0,get:function(){return Zn.SemanticTokenModifiers}});Object.defineProperty(y,"SemanticTokens",{enumerable:!0,get:function(){return Zn.SemanticTokens}});Object.defineProperty(y,"TokenFormat",{enumerable:!0,get:function(){return Zn.TokenFormat}});Object.defineProperty(y,"SemanticTokensRequest",{enumerable:!0,get:function(){return Zn.SemanticTokensRequest}});Object.defineProperty(y,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Zn.SemanticTokensDeltaRequest}});Object.defineProperty(y,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Zn.SemanticTokensRangeRequest}});Object.defineProperty(y,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Zn.SemanticTokensRefreshRequest}});Object.defineProperty(y,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Zn.SemanticTokensRegistrationType}});var CS=Ig();Object.defineProperty(y,"ShowDocumentRequest",{enumerable:!0,get:function(){return CS.ShowDocumentRequest}});var SS=Ng();Object.defineProperty(y,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return SS.LinkedEditingRangeRequest}});var Jr=Ag();Object.defineProperty(y,"FileOperationPatternKind",{enumerable:!0,get:function(){return Jr.FileOperationPatternKind}});Object.defineProperty(y,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Jr.DidCreateFilesNotification}});Object.defineProperty(y,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Jr.WillCreateFilesRequest}});Object.defineProperty(y,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Jr.DidRenameFilesNotification}});Object.defineProperty(y,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Jr.WillRenameFilesRequest}});Object.defineProperty(y,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Jr.DidDeleteFilesNotification}});Object.defineProperty(y,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Jr.WillDeleteFilesRequest}});var ou=jg();Object.defineProperty(y,"UniquenessLevel",{enumerable:!0,get:function(){return ou.UniquenessLevel}});Object.defineProperty(y,"MonikerKind",{enumerable:!0,get:function(){return ou.MonikerKind}});Object.defineProperty(y,"MonikerRequest",{enumerable:!0,get:function(){return ou.MonikerRequest}});var $g;(function(t){function e(n){let r=n;return wr.string(r.language)||wr.string(r.scheme)||wr.string(r.pattern)}t.is=e})($g=y.DocumentFilter||(y.DocumentFilter={}));var Hg;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!wr.string(r)&&!$g.is(r))return!1;return!0}t.is=e})(Hg=y.DocumentSelector||(y.DocumentSelector={}));var PS;(function(t){t.type=new se.ProtocolRequestType("client/registerCapability")})(PS=y.RegistrationRequest||(y.RegistrationRequest={}));var DS;(function(t){t.type=new se.ProtocolRequestType("client/unregisterCapability")})(DS=y.UnregistrationRequest||(y.UnregistrationRequest={}));var TS;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(TS=y.ResourceOperationKind||(y.ResourceOperationKind={}));var qS;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(qS=y.FailureHandlingKind||(y.FailureHandlingKind={}));var ES;(function(t){function e(n){let r=n;return r&&wr.string(r.id)&&r.id.length>0}t.hasId=e})(ES=y.StaticRegistrationOptions||(y.StaticRegistrationOptions={}));var OS;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||Hg.is(r.documentSelector))}t.is=e})(OS=y.TextDocumentRegistrationOptions||(y.TextDocumentRegistrationOptions={}));var FS;(function(t){function e(r){let i=r;return wr.objectLiteral(i)&&(i.workDoneProgress===void 0||wr.boolean(i.workDoneProgress))}t.is=e;function n(r){let i=r;return i&&wr.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=n})(FS=y.WorkDoneProgressOptions||(y.WorkDoneProgressOptions={}));var kS;(function(t){t.type=new se.ProtocolRequestType("initialize")})(kS=y.InitializeRequest||(y.InitializeRequest={}));var MS;(function(t){t.unknownProtocolVersion=1})(MS=y.InitializeError||(y.InitializeError={}));var xS;(function(t){t.type=new se.ProtocolNotificationType("initialized")})(xS=y.InitializedNotification||(y.InitializedNotification={}));var IS;(function(t){t.type=new se.ProtocolRequestType0("shutdown")})(IS=y.ShutdownRequest||(y.ShutdownRequest={}));var NS;(function(t){t.type=new se.ProtocolNotificationType0("exit")})(NS=y.ExitNotification||(y.ExitNotification={}));var AS;(function(t){t.type=new se.ProtocolNotificationType("workspace/didChangeConfiguration")})(AS=y.DidChangeConfigurationNotification||(y.DidChangeConfigurationNotification={}));var jS;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(jS=y.MessageType||(y.MessageType={}));var LS;(function(t){t.type=new se.ProtocolNotificationType("window/showMessage")})(LS=y.ShowMessageNotification||(y.ShowMessageNotification={}));var WS;(function(t){t.type=new se.ProtocolRequestType("window/showMessageRequest")})(WS=y.ShowMessageRequest||(y.ShowMessageRequest={}));var $S;(function(t){t.type=new se.ProtocolNotificationType("window/logMessage")})($S=y.LogMessageNotification||(y.LogMessageNotification={}));var HS;(function(t){t.type=new se.ProtocolNotificationType("telemetry/event")})(HS=y.TelemetryEventNotification||(y.TelemetryEventNotification={}));var zS;(function(t){t.None=0,t.Full=1,t.Incremental=2})(zS=y.TextDocumentSyncKind||(y.TextDocumentSyncKind={}));var KS;(function(t){t.method="textDocument/didOpen",t.type=new se.ProtocolNotificationType(t.method)})(KS=y.DidOpenTextDocumentNotification||(y.DidOpenTextDocumentNotification={}));var US;(function(t){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=n})(US=y.TextDocumentContentChangeEvent||(y.TextDocumentContentChangeEvent={}));var BS;(function(t){t.method="textDocument/didChange",t.type=new se.ProtocolNotificationType(t.method)})(BS=y.DidChangeTextDocumentNotification||(y.DidChangeTextDocumentNotification={}));var GS;(function(t){t.method="textDocument/didClose",t.type=new se.ProtocolNotificationType(t.method)})(GS=y.DidCloseTextDocumentNotification||(y.DidCloseTextDocumentNotification={}));var XS;(function(t){t.method="textDocument/didSave",t.type=new se.ProtocolNotificationType(t.method)})(XS=y.DidSaveTextDocumentNotification||(y.DidSaveTextDocumentNotification={}));var VS;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(VS=y.TextDocumentSaveReason||(y.TextDocumentSaveReason={}));var JS;(function(t){t.method="textDocument/willSave",t.type=new se.ProtocolNotificationType(t.method)})(JS=y.WillSaveTextDocumentNotification||(y.WillSaveTextDocumentNotification={}));var QS;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new se.ProtocolRequestType(t.method)})(QS=y.WillSaveTextDocumentWaitUntilRequest||(y.WillSaveTextDocumentWaitUntilRequest={}));var YS;(function(t){t.type=new se.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(YS=y.DidChangeWatchedFilesNotification||(y.DidChangeWatchedFilesNotification={}));var ZS;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(ZS=y.FileChangeType||(y.FileChangeType={}));var eP;(function(t){t.Create=1,t.Change=2,t.Delete=4})(eP=y.WatchKind||(y.WatchKind={}));var tP;(function(t){t.type=new se.ProtocolNotificationType("textDocument/publishDiagnostics")})(tP=y.PublishDiagnosticsNotification||(y.PublishDiagnosticsNotification={}));var nP;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(nP=y.CompletionTriggerKind||(y.CompletionTriggerKind={}));var rP;(function(t){t.method="textDocument/completion",t.type=new se.ProtocolRequestType(t.method)})(rP=y.CompletionRequest||(y.CompletionRequest={}));var iP;(function(t){t.method="completionItem/resolve",t.type=new se.ProtocolRequestType(t.method)})(iP=y.CompletionResolveRequest||(y.CompletionResolveRequest={}));var oP;(function(t){t.method="textDocument/hover",t.type=new se.ProtocolRequestType(t.method)})(oP=y.HoverRequest||(y.HoverRequest={}));var sP;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(sP=y.SignatureHelpTriggerKind||(y.SignatureHelpTriggerKind={}));var aP;(function(t){t.method="textDocument/signatureHelp",t.type=new se.ProtocolRequestType(t.method)})(aP=y.SignatureHelpRequest||(y.SignatureHelpRequest={}));var cP;(function(t){t.method="textDocument/definition",t.type=new se.ProtocolRequestType(t.method)})(cP=y.DefinitionRequest||(y.DefinitionRequest={}));var uP;(function(t){t.method="textDocument/references",t.type=new se.ProtocolRequestType(t.method)})(uP=y.ReferencesRequest||(y.ReferencesRequest={}));var lP;(function(t){t.method="textDocument/documentHighlight",t.type=new se.ProtocolRequestType(t.method)})(lP=y.DocumentHighlightRequest||(y.DocumentHighlightRequest={}));var dP;(function(t){t.method="textDocument/documentSymbol",t.type=new se.ProtocolRequestType(t.method)})(dP=y.DocumentSymbolRequest||(y.DocumentSymbolRequest={}));var fP;(function(t){t.method="textDocument/codeAction",t.type=new se.ProtocolRequestType(t.method)})(fP=y.CodeActionRequest||(y.CodeActionRequest={}));var hP;(function(t){t.method="codeAction/resolve",t.type=new se.ProtocolRequestType(t.method)})(hP=y.CodeActionResolveRequest||(y.CodeActionResolveRequest={}));var gP;(function(t){t.method="workspace/symbol",t.type=new se.ProtocolRequestType(t.method)})(gP=y.WorkspaceSymbolRequest||(y.WorkspaceSymbolRequest={}));var pP;(function(t){t.method="textDocument/codeLens",t.type=new se.ProtocolRequestType(t.method)})(pP=y.CodeLensRequest||(y.CodeLensRequest={}));var mP;(function(t){t.method="codeLens/resolve",t.type=new se.ProtocolRequestType(t.method)})(mP=y.CodeLensResolveRequest||(y.CodeLensResolveRequest={}));var vP;(function(t){t.method="workspace/codeLens/refresh",t.type=new se.ProtocolRequestType0(t.method)})(vP=y.CodeLensRefreshRequest||(y.CodeLensRefreshRequest={}));var yP;(function(t){t.method="textDocument/documentLink",t.type=new se.ProtocolRequestType(t.method)})(yP=y.DocumentLinkRequest||(y.DocumentLinkRequest={}));var _P;(function(t){t.method="documentLink/resolve",t.type=new se.ProtocolRequestType(t.method)})(_P=y.DocumentLinkResolveRequest||(y.DocumentLinkResolveRequest={}));var wP;(function(t){t.method="textDocument/formatting",t.type=new se.ProtocolRequestType(t.method)})(wP=y.DocumentFormattingRequest||(y.DocumentFormattingRequest={}));var bP;(function(t){t.method="textDocument/rangeFormatting",t.type=new se.ProtocolRequestType(t.method)})(bP=y.DocumentRangeFormattingRequest||(y.DocumentRangeFormattingRequest={}));var RP;(function(t){t.method="textDocument/onTypeFormatting",t.type=new se.ProtocolRequestType(t.method)})(RP=y.DocumentOnTypeFormattingRequest||(y.DocumentOnTypeFormattingRequest={}));var CP;(function(t){t.Identifier=1})(CP=y.PrepareSupportDefaultBehavior||(y.PrepareSupportDefaultBehavior={}));var SP;(function(t){t.method="textDocument/rename",t.type=new se.ProtocolRequestType(t.method)})(SP=y.RenameRequest||(y.RenameRequest={}));var PP;(function(t){t.method="textDocument/prepareRename",t.type=new se.ProtocolRequestType(t.method)})(PP=y.PrepareRenameRequest||(y.PrepareRenameRequest={}));var DP;(function(t){t.type=new se.ProtocolRequestType("workspace/executeCommand")})(DP=y.ExecuteCommandRequest||(y.ExecuteCommandRequest={}));var TP;(function(t){t.type=new se.ProtocolRequestType("workspace/applyEdit")})(TP=y.ApplyWorkspaceEditRequest||(y.ApplyWorkspaceEditRequest={}))});var Ug=T(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.createProtocolConnection=void 0;var Kg=_i();function qP(t,e,n,r){return Kg.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),Kg.createMessageConnection(t,e,n,r)}Ns.createProtocolConnection=qP});var Bg=T(_t=>{"use strict";var EP=_t&&_t.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),As=_t&&_t.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&EP(e,t,n)};Object.defineProperty(_t,"__esModule",{value:!0});_t.LSPErrorCodes=_t.createProtocolConnection=void 0;As(_i(),_t);As(mr(),_t);As(it(),_t);As(zg(),_t);var OP=Ug();Object.defineProperty(_t,"createProtocolConnection",{enumerable:!0,get:function(){return OP.createProtocolConnection}});var FP;(function(t){t.lspReservedErrorRangeStart=-32899,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(FP=_t.LSPErrorCodes||(_t.LSPErrorCodes={}))});var ie=T(qn=>{"use strict";var kP=qn&&qn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Gg=qn&&qn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&kP(e,t,n)};Object.defineProperty(qn,"__esModule",{value:!0});qn.createProtocolConnection=void 0;var MP=tu();Gg(tu(),qn);Gg(Bg(),qn);function xP(t,e,n,r){return MP.createMessageConnection(t,e,n,r)}qn.createProtocolConnection=xP});var au=T(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.toJSONObject=Ci.ConfigurationFeature=void 0;var su=require("vscode"),IP=ie(),Xg=class{constructor(e){this._client=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(IP.ConfigurationRequest.type,(n,r)=>{let i=o=>{let c=[];for(let a of o.items){let d=a.scopeUri!==void 0&&a.scopeUri!==null?this._client.protocol2CodeConverter.asUri(a.scopeUri):void 0;c.push(this.getConfiguration(d,a.section!==null?a.section:void 0))}return c},s=e.clientOptions.middleware.workspace;return s&&s.configuration?s.configuration(n,r,i):i(n,r)})}getConfiguration(e,n){let r=null;if(n){let i=n.lastIndexOf(".");if(i===-1)r=Ri(su.workspace.getConfiguration(void 0,e).get(n));else{let s=su.workspace.getConfiguration(n.substr(0,i),e);s&&(r=Ri(s.get(n.substr(i+1))))}}else{let i=su.workspace.getConfiguration(void 0,e);r={};for(let s of Object.keys(i))i.has(s)&&(r[s]=Ri(i.get(s)))}return r===void 0&&(r=null),r}dispose(){}};Ci.ConfigurationFeature=Xg;function Ri(t){if(t){if(Array.isArray(t))return t.map(Ri);if(typeof t=="object"){let e=Object.create(null);for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Ri(t[n]));return e}}return t}Ci.toJSONObject=Ri});var uu=T(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});var NP=require("vscode"),Vg=class extends NP.CompletionItem{constructor(e){super(e)}};cu.default=Vg});var du=T(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});var AP=require("vscode"),Jg=class extends AP.CodeLens{constructor(e){super(e)}};lu.default=Jg});var hu=T(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});var jP=require("vscode"),Qg=class extends jP.DocumentLink{constructor(e,n){super(e,n)}};fu.default=Qg});var pu=T(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});var LP=require("vscode"),Yg=class extends LP.CodeAction{constructor(e,n){super(e);this.data=n}};gu.default=Yg});var vu=T(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.ProtocolDiagnostic=Qr.DiagnosticCode=void 0;var WP=require("vscode"),mu=pr(),$P;(function(t){function e(n){let r=n;return r!=null&&(mu.number(r.value)||mu.string(r.value))&&mu.string(r.target)}t.is=e})($P=Qr.DiagnosticCode||(Qr.DiagnosticCode={}));var Zg=class extends WP.Diagnostic{constructor(e,n,r,i){super(e,n,r);this.data=i,this.hasDiagnosticCode=!1}};Qr.ProtocolDiagnostic=Zg});var _u=T(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});var HP=require("vscode"),ep=class extends HP.CallHierarchyItem{constructor(e,n,r,i,s,o,c){super(e,n,r,i,s,o);c!==void 0&&(this.data=c)}};yu.default=ep});var np=T(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.createConverter=void 0;var ot=require("vscode"),Se=ie(),Mo=pr(),zP=uu(),KP=du(),UP=hu(),BP=pu(),tp=vu(),GP=_u(),XP=ie(),wu;(function(t){function e(n){let r=n;return r&&!!r.inserting&&!!r.replacing}t.is=e})(wu||(wu={}));function VP(t){let n=t||(u=>u.toString());function r(u){return n(u)}function i(u){return{uri:n(u.uri)}}function s(u){return{uri:n(u.uri),version:u.version}}function o(u){return{textDocument:{uri:n(u.uri),languageId:u.languageId,version:u.version,text:u.getText()}}}function c(u){let l=u;return!!l.document&&!!l.contentChanges}function a(u){let l=u;return!!l.uri&&!!l.version}function d(u){if(a(u))return{textDocument:{uri:n(u.uri),version:u.version},contentChanges:[{text:u.getText()}]};if(c(u)){let l=u.document;return{textDocument:{uri:n(l.uri),version:l.version},contentChanges:u.contentChanges.map(E=>{let $=E.range;return{range:{start:{line:$.start.line,character:$.start.character},end:{line:$.end.line,character:$.end.character}},rangeLength:E.rangeLength,text:E.text}})}}else throw Error("Unsupported text document change parameter")}function h(u){return{textDocument:i(u)}}function p(u,l=!1){let S={textDocument:i(u)};return l&&(S.text=u.getText()),S}function m(u){switch(u){case ot.TextDocumentSaveReason.Manual:return Se.TextDocumentSaveReason.Manual;case ot.TextDocumentSaveReason.AfterDelay:return Se.TextDocumentSaveReason.AfterDelay;case ot.TextDocumentSaveReason.FocusOut:return Se.TextDocumentSaveReason.FocusOut}return Se.TextDocumentSaveReason.Manual}function v(u){return{textDocument:i(u.document),reason:m(u.reason)}}function O(u){return{files:u.files.map(l=>({uri:n(l)}))}}function F(u){return{files:u.files.map(l=>({oldUri:n(l.oldUri),newUri:n(l.newUri)}))}}function N(u){return{files:u.files.map(l=>({uri:n(l)}))}}function w(u){return{files:u.files.map(l=>({uri:n(l)}))}}function C(u){return{files:u.files.map(l=>({oldUri:n(l.oldUri),newUri:n(l.newUri)}))}}function q(u){return{files:u.files.map(l=>({uri:n(l)}))}}function k(u,l){return{textDocument:i(u),position:fe(l)}}function A(u){switch(u){case ot.CompletionTriggerKind.TriggerCharacter:return Se.CompletionTriggerKind.TriggerCharacter;case ot.CompletionTriggerKind.TriggerForIncompleteCompletions:return Se.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return Se.CompletionTriggerKind.Invoked}}function Y(u,l,S){return{textDocument:i(u),position:fe(l),context:{triggerKind:A(S.triggerKind),triggerCharacter:S.triggerCharacter}}}function le(u){switch(u){case ot.SignatureHelpTriggerKind.Invoke:return Se.SignatureHelpTriggerKind.Invoked;case ot.SignatureHelpTriggerKind.TriggerCharacter:return Se.SignatureHelpTriggerKind.TriggerCharacter;case ot.SignatureHelpTriggerKind.ContentChange:return Se.SignatureHelpTriggerKind.ContentChange}}function ye(u){return{label:u.label}}function ke(u){return u.map(ye)}function W(u){return{label:u.label,parameters:ke(u.parameters)}}function x(u){return u.map(W)}function L(u){return u===void 0?u:{signatures:x(u.signatures),activeSignature:u.activeSignature,activeParameter:u.activeParameter}}function z(u,l,S){return{textDocument:i(u),position:fe(l),context:{isRetrigger:S.isRetrigger,triggerCharacter:S.triggerCharacter,triggerKind:le(S.triggerKind),activeSignatureHelp:L(S.activeSignatureHelp)}}}function fe(u){return{line:u.line,character:u.character}}function ee(u){return u==null?u:{line:u.line,character:u.character}}function de(u){let l=[];for(let S of u)l.push(ee(S));return l}function ne(u){return u==null?u:{start:ee(u.start),end:ee(u.end)}}function Ie(u){return u==null?u:Se.Location.create(r(u.uri),ne(u.range))}function Te(u){switch(u){case ot.DiagnosticSeverity.Error:return Se.DiagnosticSeverity.Error;case ot.DiagnosticSeverity.Warning:return Se.DiagnosticSeverity.Warning;case ot.DiagnosticSeverity.Information:return Se.DiagnosticSeverity.Information;case ot.DiagnosticSeverity.Hint:return Se.DiagnosticSeverity.Hint}}function tt(u){if(!u)return;let l=[];for(let S of u){let E=Ze(S);E!==void 0&&l.push(E)}return l.length>0?l:void 0}function Ze(u){switch(u){case ot.DiagnosticTag.Unnecessary:return Se.DiagnosticTag.Unnecessary;case ot.DiagnosticTag.Deprecated:return Se.DiagnosticTag.Deprecated;default:return}}function cn(u){return{message:u.message,location:Ie(u.location)}}function ar(u){return u.map(cn)}function cr(u){if(u!=null)return Mo.number(u)||Mo.string(u)?u:{value:u.value,target:r(u.target)}}function Hn(u){let l=Se.Diagnostic.create(ne(u.range),u.message),S=u instanceof tp.ProtocolDiagnostic?u:void 0;S!==void 0&&S.data!==void 0&&(l.data=S.data);let E=cr(u.code);return tp.DiagnosticCode.is(E)?S!==void 0&&S.hasDiagnosticCode?l.code=E:(l.code=E.value,l.codeDescription={href:E.target}):l.code=E,Mo.number(u.severity)&&(l.severity=Te(u.severity)),Array.isArray(u.tags)&&(l.tags=tt(u.tags)),u.relatedInformation&&(l.relatedInformation=ar(u.relatedInformation)),u.source&&(l.source=u.source),l}function zn(u){return u==null?u:u.map(Hn)}function Pn(u,l){switch(u){case"$string":return l;case Se.MarkupKind.PlainText:return{kind:u,value:l};case Se.MarkupKind.Markdown:return{kind:u,value:l.value};default:return`Unsupported Markup content received. Kind is: ${u}`}}function Dn(u){switch(u){case ot.CompletionItemTag.Deprecated:return Se.CompletionItemTag.Deprecated}}function Kn(u){if(u===void 0)return u;let l=[];for(let S of u){let E=Dn(S);E!==void 0&&l.push(E)}return l}function ur(u,l){return l!==void 0?l:u+1}function Ir(u){let l={label:u.label},S=u instanceof zP.default?u:void 0;u.detail&&(l.detail=u.detail),u.documentation&&(!S||S.documentationFormat==="$string"?l.documentation=u.documentation:l.documentation=Pn(S.documentationFormat,u.documentation)),u.filterText&&(l.filterText=u.filterText),$t(l,u),Mo.number(u.kind)&&(l.kind=ur(u.kind,S&&S.originalItemKind)),u.sortText&&(l.sortText=u.sortText),u.additionalTextEdits&&(l.additionalTextEdits=Nr(u.additionalTextEdits)),u.commitCharacters&&(l.commitCharacters=u.commitCharacters.slice()),u.command&&(l.command=Kt(u.command)),(u.preselect===!0||u.preselect===!1)&&(l.preselect=u.preselect);let E=Kn(u.tags);if(S){if(S.data!==void 0&&(l.data=S.data),S.deprecated===!0||S.deprecated===!1){if(S.deprecated===!0&&E!==void 0&&E.length>0){let $=E.indexOf(ot.CompletionItemTag.Deprecated);$!==-1&&E.splice($,1)}l.deprecated=S.deprecated}S.insertTextMode!==void 0&&(l.insertTextMode=S.insertTextMode)}return E!==void 0&&E.length>0&&(l.tags=E),l.insertTextMode===void 0&&u.keepWhitespace===!0&&(l.insertTextMode=XP.InsertTextMode.adjustIndentation),l}function $t(u,l){let S=Se.InsertTextFormat.PlainText,E,$;l.textEdit?(E=l.textEdit.newText,$=l.textEdit.range):l.insertText instanceof ot.SnippetString?(S=Se.InsertTextFormat.Snippet,E=l.insertText.value):E=l.insertText,l.range&&($=l.range),u.insertTextFormat=S,l.fromEdit&&E!==void 0&&$!==void 0?u.textEdit=lr(E,$):u.insertText=E}function lr(u,l){return wu.is(l)?Se.InsertReplaceEdit.create(u,ne(l.inserting),ne(l.replacing)):{newText:u,range:ne(l)}}function Ht(u){return{range:ne(u.range),newText:u.newText}}function Nr(u){return u==null?u:u.map(Ht)}function ze(u){return u<=ot.SymbolKind.TypeParameter?u+1:Se.SymbolKind.Property}function St(u){return u}function dr(u){return u.map(St)}function Ar(u,l,S){return{textDocument:i(u),position:fe(l),context:{includeDeclaration:S.includeDeclaration}}}function zt(u){let l=Se.CodeAction.create(u.title);if(u instanceof BP.default&&u.data!==void 0&&(l.data=u.data),u.kind!==void 0&&(l.kind=Un(u.kind)),u.diagnostics!==void 0&&(l.diagnostics=zn(u.diagnostics)),u.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return u.command!==void 0&&(l.command=Kt(u.command)),u.isPreferred!==void 0&&(l.isPreferred=u.isPreferred),u.disabled!==void 0&&(l.disabled={reason:u.disabled.reason}),l}function fr(u){if(u==null)return u;let l;return u.only&&Mo.string(u.only.value)&&(l=[u.only.value]),Se.CodeActionContext.create(zn(u.diagnostics),l)}function Un(u){if(u!=null)return u.value}function Kt(u){let l=Se.Command.create(u.title,u.command);return u.arguments&&(l.arguments=u.arguments),l}function Bn(u){let l=Se.CodeLens.create(ne(u.range));return u.command&&(l.command=Kt(u.command)),u instanceof KP.default&&u.data&&(l.data=u.data),l}function Ut(u,l){let S={tabSize:u.tabSize,insertSpaces:u.insertSpaces};return l.trimTrailingWhitespace&&(S.trimTrailingWhitespace=!0),l.trimFinalNewlines&&(S.trimFinalNewlines=!0),l.insertFinalNewline&&(S.insertFinalNewline=!0),S}function P(u){return{textDocument:i(u)}}function _(u){return{textDocument:i(u)}}function g(u){let l=Se.DocumentLink.create(ne(u.range));u.target&&(l.target=r(u.target)),u.tooltip!==void 0&&(l.tooltip=u.tooltip);let S=u instanceof UP.default?u:void 0;return S&&S.data&&(l.data=S.data),l}function b(u){return{textDocument:i(u)}}function D(u){let l={name:u.name,kind:ze(u.kind),uri:r(u.uri),range:ne(u.range),selectionRange:ne(u.selectionRange)};return u.detail!==void 0&&u.detail.length>0&&(l.detail=u.detail),u.tags!==void 0&&(l.tags=dr(u.tags)),u instanceof GP.default&&u.data!==void 0&&(l.data=u.data),l}return{asUri:r,asTextDocumentIdentifier:i,asVersionedTextDocumentIdentifier:s,asOpenTextDocumentParams:o,asChangeTextDocumentParams:d,asCloseTextDocumentParams:h,asSaveTextDocumentParams:p,asWillSaveTextDocumentParams:v,asDidCreateFilesParams:O,asDidRenameFilesParams:F,asDidDeleteFilesParams:N,asWillCreateFilesParams:w,asWillRenameFilesParams:C,asWillDeleteFilesParams:q,asTextDocumentPositionParams:k,asCompletionParams:Y,asSignatureHelpParams:z,asWorkerPosition:fe,asRange:ne,asPosition:ee,asPositions:de,asLocation:Ie,asDiagnosticSeverity:Te,asDiagnosticTag:Ze,asDiagnostic:Hn,asDiagnostics:zn,asCompletionItem:Ir,asTextEdit:Ht,asSymbolKind:ze,asSymbolTag:St,asSymbolTags:dr,asReferenceParams:Ar,asCodeAction:zt,asCodeActionContext:fr,asCommand:Kt,asCodeLens:Bn,asFormattingOptions:Ut,asDocumentSymbolParams:P,asCodeLensParams:_,asDocumentLink:g,asDocumentLinkParams:b,asCallHierarchyItem:D}}js.createConverter=VP});var op=T(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.createConverter=void 0;var X=require("vscode"),ge=ie(),pn=pr(),JP=uu(),QP=du(),YP=hu(),ZP=pu(),rp=vu(),eD=_u(),ip=ie(),Ls;(function(t){function e(n){let r=n;return r&&pn.string(r.language)&&pn.string(r.value)}t.is=e})(Ls||(Ls={}));function tD(t,e){let r=t||(f=>X.Uri.parse(f));function i(f){return r(f)}function s(f){return f.map(o)}function o(f){let M=new rp.ProtocolDiagnostic(m(f.range),f.message,O(f.severity),f.data);return f.code!==void 0&&(ge.CodeDescription.is(f.codeDescription)?M.code={value:f.code,target:i(f.codeDescription.href)}:rp.DiagnosticCode.is(f.code)?(M.hasDiagnosticCode=!0,M.code={value:f.code.value,target:i(f.code.target)}):M.code=f.code),f.source&&(M.source=f.source),f.relatedInformation&&(M.relatedInformation=c(f.relatedInformation)),Array.isArray(f.tags)&&(M.tags=d(f.tags)),M}function c(f){return f.map(a)}function a(f){return new X.DiagnosticRelatedInformation(ne(f.location),f.message)}function d(f){if(!f)return;let M=[];for(let Q of f){let we=h(Q);we!==void 0&&M.push(we)}return M.length>0?M:void 0}function h(f){switch(f){case ge.DiagnosticTag.Unnecessary:return X.DiagnosticTag.Unnecessary;case ge.DiagnosticTag.Deprecated:return X.DiagnosticTag.Deprecated;default:return}}function p(f){if(!!f)return new X.Position(f.line,f.character)}function m(f){if(!!f)return new X.Range(p(f.start),p(f.end))}function v(f){return f.map(M=>m(M))}function O(f){if(f==null)return X.DiagnosticSeverity.Error;switch(f){case ge.DiagnosticSeverity.Error:return X.DiagnosticSeverity.Error;case ge.DiagnosticSeverity.Warning:return X.DiagnosticSeverity.Warning;case ge.DiagnosticSeverity.Information:return X.DiagnosticSeverity.Information;case ge.DiagnosticSeverity.Hint:return X.DiagnosticSeverity.Hint}return X.DiagnosticSeverity.Error}function F(f){if(pn.string(f))return w(f);if(Ls.is(f))return w().appendCodeblock(f.value,f.language);if(Array.isArray(f)){let M=[];for(let Q of f){let we=w();Ls.is(Q)?we.appendCodeblock(Q.value,Q.language):we.appendMarkdown(Q),M.push(we)}return M}else{let M;switch(f.kind){case ge.MarkupKind.Markdown:return w(f.value);case ge.MarkupKind.PlainText:return M=w(),M.appendText(f.value),M;default:return M=w(),M.appendText(`Unsupported Markup content received. Kind is: ${f.kind}`),M}}}function N(f){if(pn.string(f))return f;switch(f.kind){case ge.MarkupKind.Markdown:return w(f.value);case ge.MarkupKind.PlainText:return f.value;default:return`Unsupported Markup content received. Kind is: ${f.kind}`}}function w(f){let M=new X.MarkdownString(f);return e===!0&&(M.isTrusted=e),M}function C(f){if(!!f)return new X.Hover(F(f.contents),m(f.range))}function q(f){if(!f)return;if(Array.isArray(f))return f.map(le);let M=f;return new X.CompletionList(M.items.map(le),M.isIncomplete)}function k(f){return ge.CompletionItemKind.Text<=f&&f<=ge.CompletionItemKind.TypeParameter?[f-1,void 0]:[X.CompletionItemKind.Text,f]}function A(f){switch(f){case ge.CompletionItemTag.Deprecated:return X.CompletionItemTag.Deprecated}}function Y(f){if(f==null)return[];let M=[];for(let Q of f){let we=A(Q);we!==void 0&&M.push(we)}return M}function le(f){let M=Y(f.tags),Q=new JP.default(f.label);f.detail&&(Q.detail=f.detail),f.documentation&&(Q.documentation=N(f.documentation),Q.documentationFormat=pn.string(f.documentation)?"$string":f.documentation.kind),f.filterText&&(Q.filterText=f.filterText);let we=ye(f);if(we&&(Q.insertText=we.text,Q.range=we.range,Q.fromEdit=we.fromEdit),pn.number(f.kind)){let[Fe,Lr]=k(f.kind);Q.kind=Fe,Lr&&(Q.originalItemKind=Lr)}return f.sortText&&(Q.sortText=f.sortText),f.additionalTextEdits&&(Q.additionalTextEdits=x(f.additionalTextEdits)),pn.stringArray(f.commitCharacters)&&(Q.commitCharacters=f.commitCharacters.slice()),f.command&&(Q.command=Ht(f.command)),(f.deprecated===!0||f.deprecated===!1)&&(Q.deprecated=f.deprecated,f.deprecated===!0&&M.push(X.CompletionItemTag.Deprecated)),(f.preselect===!0||f.preselect===!1)&&(Q.preselect=f.preselect),f.data!==void 0&&(Q.data=f.data),M.length>0&&(Q.tags=M),f.insertTextMode!==void 0&&(Q.insertTextMode=f.insertTextMode,f.insertTextMode===ip.InsertTextMode.asIs&&(Q.keepWhitespace=!0)),Q}function ye(f){return f.textEdit?f.insertTextFormat===ge.InsertTextFormat.Snippet?{text:new X.SnippetString(f.textEdit.newText),range:ke(f.textEdit),fromEdit:!0}:{text:f.textEdit.newText,range:ke(f.textEdit),fromEdit:!0}:f.insertText?f.insertTextFormat===ge.InsertTextFormat.Snippet?{text:new X.SnippetString(f.insertText),fromEdit:!1}:{text:f.insertText,fromEdit:!1}:void 0}function ke(f){return ge.InsertReplaceEdit.is(f)?{inserting:m(f.insert),replacing:m(f.replace)}:m(f.range)}function W(f){if(!!f)return new X.TextEdit(m(f.range),f.newText)}function x(f){if(!!f)return f.map(W)}function L(f){if(!f)return;let M=new X.SignatureHelp;return pn.number(f.activeSignature)?M.activeSignature=f.activeSignature:M.activeSignature=0,pn.number(f.activeParameter)?M.activeParameter=f.activeParameter:M.activeParameter=0,f.signatures&&(M.signatures=z(f.signatures)),M}function z(f){return f.map(fe)}function fe(f){let M=new X.SignatureInformation(f.label);return f.documentation!==void 0&&(M.documentation=N(f.documentation)),f.parameters!==void 0&&(M.parameters=ee(f.parameters)),f.activeParameter!==void 0&&(M.activeParameter=f.activeParameter),M}function ee(f){return f.map(de)}function de(f){let M=new X.ParameterInformation(f.label);return f.documentation&&(M.documentation=N(f.documentation)),M}function ne(f){if(!!f)return new X.Location(r(f.uri),m(f.range))}function Ie(f){if(!!f)return Ze(f)}function Te(f){if(!!f)return Ze(f)}function tt(f){if(!f)return;let M={targetUri:r(f.targetUri),targetRange:m(f.targetRange),originSelectionRange:m(f.originSelectionRange),targetSelectionRange:m(f.targetSelectionRange)};if(!M.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return M}function Ze(f){if(!!f)return pn.array(f)?f.length===0?[]:ge.LocationLink.is(f[0])?f.map(Q=>tt(Q)):f.map(Q=>ne(Q)):ge.LocationLink.is(f)?[tt(f)]:ne(f)}function cn(f){if(!!f)return f.map(M=>ne(M))}function ar(f){if(!!f)return f.map(cr)}function cr(f){let M=new X.DocumentHighlight(m(f.range));return pn.number(f.kind)&&(M.kind=Hn(f.kind)),M}function Hn(f){switch(f){case ge.DocumentHighlightKind.Text:return X.DocumentHighlightKind.Text;case ge.DocumentHighlightKind.Read:return X.DocumentHighlightKind.Read;case ge.DocumentHighlightKind.Write:return X.DocumentHighlightKind.Write}return X.DocumentHighlightKind.Text}function zn(f,M){if(!!f)return f.map(Q=>ur(Q,M))}function Pn(f){return f<=ge.SymbolKind.TypeParameter?f-1:X.SymbolKind.Property}function Dn(f){switch(f){case ge.SymbolTag.Deprecated:return X.SymbolTag.Deprecated;default:return}}function Kn(f){if(f==null)return;let M=[];for(let Q of f){let we=Dn(Q);we!==void 0&&M.push(we)}return M.length===0?void 0:M}function ur(f,M){let Q=new X.SymbolInformation(f.name,Pn(f.kind),m(f.location.range),f.location.uri?r(f.location.uri):M);return lr(Q,f),f.containerName&&(Q.containerName=f.containerName),Q}function Ir(f){if(f!=null)return f.map($t)}function $t(f){let M=new X.DocumentSymbol(f.name,f.detail||"",Pn(f.kind),m(f.range),m(f.selectionRange));if(lr(M,f),f.children!==void 0&&f.children.length>0){let Q=[];for(let we of f.children)Q.push($t(we));M.children=Q}return M}function lr(f,M){f.tags=Kn(M.tags),M.deprecated&&(f.tags?f.tags.includes(X.SymbolTag.Deprecated)||(f.tags=f.tags.concat(X.SymbolTag.Deprecated)):f.tags=[X.SymbolTag.Deprecated])}function Ht(f){let M={title:f.title,command:f.command};return f.arguments&&(M.arguments=f.arguments),M}function Nr(f){if(!!f)return f.map(Ht)}let ze=new Map;ze.set(ge.CodeActionKind.Empty,X.CodeActionKind.Empty),ze.set(ge.CodeActionKind.QuickFix,X.CodeActionKind.QuickFix),ze.set(ge.CodeActionKind.Refactor,X.CodeActionKind.Refactor),ze.set(ge.CodeActionKind.RefactorExtract,X.CodeActionKind.RefactorExtract),ze.set(ge.CodeActionKind.RefactorInline,X.CodeActionKind.RefactorInline),ze.set(ge.CodeActionKind.RefactorRewrite,X.CodeActionKind.RefactorRewrite),ze.set(ge.CodeActionKind.Source,X.CodeActionKind.Source),ze.set(ge.CodeActionKind.SourceOrganizeImports,X.CodeActionKind.SourceOrganizeImports);function St(f){if(f==null)return;let M=ze.get(f);if(M)return M;let Q=f.split(".");M=X.CodeActionKind.Empty;for(let we of Q)M=M.append(we);return M}function dr(f){if(f!=null)return f.map(M=>St(M))}function Ar(f){if(f==null)return;let M=new ZP.default(f.title,f.data);return f.kind!==void 0&&(M.kind=St(f.kind)),f.diagnostics!==void 0&&(M.diagnostics=s(f.diagnostics)),f.edit!==void 0&&(M.edit=Un(f.edit)),f.command!==void 0&&(M.command=Ht(f.command)),f.isPreferred!==void 0&&(M.isPreferred=f.isPreferred),f.disabled!==void 0&&(M.disabled={reason:f.disabled.reason}),M}function zt(f){if(!f)return;let M=new QP.default(m(f.range));return f.command&&(M.command=Ht(f.command)),f.data!==void 0&&f.data!==null&&(M.data=f.data),M}function fr(f){if(!!f)return f.map(M=>zt(M))}function Un(f){if(!f)return;let M=new Map;if(f.changeAnnotations!==void 0)for(let Fe of Object.keys(f.changeAnnotations)){let Lr=Kt(f.changeAnnotations[Fe]);M.set(Fe,Lr)}let Q=Fe=>{if(Fe!==void 0)return M.get(Fe)},we=new X.WorkspaceEdit;if(f.documentChanges)for(let Fe of f.documentChanges)if(ge.CreateFile.is(Fe))we.createFile(r(Fe.uri),Fe.options,Q(Fe.annotationId));else if(ge.RenameFile.is(Fe))we.renameFile(r(Fe.oldUri),r(Fe.newUri),Fe.options,Q(Fe.annotationId));else if(ge.DeleteFile.is(Fe))we.deleteFile(r(Fe.uri),Fe.options,Q(Fe.annotationId));else if(ge.TextDocumentEdit.is(Fe)){let Lr=r(Fe.textDocument.uri);for(let ui of Fe.edits)ip.AnnotatedTextEdit.is(ui)?we.replace(Lr,m(ui.range),ui.newText,Q(ui.annotationId)):we.replace(Lr,m(ui.range),ui.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(Fe,void 0,4)}`);else f.changes&&Object.keys(f.changes).forEach(Fe=>{we.set(r(Fe),x(f.changes[Fe]))});return we}function Kt(f){if(f!==void 0)return{label:f.label,needsConfirmation:!!f.needsConfirmation,description:f.description}}function Bn(f){let M=m(f.range),Q=f.target?i(f.target):void 0,we=new YP.default(M,Q);return f.tooltip!==void 0&&(we.tooltip=f.tooltip),f.data!==void 0&&f.data!==null&&(we.data=f.data),we}function Ut(f){if(!!f)return f.map(Bn)}function P(f){return new X.Color(f.red,f.green,f.blue,f.alpha)}function _(f){return new X.ColorInformation(m(f.range),P(f.color))}function g(f){if(Array.isArray(f))return f.map(_)}function b(f){let M=new X.ColorPresentation(f.label);return M.additionalTextEdits=x(f.additionalTextEdits),f.textEdit&&(M.textEdit=W(f.textEdit)),M}function D(f){if(Array.isArray(f))return f.map(b)}function u(f){if(f)switch(f){case ge.FoldingRangeKind.Comment:return X.FoldingRangeKind.Comment;case ge.FoldingRangeKind.Imports:return X.FoldingRangeKind.Imports;case ge.FoldingRangeKind.Region:return X.FoldingRangeKind.Region}}function l(f){return new X.FoldingRange(f.startLine,f.endLine,u(f.kind))}function S(f){if(Array.isArray(f))return f.map(l)}function E(f){return new X.SelectionRange(m(f.range),f.parent?E(f.parent):void 0)}function $(f){if(!Array.isArray(f))return[];let M=[];for(let Q of f)M.push(E(Q));return M}function V(f){if(f===null)return;let M=new eD.default(Pn(f.kind),f.name,f.detail||"",i(f.uri),m(f.range),m(f.selectionRange),f.data);return f.tags!==void 0&&(M.tags=Kn(f.tags)),M}function oe(f){if(f!==null)return f.map(M=>V(M))}function qe(f){return new X.CallHierarchyIncomingCall(V(f.from),v(f.fromRanges))}function Ke(f){if(f!==null)return f.map(M=>qe(M))}function Ue(f){return new X.CallHierarchyOutgoingCall(V(f.to),v(f.fromRanges))}function ve(f){if(f!==null)return f.map(M=>Ue(M))}function hr(f){if(f!=null)return new X.SemanticTokens(new Uint32Array(f.data),f.resultId)}function jr(f){return new X.SemanticTokensEdit(f.start,f.deleteCount,f.data!==void 0?new Uint32Array(f.data):void 0)}function gs(f){if(f!=null)return new X.SemanticTokensEdits(f.edits.map(jr),f.resultId)}function ow(f){return f}function sw(f){if(f!=null)return new X.LinkedEditingRanges(v(f.ranges),aw(f.wordPattern))}function aw(f){if(f!=null)return new RegExp(f)}return{asUri:i,asDiagnostics:s,asDiagnostic:o,asRange:m,asRanges:v,asPosition:p,asDiagnosticSeverity:O,asDiagnosticTag:h,asHover:C,asCompletionResult:q,asCompletionItem:le,asTextEdit:W,asTextEdits:x,asSignatureHelp:L,asSignatureInformations:z,asSignatureInformation:fe,asParameterInformations:ee,asParameterInformation:de,asDeclarationResult:Ie,asDefinitionResult:Te,asLocation:ne,asReferences:cn,asDocumentHighlights:ar,asDocumentHighlight:cr,asDocumentHighlightKind:Hn,asSymbolKind:Pn,asSymbolTag:Dn,asSymbolTags:Kn,asSymbolInformations:zn,asSymbolInformation:ur,asDocumentSymbols:Ir,asDocumentSymbol:$t,asCommand:Ht,asCommands:Nr,asCodeAction:Ar,asCodeActionKind:St,asCodeActionKinds:dr,asCodeLens:zt,asCodeLenses:fr,asWorkspaceEdit:Un,asDocumentLink:Bn,asDocumentLinks:Ut,asFoldingRangeKind:u,asFoldingRange:l,asFoldingRanges:S,asColor:P,asColorInformation:_,asColorInformations:g,asColorPresentation:b,asColorPresentations:D,asSelectionRange:E,asSelectionRanges:$,asSemanticTokensLegend:ow,asSemanticTokens:hr,asSemanticTokensEdit:jr,asSemanticTokensEdits:gs,asCallHierarchyItem:V,asCallHierarchyItems:oe,asCallHierarchyIncomingCall:qe,asCallHierarchyIncomingCalls:Ke,asCallHierarchyOutgoingCall:Ue,asCallHierarchyOutgoingCalls:ve,asLinkedEditingRanges:sw}}Ws.createConverter=tD});var cp=T($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.Delayer=void 0;var sp=ie(),ap=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,n=this.defaultDelay){return this.task=e,n>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(r=>{this.onSuccess=r}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var r=this.task();return this.task=void 0,r})),(n>=0||this.timeout===void 0)&&(this.timeout=sp.RAL().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},n>=0?n:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(sp.RAL().timer.clearTimeout(this.timeout),this.timeout=void 0)}};$s.Delayer=ap});var zs=T(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.generateUuid=Jt.parse=Jt.isUUID=Jt.v4=Jt.empty=void 0;var Hs=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},pe=class extends Hs{constructor(){super([pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),"-",pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),"-","4",pe._randomHex(),pe._randomHex(),pe._randomHex(),"-",pe._oneOf(pe._timeHighBits),pe._randomHex(),pe._randomHex(),pe._randomHex(),"-",pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return pe._oneOf(pe._chars)}};pe._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];pe._timeHighBits=["8","9","a","b"];Jt.empty=new Hs("00000000-0000-0000-0000-000000000000");function up(){return new pe}Jt.v4=up;var nD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function lp(t){return nD.test(t)}Jt.isUUID=lp;function rD(t){if(!lp(t))throw new Error("invalid uuid");return new Hs(t)}Jt.parse=rD;function iD(){return up().asHex()}Jt.generateUuid=iD});var bu=T(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.ProgressPart=void 0;var dp=require("vscode"),fp=ie(),hp=pr(),gp=class{constructor(e,n,r){this._client=e,this._token=n,this._reported=0,this._disposable=this._client.onProgress(fp.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),r&&r(this);break}})}begin(e){dp.window.withProgress({location:dp.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(n,r)=>(this._progress=n,this._infinite=e.percentage===void 0,this._cancellationToken=r,this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(fp.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,s)=>{this._resolve=i,this._reject=s})))}report(e){if(this._infinite&&hp.string(e.message))this._progress.report({message:e.message});else if(hp.number(e.percentage)){let n=Math.max(0,Math.min(e.percentage,100)),r=Math.max(0,n-this._reported);this._progress.report({message:e.message,increment:r}),this._reported+=r}}cancel(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._reject&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._resolve&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}};Ks.ProgressPart=gp});var At=T(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.BaseLanguageClient=Ge.MessageTransports=Ge.TextDocumentFeature=Ge.State=Ge.RevealOutputChannelOn=Ge.CloseAction=Ge.ErrorAction=void 0;var K=require("vscode"),R=ie(),oD=au(),sD=np(),aD=op(),Me=pr(),pp=cp(),xe=zs(),cD=bu(),mp=class{error(e){R.RAL().console.error(e)}warn(e){R.RAL().console.warn(e)}info(e){R.RAL().console.info(e)}log(e){R.RAL().console.log(e)}};function uD(t,e,n,r,i){let s=new mp,o=R.createProtocolConnection(t,e,s,i);return o.onError(a=>{n(a[0],a[1],a[2])}),o.onClose(r),{listen:()=>o.listen(),sendRequest:(a,...d)=>o.sendRequest(Me.string(a)?a:a.method,...d),onRequest:(a,d)=>o.onRequest(Me.string(a)?a:a.method,d),sendNotification:(a,d)=>o.sendNotification(Me.string(a)?a:a.method,d),onNotification:(a,d)=>o.onNotification(Me.string(a)?a:a.method,d),onProgress:o.onProgress,sendProgress:o.sendProgress,trace:(a,d,h)=>{let p={sendNotification:!1,traceFormat:R.TraceFormat.Text};h===void 0?o.trace(a,d,p):(Me.boolean(h),o.trace(a,d,h))},initialize:a=>o.sendRequest(R.InitializeRequest.type,a),shutdown:()=>o.sendRequest(R.ShutdownRequest.type,void 0),exit:()=>o.sendNotification(R.ExitNotification.type),onLogMessage:a=>o.onNotification(R.LogMessageNotification.type,a),onShowMessage:a=>o.onNotification(R.ShowMessageNotification.type,a),onTelemetry:a=>o.onNotification(R.TelemetryEventNotification.type,a),didChangeConfiguration:a=>o.sendNotification(R.DidChangeConfigurationNotification.type,a),didChangeWatchedFiles:a=>o.sendNotification(R.DidChangeWatchedFilesNotification.type,a),didOpenTextDocument:a=>o.sendNotification(R.DidOpenTextDocumentNotification.type,a),didChangeTextDocument:a=>o.sendNotification(R.DidChangeTextDocumentNotification.type,a),didCloseTextDocument:a=>o.sendNotification(R.DidCloseTextDocumentNotification.type,a),didSaveTextDocument:a=>o.sendNotification(R.DidSaveTextDocumentNotification.type,a),onDiagnostics:a=>o.onNotification(R.PublishDiagnosticsNotification.type,a),end:()=>o.end(),dispose:()=>o.dispose()}}var Us;(function(t){t[t.Continue=1]="Continue",t[t.Shutdown=2]="Shutdown"})(Us=Ge.ErrorAction||(Ge.ErrorAction={}));var Yr;(function(t){t[t.DoNotRestart=1]="DoNotRestart",t[t.Restart=2]="Restart"})(Yr=Ge.CloseAction||(Ge.CloseAction={}));var vp=class{constructor(e,n){this.name=e,this.maxRestartCount=n,this.restarts=[]}error(e,n,r){return r&&r<=3?Us.Continue:Us.Shutdown}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?Yr.Restart:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?(K.window.showErrorMessage(`The ${this.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted.`),Yr.DoNotRestart):(this.restarts.shift(),Yr.Restart)}},xo;(function(t){t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Never=4]="Never"})(xo=Ge.RevealOutputChannelOn||(Ge.RevealOutputChannelOn={}));var Bs;(function(t){t[t.Stopped=1]="Stopped",t[t.Starting=3]="Starting",t[t.Running=2]="Running"})(Bs=Ge.State||(Ge.State={}));var je;(function(t){t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.StartFailed=2]="StartFailed",t[t.Running=3]="Running",t[t.Stopping=4]="Stopping",t[t.Stopped=5]="Stopped"})(je||(je={}));var yp=[R.SymbolKind.File,R.SymbolKind.Module,R.SymbolKind.Namespace,R.SymbolKind.Package,R.SymbolKind.Class,R.SymbolKind.Method,R.SymbolKind.Property,R.SymbolKind.Field,R.SymbolKind.Constructor,R.SymbolKind.Enum,R.SymbolKind.Interface,R.SymbolKind.Function,R.SymbolKind.Variable,R.SymbolKind.Constant,R.SymbolKind.String,R.SymbolKind.Number,R.SymbolKind.Boolean,R.SymbolKind.Array,R.SymbolKind.Object,R.SymbolKind.Key,R.SymbolKind.Null,R.SymbolKind.EnumMember,R.SymbolKind.Struct,R.SymbolKind.Event,R.SymbolKind.Operator,R.SymbolKind.TypeParameter],lD=[R.CompletionItemKind.Text,R.CompletionItemKind.Method,R.CompletionItemKind.Function,R.CompletionItemKind.Constructor,R.CompletionItemKind.Field,R.CompletionItemKind.Variable,R.CompletionItemKind.Class,R.CompletionItemKind.Interface,R.CompletionItemKind.Module,R.CompletionItemKind.Property,R.CompletionItemKind.Unit,R.CompletionItemKind.Value,R.CompletionItemKind.Enum,R.CompletionItemKind.Keyword,R.CompletionItemKind.Snippet,R.CompletionItemKind.Color,R.CompletionItemKind.File,R.CompletionItemKind.Reference,R.CompletionItemKind.Folder,R.CompletionItemKind.EnumMember,R.CompletionItemKind.Constant,R.CompletionItemKind.Struct,R.CompletionItemKind.Event,R.CompletionItemKind.Operator,R.CompletionItemKind.TypeParameter],_p=[R.SymbolTag.Deprecated];function J(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Io;(function(t){function e(n){let r=K.workspace.getConfiguration("files",n);return{trimTrailingWhitespace:r.get("trimTrailingWhitespace"),trimFinalNewlines:r.get("trimFinalNewlines"),insertFinalNewline:r.get("insertFinalNewline")}}t.fromConfiguration=e})(Io||(Io={}));var Ru;(function(t){function e(n){let r=n;return r&&Me.func(r.register)&&Me.func(r.unregister)&&Me.func(r.dispose)&&r.registrationType!==void 0}t.is=e})(Ru||(Ru={}));var En=class{constructor(e,n,r,i,s,o){this._client=e,this._event=n,this._type=r,this._middleware=i,this._createParams=s,this._selectorFilter=o,this._selectors=new Map}static textDocumentFilter(e,n){for(let r of e)if(K.languages.match(r,n))return!0;return!1}register(e){!e.registerOptions.documentSelector||(this._listener||(this._listener=this._event(this.callback,this)),this._selectors.set(e.id,e.registerOptions.documentSelector))}callback(e){(!this._selectorFilter||this._selectorFilter(this._selectors.values(),e))&&(this._middleware?this._middleware(e,n=>this._client.sendNotification(this._type,this._createParams(n))):this._client.sendNotification(this._type,this._createParams(e)),this.notificationSent(e))}notificationSent(e){}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let n of this._selectors.values())if(K.languages.match(n,e))return{send:r=>{this.callback(r)}}}},wp=class extends En{constructor(e,n){super(e,K.workspace.onDidOpenTextDocument,R.DidOpenTextDocumentNotification.type,e.clientOptions.middleware.didOpen,r=>e.code2ProtocolConverter.asOpenTextDocumentParams(r),En.textDocumentFilter);this._syncedDocuments=n}fillClientCapabilities(e){J(J(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.openClose&&this.register({id:xe.generateUuid(),registerOptions:{documentSelector:n}})}get registrationType(){return R.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let n=e.registerOptions.documentSelector;K.workspace.textDocuments.forEach(r=>{let i=r.uri.toString();if(!this._syncedDocuments.has(i)&&K.languages.match(n,r)){let s=this._client.clientOptions.middleware,o=c=>{this._client.sendNotification(this._type,this._createParams(c))};s.didOpen?s.didOpen(r,o):o(r),this._syncedDocuments.set(i,r)}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.set(e.uri.toString(),e)}},bp=class extends En{constructor(e,n){super(e,K.workspace.onDidCloseTextDocument,R.DidCloseTextDocumentNotification.type,e.clientOptions.middleware.didClose,r=>e.code2ProtocolConverter.asCloseTextDocumentParams(r),En.textDocumentFilter);this._syncedDocuments=n}get registrationType(){return R.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){J(J(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.openClose&&this.register({id:xe.generateUuid(),registerOptions:{documentSelector:n}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.delete(e.uri.toString())}unregister(e){let n=this._selectors.get(e);super.unregister(e);let r=this._selectors.values();this._syncedDocuments.forEach(i=>{if(K.languages.match(n,i)&&!this._selectorFilter(r,i)){let s=this._client.clientOptions.middleware,o=c=>{this._client.sendNotification(this._type,this._createParams(c))};this._syncedDocuments.delete(i.uri.toString()),s.didClose?s.didClose(i,o):o(i)}})}},Rp=class{constructor(e){this._client=e,this._changeData=new Map,this._forcingDelivery=!1}get registrationType(){return R.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){J(J(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.change!==void 0&&r.change!==R.TextDocumentSyncKind.None&&this.register({id:xe.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},{syncKind:r.change})})}register(e){!e.registerOptions.documentSelector||(this._listener||(this._listener=K.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{documentSelector:e.registerOptions.documentSelector,syncKind:e.registerOptions.syncKind}))}callback(e){if(e.contentChanges.length!==0){for(let n of this._changeData.values())if(K.languages.match(n.documentSelector,e.document)){let r=this._client.clientOptions.middleware;if(n.syncKind===R.TextDocumentSyncKind.Incremental){let i=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e);r.didChange?r.didChange(e,()=>this._client.sendNotification(R.DidChangeTextDocumentNotification.type,i)):this._client.sendNotification(R.DidChangeTextDocumentNotification.type,i)}else if(n.syncKind===R.TextDocumentSyncKind.Full){let i=s=>{this._changeDelayer?(this._changeDelayer.uri!==s.document.uri.toString()&&(this.forceDelivery(),this._changeDelayer.uri=s.document.uri.toString()),this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(R.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(s.document))})):(this._changeDelayer={uri:s.document.uri.toString(),delayer:new pp.Delayer(200)},this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(R.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(s.document))},-1))};r.didChange?r.didChange(e,i):i(e)}}}}unregister(e){this._changeData.delete(e),this._changeData.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}forceDelivery(){if(!(this._forcingDelivery||!this._changeDelayer))try{this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}getProvider(e){for(let n of this._changeData.values())if(K.languages.match(n.documentSelector,e))return{send:r=>{this.callback(r)}}}},Cp=class extends En{constructor(e){super(e,K.workspace.onWillSaveTextDocument,R.WillSaveTextDocumentNotification.type,e.clientOptions.middleware.willSave,n=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(n),(n,r)=>En.textDocumentFilter(n,r.document))}get registrationType(){return R.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let n=J(J(e,"textDocument"),"synchronization");n.willSave=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.willSave&&this.register({id:xe.generateUuid(),registerOptions:{documentSelector:n}})}},Sp=class{constructor(e){this._client=e,this._selectors=new Map}get registrationType(){return R.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let n=J(J(e,"textDocument"),"synchronization");n.willSaveWaitUntil=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.willSaveWaitUntil&&this.register({id:xe.generateUuid(),registerOptions:{documentSelector:n}})}register(e){!e.registerOptions.documentSelector||(this._listener||(this._listener=K.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,e.registerOptions.documentSelector))}callback(e){if(En.textDocumentFilter(this._selectors.values(),e.document)){let n=this._client.clientOptions.middleware,r=i=>this._client.sendRequest(R.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(s=>{let o=this._client.protocol2CodeConverter.asTextEdits(s);return o===void 0?[]:o});e.waitUntil(n.willSaveWaitUntil?n.willSaveWaitUntil(e,r):r(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}},Pp=class extends En{constructor(e){super(e,K.workspace.onDidSaveTextDocument,R.DidSaveTextDocumentNotification.type,e.clientOptions.middleware.didSave,n=>e.code2ProtocolConverter.asSaveTextDocumentParams(n,this._includeText),En.textDocumentFilter);this._includeText=!1}get registrationType(){return R.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){J(J(e,"textDocument"),"synchronization").didSave=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;if(n&&r&&r.save){let i=typeof r.save=="boolean"?{includeText:!1}:{includeText:!!r.save.includeText};this.register({id:xe.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}},Dp=class{constructor(e,n){this._client=e,this._notifyFileEvent=n,this._watchers=new Map}get registrationType(){return R.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){J(J(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0}initialize(e,n){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let n=[];for(let r of e.registerOptions.watchers){if(!Me.string(r.globPattern))continue;let i=!0,s=!0,o=!0;r.kind!==void 0&&r.kind!==null&&(i=(r.kind&R.WatchKind.Create)!=0,s=(r.kind&R.WatchKind.Change)!=0,o=(r.kind&R.WatchKind.Delete)!=0);let c=K.workspace.createFileSystemWatcher(r.globPattern,!i,!s,!o);this.hookListeners(c,i,s,o),n.push(c)}this._watchers.set(e.id,n)}registerRaw(e,n){let r=[];for(let i of n)this.hookListeners(i,!0,!0,!0,r);this._watchers.set(e,r)}hookListeners(e,n,r,i,s){n&&e.onDidCreate(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:R.FileChangeType.Created}),null,s),r&&e.onDidChange(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:R.FileChangeType.Changed}),null,s),i&&e.onDidDelete(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:R.FileChangeType.Deleted}),null,s)}unregister(e){let n=this._watchers.get(e);if(n)for(let r of n)r.dispose()}dispose(){this._watchers.forEach(e=>{for(let n of e)n.dispose()}),this._watchers.clear()}},mt=class{constructor(e,n){this._client=e,this._registrationType=n,this._registrations=new Map}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let n=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:n[0],data:e,provider:n[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,n){if(n){if(R.TextDocumentRegistrationOptions.is(n)){let r=R.StaticRegistrationOptions.hasId(n)?n.id:xe.generateUuid(),i=n.documentSelector||e;if(i)return[r,Object.assign({},n,{documentSelector:i})]}else if(Me.boolean(n)&&n===!0||R.WorkDoneProgressOptions.is(n)){if(!e)return[void 0,void 0];let r=Me.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e});return[xe.generateUuid(),r]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,n){if(!(!e||!n))return Me.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e})}getProvider(e){for(let n of this._registrations.values()){let r=n.data.registerOptions.documentSelector;if(r!==null&&K.languages.match(r,e))return n.provider}}getAllProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}};Ge.TextDocumentFeature=mt;var Tp=class{constructor(e,n){this._client=e,this._registrationType=n,this._registrations=new Map}get registrationType(){return this._registrationType}register(e){let n=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:n[0],provider:n[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}},qp=class extends mt{constructor(e){super(e,R.CompletionRequest.type)}fillClientCapabilities(e){let n=J(J(e,"textDocument"),"completion");n.dynamicRegistration=!0,n.contextSupport=!0,n.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[R.MarkupKind.Markdown,R.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[R.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[R.InsertTextMode.asIs,R.InsertTextMode.adjustIndentation]}},n.completionItemKind={valueSet:lD}}initialize(e,n){let r=this.getRegistrationOptions(n,e.completionProvider);!r||this.register({id:xe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.triggerCharacters||[],r={provideCompletionItems:(i,s,o,c)=>{let a=this._client,d=this._client.clientOptions.middleware,h=(p,m,v,O)=>a.sendRequest(R.CompletionRequest.type,a.code2ProtocolConverter.asCompletionParams(p,m,v),O).then(a.protocol2CodeConverter.asCompletionResult,F=>a.handleFailedRequest(R.CompletionRequest.type,F,null));return d.provideCompletionItem?d.provideCompletionItem(i,s,c,o,h):h(i,s,c,o)},resolveCompletionItem:e.resolveProvider?(i,s)=>{let o=this._client,c=this._client.clientOptions.middleware,a=(d,h)=>o.sendRequest(R.CompletionResolveRequest.type,o.code2ProtocolConverter.asCompletionItem(d),h).then(o.protocol2CodeConverter.asCompletionItem,p=>o.handleFailedRequest(R.CompletionResolveRequest.type,p,d));return c.resolveCompletionItem?c.resolveCompletionItem(i,s,a):a(i,s)}:void 0};return[K.languages.registerCompletionItemProvider(e.documentSelector,r,...n),r]}},Ep=class extends mt{constructor(e){super(e,R.HoverRequest.type)}fillClientCapabilities(e){let n=J(J(e,"textDocument"),"hover");n.dynamicRegistration=!0,n.contentFormat=[R.MarkupKind.Markdown,R.MarkupKind.PlainText]}initialize(e,n){let r=this.getRegistrationOptions(n,e.hoverProvider);!r||this.register({id:xe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideHover:(r,i,s)=>{let o=this._client,c=(d,h,p)=>o.sendRequest(R.HoverRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(d,h),p).then(o.protocol2CodeConverter.asHover,m=>o.handleFailedRequest(R.HoverRequest.type,m,null)),a=o.clientOptions.middleware;return a.provideHover?a.provideHover(r,i,s,c):c(r,i,s)}};return[K.languages.registerHoverProvider(e.documentSelector,n),n]}},Op=class extends mt{constructor(e){super(e,R.SignatureHelpRequest.type)}fillClientCapabilities(e){let n=J(J(e,"textDocument"),"signatureHelp");n.dynamicRegistration=!0,n.signatureInformation={documentationFormat:[R.MarkupKind.Markdown,R.MarkupKind.PlainText]},n.signatureInformation.parameterInformation={labelOffsetSupport:!0},n.signatureInformation.activeParameterSupport=!0,n.contextSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.signatureHelpProvider);!r||this.register({id:xe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideSignatureHelp:(i,s,o,c)=>{let a=this._client,d=(p,m,v,O)=>a.sendRequest(R.SignatureHelpRequest.type,a.code2ProtocolConverter.asSignatureHelpParams(p,m,v),O).then(a.protocol2CodeConverter.asSignatureHelp,F=>a.handleFailedRequest(R.SignatureHelpRequest.type,F,null)),h=a.clientOptions.middleware;return h.provideSignatureHelp?h.provideSignatureHelp(i,s,c,o,d):d(i,s,c,o)}},r;if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];r=K.languages.registerSignatureHelpProvider(e.documentSelector,n,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};r=K.languages.registerSignatureHelpProvider(e.documentSelector,n,i)}return[r,n]}},Fp=class extends mt{constructor(e){super(e,R.DefinitionRequest.type)}fillClientCapabilities(e){let n=J(J(e,"textDocument"),"definition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.definitionProvider);!r||this.register({id:xe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDefinition:(r,i,s)=>{let o=this._client,c=(d,h,p)=>o.sendRequest(R.DefinitionRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(d,h),p).then(o.protocol2CodeConverter.asDefinitionResult,m=>o.handleFailedRequest(R.DefinitionRequest.type,m,null)),a=o.clientOptions.middleware;return a.provideDefinition?a.provideDefinition(r,i,s,c):c(r,i,s)}};return[K.languages.registerDefinitionProvider(e.documentSelector,n),n]}},kp=class extends mt{constructor(e){super(e,R.ReferencesRequest.type)}fillClientCapabilities(e){J(J(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.referencesProvider);!r||this.register({id:xe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideReferences:(r,i,s,o)=>{let c=this._client,a=(h,p,m,v)=>c.sendRequest(R.ReferencesRequest.type,c.code2ProtocolConverter.asReferenceParams(h,p,m),v).then(c.protocol2CodeConverter.asReferences,O=>c.handleFailedRequest(R.ReferencesRequest.type,O,null)),d=c.clientOptions.middleware;return d.provideReferences?d.provideReferences(r,i,s,o,a):a(r,i,s,o)}};return[K.languages.registerReferenceProvider(e.documentSelector,n),n]}},Mp=class extends mt{constructor(e){super(e,R.DocumentHighlightRequest.type)}fillClientCapabilities(e){J(J(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentHighlightProvider);!r||this.register({id:xe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDocumentHighlights:(r,i,s)=>{let o=this._client,c=(d,h,p)=>o.sendRequest(R.DocumentHighlightRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(d,h),p).then(o.protocol2CodeConverter.asDocumentHighlights,m=>o.handleFailedRequest(R.DocumentHighlightRequest.type,m,null)),a=o.clientOptions.middleware;return a.provideDocumentHighlights?a.provideDocumentHighlights(r,i,s,c):c(r,i,s)}};return[K.languages.registerDocumentHighlightProvider(e.documentSelector,n),n]}},xp=class extends mt{constructor(e){super(e,R.DocumentSymbolRequest.type)}fillClientCapabilities(e){let n=J(J(e,"textDocument"),"documentSymbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:yp},n.hierarchicalDocumentSymbolSupport=!0,n.tagSupport={valueSet:_p},n.labelSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentSymbolProvider);!r||this.register({id:xe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDocumentSymbols:(i,s)=>{let o=this._client,c=(d,h)=>o.sendRequest(R.DocumentSymbolRequest.type,o.code2ProtocolConverter.asDocumentSymbolParams(d),h).then(p=>{if(p!==null){if(p.length===0)return[];{let m=p[0];return R.DocumentSymbol.is(m)?o.protocol2CodeConverter.asDocumentSymbols(p):o.protocol2CodeConverter.asSymbolInformations(p)}}},p=>o.handleFailedRequest(R.DocumentSymbolRequest.type,p,null)),a=o.clientOptions.middleware;return a.provideDocumentSymbols?a.provideDocumentSymbols(i,s,c):c(i,s)}},r=e.label!==void 0?{label:e.label}:void 0;return[K.languages.registerDocumentSymbolProvider(e.documentSelector,n,r),n]}},Ip=class extends Tp{constructor(e){super(e,R.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let n=J(J(e,"workspace"),"symbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:yp},n.tagSupport={valueSet:_p}}initialize(e){!e.workspaceSymbolProvider||this.register({id:xe.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let n={provideWorkspaceSymbols:(r,i)=>{let s=this._client,o=(a,d)=>s.sendRequest(R.WorkspaceSymbolRequest.type,{query:a},d).then(s.protocol2CodeConverter.asSymbolInformations,h=>s.handleFailedRequest(R.WorkspaceSymbolRequest.type,h,null)),c=s.clientOptions.middleware;return c.provideWorkspaceSymbols?c.provideWorkspaceSymbols(r,i,o):o(r,i)}};return[K.languages.registerWorkspaceSymbolProvider(n),n]}},Np=class extends mt{constructor(e){super(e,R.CodeActionRequest.type)}fillClientCapabilities(e){let n=J(J(e,"textDocument"),"codeAction");n.dynamicRegistration=!0,n.isPreferredSupport=!0,n.disabledSupport=!0,n.dataSupport=!0,n.resolveSupport={properties:["edit"]},n.codeActionLiteralSupport={codeActionKind:{valueSet:[R.CodeActionKind.Empty,R.CodeActionKind.QuickFix,R.CodeActionKind.Refactor,R.CodeActionKind.RefactorExtract,R.CodeActionKind.RefactorInline,R.CodeActionKind.RefactorRewrite,R.CodeActionKind.Source,R.CodeActionKind.SourceOrganizeImports]}},n.honorsChangeAnnotations=!1}initialize(e,n){let r=this.getRegistrationOptions(n,e.codeActionProvider);!r||this.register({id:xe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideCodeActions:(r,i,s,o)=>{let c=this._client,a=(h,p,m,v)=>{let O={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(h),range:c.code2ProtocolConverter.asRange(p),context:c.code2ProtocolConverter.asCodeActionContext(m)};return c.sendRequest(R.CodeActionRequest.type,O,v).then(F=>{if(F===null)return;let N=[];for(let w of F)R.Command.is(w)?N.push(c.protocol2CodeConverter.asCommand(w)):N.push(c.protocol2CodeConverter.asCodeAction(w));return N},F=>c.handleFailedRequest(R.CodeActionRequest.type,F,null))},d=c.clientOptions.middleware;return d.provideCodeActions?d.provideCodeActions(r,i,s,o,a):a(r,i,s,o)},resolveCodeAction:e.resolveProvider?(r,i)=>{let s=this._client,o=this._client.clientOptions.middleware,c=(a,d)=>s.sendRequest(R.CodeActionResolveRequest.type,s.code2ProtocolConverter.asCodeAction(a),d).then(s.protocol2CodeConverter.asCodeAction,h=>s.handleFailedRequest(R.CodeActionResolveRequest.type,h,a));return o.resolveCodeAction?o.resolveCodeAction(r,i,c):c(r,i)}:void 0};return[K.languages.registerCodeActionsProvider(e.documentSelector,n,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),n]}},Ap=class extends mt{constructor(e){super(e,R.CodeLensRequest.type)}fillClientCapabilities(e){J(J(e,"textDocument"),"codeLens").dynamicRegistration=!0,J(J(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,n){this._client.onRequest(R.CodeLensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(n,e.codeLensProvider);!i||this.register({id:xe.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=new K.EventEmitter,r={onDidChangeCodeLenses:n.event,provideCodeLenses:(i,s)=>{let o=this._client,c=(d,h)=>o.sendRequest(R.CodeLensRequest.type,o.code2ProtocolConverter.asCodeLensParams(d),h).then(o.protocol2CodeConverter.asCodeLenses,p=>o.handleFailedRequest(R.CodeLensRequest.type,p,null)),a=o.clientOptions.middleware;return a.provideCodeLenses?a.provideCodeLenses(i,s,c):c(i,s)},resolveCodeLens:e.resolveProvider?(i,s)=>{let o=this._client,c=(d,h)=>o.sendRequest(R.CodeLensResolveRequest.type,o.code2ProtocolConverter.asCodeLens(d),h).then(o.protocol2CodeConverter.asCodeLens,p=>o.handleFailedRequest(R.CodeLensResolveRequest.type,p,d)),a=o.clientOptions.middleware;return a.resolveCodeLens?a.resolveCodeLens(i,s,c):c(i,s)}:void 0};return[K.languages.registerCodeLensProvider(e.documentSelector,r),{provider:r,onDidChangeCodeLensEmitter:n}]}},jp=class extends mt{constructor(e){super(e,R.DocumentFormattingRequest.type)}fillClientCapabilities(e){J(J(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentFormattingProvider);!r||this.register({id:xe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDocumentFormattingEdits:(r,i,s)=>{let o=this._client,c=(d,h,p)=>{let m={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(d),options:o.code2ProtocolConverter.asFormattingOptions(h,Io.fromConfiguration(d))};return o.sendRequest(R.DocumentFormattingRequest.type,m,p).then(o.protocol2CodeConverter.asTextEdits,v=>o.handleFailedRequest(R.DocumentFormattingRequest.type,v,null))},a=o.clientOptions.middleware;return a.provideDocumentFormattingEdits?a.provideDocumentFormattingEdits(r,i,s,c):c(r,i,s)}};return[K.languages.registerDocumentFormattingEditProvider(e.documentSelector,n),n]}},Lp=class extends mt{constructor(e){super(e,R.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){J(J(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentRangeFormattingProvider);!r||this.register({id:xe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDocumentRangeFormattingEdits:(r,i,s,o)=>{let c=this._client,a=(h,p,m,v)=>{let O={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(h),range:c.code2ProtocolConverter.asRange(p),options:c.code2ProtocolConverter.asFormattingOptions(m,Io.fromConfiguration(h))};return c.sendRequest(R.DocumentRangeFormattingRequest.type,O,v).then(c.protocol2CodeConverter.asTextEdits,F=>c.handleFailedRequest(R.DocumentRangeFormattingRequest.type,F,null))},d=c.clientOptions.middleware;return d.provideDocumentRangeFormattingEdits?d.provideDocumentRangeFormattingEdits(r,i,s,o,a):a(r,i,s,o)}};return[K.languages.registerDocumentRangeFormattingEditProvider(e.documentSelector,n),n]}},Wp=class extends mt{constructor(e){super(e,R.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){J(J(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentOnTypeFormattingProvider);!r||this.register({id:xe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideOnTypeFormattingEdits:(i,s,o,c,a)=>{let d=this._client,h=(m,v,O,F,N)=>{let w={textDocument:d.code2ProtocolConverter.asTextDocumentIdentifier(m),position:d.code2ProtocolConverter.asPosition(v),ch:O,options:d.code2ProtocolConverter.asFormattingOptions(F,Io.fromConfiguration(m))};return d.sendRequest(R.DocumentOnTypeFormattingRequest.type,w,N).then(d.protocol2CodeConverter.asTextEdits,C=>d.handleFailedRequest(R.DocumentOnTypeFormattingRequest.type,C,null))},p=d.clientOptions.middleware;return p.provideOnTypeFormattingEdits?p.provideOnTypeFormattingEdits(i,s,o,c,a,h):h(i,s,o,c,a)}},r=e.moreTriggerCharacter||[];return[K.languages.registerOnTypeFormattingEditProvider(e.documentSelector,n,e.firstTriggerCharacter,...r),n]}},$p=class extends mt{constructor(e){super(e,R.RenameRequest.type)}fillClientCapabilities(e){let n=J(J(e,"textDocument"),"rename");n.dynamicRegistration=!0,n.prepareSupport=!0,n.prepareSupportDefaultBehavior=R.PrepareSupportDefaultBehavior.Identifier,n.honorsChangeAnnotations=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.renameProvider);!r||(Me.boolean(e.renameProvider)&&(r.prepareProvider=!1),this.register({id:xe.generateUuid(),registerOptions:r}))}registerLanguageProvider(e){let n={provideRenameEdits:(r,i,s,o)=>{let c=this._client,a=(h,p,m,v)=>{let O={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(h),position:c.code2ProtocolConverter.asPosition(p),newName:m};return c.sendRequest(R.RenameRequest.type,O,v).then(c.protocol2CodeConverter.asWorkspaceEdit,F=>c.handleFailedRequest(R.RenameRequest.type,F,null))},d=c.clientOptions.middleware;return d.provideRenameEdits?d.provideRenameEdits(r,i,s,o,a):a(r,i,s,o)},prepareRename:e.prepareProvider?(r,i,s)=>{let o=this._client,c=(d,h,p)=>{let m={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(d),position:o.code2ProtocolConverter.asPosition(h)};return o.sendRequest(R.PrepareRenameRequest.type,m,p).then(v=>R.Range.is(v)?o.protocol2CodeConverter.asRange(v):this.isDefaultBehavior(v)?v.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):v&&R.Range.is(v.range)?{range:o.protocol2CodeConverter.asRange(v.range),placeholder:v.placeholder}:Promise.reject(new Error("The element can't be renamed.")),v=>o.handleFailedRequest(R.PrepareRenameRequest.type,v,void 0))},a=o.clientOptions.middleware;return a.prepareRename?a.prepareRename(r,i,s,c):c(r,i,s)}:void 0};return[K.languages.registerRenameProvider(e.documentSelector,n),n]}isDefaultBehavior(e){let n=e;return n&&Me.boolean(n.defaultBehavior)}},Hp=class extends mt{constructor(e){super(e,R.DocumentLinkRequest.type)}fillClientCapabilities(e){let n=J(J(e,"textDocument"),"documentLink");n.dynamicRegistration=!0,n.tooltipSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentLinkProvider);!r||this.register({id:xe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDocumentLinks:(r,i)=>{let s=this._client,o=(a,d)=>s.sendRequest(R.DocumentLinkRequest.type,s.code2ProtocolConverter.asDocumentLinkParams(a),d).then(s.protocol2CodeConverter.asDocumentLinks,h=>s.handleFailedRequest(R.DocumentLinkRequest.type,h,null)),c=s.clientOptions.middleware;return c.provideDocumentLinks?c.provideDocumentLinks(r,i,o):o(r,i)},resolveDocumentLink:e.resolveProvider?(r,i)=>{let s=this._client,o=(a,d)=>s.sendRequest(R.DocumentLinkResolveRequest.type,s.code2ProtocolConverter.asDocumentLink(a),d).then(s.protocol2CodeConverter.asDocumentLink,h=>s.handleFailedRequest(R.DocumentLinkResolveRequest.type,h,a)),c=s.clientOptions.middleware;return c.resolveDocumentLink?c.resolveDocumentLink(r,i,o):o(r,i)}:void 0};return[K.languages.registerDocumentLinkProvider(e.documentSelector,n),n]}},zp=class{constructor(e){this._client=e,this._listeners=new Map}get registrationType(){return R.DidChangeConfigurationNotification.type}fillClientCapabilities(e){J(J(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize.configurationSection;e!==void 0&&this.register({id:xe.generateUuid(),registerOptions:{section:e}})}register(e){let n=K.workspace.onDidChangeConfiguration(r=>{this.onDidChangeConfiguration(e.registerOptions.section,r)});this._listeners.set(e.id,n),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let n=this._listeners.get(e);n&&(this._listeners.delete(e),n.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,n){let r;if(Me.string(e)?r=[e]:r=e,r!==void 0&&n!==void 0&&!r.some(c=>n.affectsConfiguration(c)))return;let i=o=>{if(o===void 0){this._client.sendNotification(R.DidChangeConfigurationNotification.type,{settings:null});return}this._client.sendNotification(R.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(o)})},s=this.getMiddleware();s?s(r,i):i(r)}extractSettingsInformation(e){function n(s,o){let c=s;for(let a=0;a<o.length-1;a++){let d=c[o[a]];d||(d=Object.create(null),c[o[a]]=d),c=d}return c}let r=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let s=0;s<e.length;s++){let o=e[s],c=o.indexOf("."),a=null;if(c>=0?a=K.workspace.getConfiguration(o.substr(0,c),r).get(o.substr(c+1)):a=K.workspace.getConfiguration(void 0,r).get(o),a){let d=e[s].split(".");n(i,d)[d[d.length-1]]=oD.toJSONObject(a)}}return i}getMiddleware(){let e=this._client.clientOptions.middleware;if(e.workspace&&e.workspace.didChangeConfiguration)return e.workspace.didChangeConfiguration}},Kp=class{constructor(e){this._client=e,this._commands=new Map}get registrationType(){return R.ExecuteCommandRequest.type}fillClientCapabilities(e){J(J(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){!e.executeCommandProvider||this.register({id:xe.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let n=this._client,r=n.clientOptions.middleware,i=(s,o)=>{let c={command:s,arguments:o};return n.sendRequest(R.ExecuteCommandRequest.type,c).then(void 0,a=>n.handleFailedRequest(R.ExecuteCommandRequest.type,a,void 0))};if(e.registerOptions.commands){let s=[];for(let o of e.registerOptions.commands)s.push(K.commands.registerCommand(o,(...c)=>r.executeCommand?r.executeCommand(o,c,i):i(o,c)));this._commands.set(e.id,s)}}unregister(e){let n=this._commands.get(e);n&&n.forEach(r=>r.dispose())}dispose(){this._commands.forEach(e=>{e.forEach(n=>n.dispose())}),this._commands.clear()}},dD;(function(t){function e(n){return n&&R.MessageReader.is(n.reader)&&R.MessageWriter.is(n.writer)}t.is=e})(dD=Ge.MessageTransports||(Ge.MessageTransports={}));var Cu=class{constructor(e,n){this._resolve=e,this._reject=n,this._used=!1}get isUsed(){return this._used}resolve(){this._used=!0,this._resolve()}reject(e){this._used=!0,this._reject(e)}},Si=class{constructor(e,n,r){var i;this._traceFormat=R.TraceFormat.Text,this._features=[],this._dynamicFeatures=new Map,this._id=e,this._name=n,r=r||{};let s={isTrusted:!1};r.markdown!==void 0&&r.markdown.isTrusted===!0&&(s.isTrusted=!0),this._clientOptions={documentSelector:r.documentSelector||[],synchronize:r.synchronize||{},diagnosticCollectionName:r.diagnosticCollectionName,outputChannelName:r.outputChannelName||this._name,revealOutputChannelOn:r.revealOutputChannelOn||xo.Error,stdioEncoding:r.stdioEncoding||"utf8",initializationOptions:r.initializationOptions,initializationFailedHandler:r.initializationFailedHandler,progressOnInitialization:!!r.progressOnInitialization,errorHandler:r.errorHandler||this.createDefaultErrorHandler((i=r.connectionOptions)===null||i===void 0?void 0:i.maxRestartCount),middleware:r.middleware||{},uriConverters:r.uriConverters,workspaceFolder:r.workspaceFolder,connectionOptions:r.connectionOptions,markdown:s},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=je.Initial,this._connectionPromise=void 0,this._resolvedConnection=void 0,this._initializeResult=void 0,r.outputChannel?(this._outputChannel=r.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=r.traceOutputChannel,this._listeners=void 0,this._providers=void 0,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new pp.Delayer(250),this._onReady=new Promise((o,c)=>{this._onReadyCallbacks=new Cu(o,c)}),this._onStop=void 0,this._telemetryEmitter=new R.Emitter,this._stateChangeEmitter=new R.Emitter,this._trace=R.Trace.Off,this._tracer={log:(o,c)=>{Me.string(o)?this.logTrace(o,c):this.logObjectTrace(o)}},this._c2p=sD.createConverter(r.uriConverters?r.uriConverters.code2Protocol:void 0),this._p2c=aD.createConverter(r.uriConverters?r.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get state(){return this._state}set state(e){let n=this.getPublicState();this._state=e;let r=this.getPublicState();r!==n&&this._stateChangeEmitter.fire({oldState:n,newState:r})}getPublicState(){return this.state===je.Running?Bs.Running:this.state===je.Starting?Bs.Starting:Bs.Stopped}get initializeResult(){return this._initializeResult}sendRequest(e,...n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{return this._resolvedConnection.sendRequest(e,...n)}catch(r){throw this.error(`Sending request ${Me.string(e)?e:e.method} failed.`,r),r}}onRequest(e,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onRequest(e,n)}catch(r){throw this.error(`Registering request handler ${Me.string(e)?e:e.method} failed.`,r),r}}sendNotification(e,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendNotification(e,n)}catch(r){throw this.error(`Sending notification ${Me.string(e)?e:e.method} failed.`,r),r}}onNotification(e,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onNotification(e,n)}catch(r){throw this.error(`Registering notification handler ${Me.string(e)?e:e.method} failed.`,r),r}}onProgress(e,n,r){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{if(R.WorkDoneProgress.is(e)){let i=this._clientOptions.middleware.handleWorkDoneProgress;if(i!==void 0)return this._resolvedConnection.onProgress(e,n,s=>{i(n,s,()=>r(s))})}return this._resolvedConnection.onProgress(e,n,r)}catch(i){throw this.error(`Registering progress handler for token ${n} failed.`,i),i}}sendProgress(e,n,r){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendProgress(e,n,r)}catch(i){throw this.error(`Sending progress for token ${n} failed.`,i),i}}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=K.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new vp(this._name,e??4)}set trace(e){this._trace=e,this.onReady().then(()=>{this.resolveConnection().then(n=>{n.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})})},()=>{})}data2String(e){if(e instanceof R.ResponseError){let n=e;return`  Message: ${n.message}
  Code: ${n.code} ${n.data?`
`+n.data.toString():""}`}return e instanceof Error?Me.string(e.stack)?e.stack:e.message:Me.string(e)?e:e.toString()}info(e,n,r=!0){this.outputChannel.appendLine(`[Info  - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.outputChannel.appendLine(this.data2String(n)),r&&this._clientOptions.revealOutputChannelOn<=xo.Info&&this.showNotificationMessage()}warn(e,n,r=!0){this.outputChannel.appendLine(`[Warn  - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.outputChannel.appendLine(this.data2String(n)),r&&this._clientOptions.revealOutputChannelOn<=xo.Warn&&this.showNotificationMessage()}error(e,n,r=!0){this.outputChannel.appendLine(`[Error - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.outputChannel.appendLine(this.data2String(n)),r&&this._clientOptions.revealOutputChannelOn<=xo.Error&&this.showNotificationMessage()}showNotificationMessage(){K.window.showInformationMessage("A request has failed. See the output for more information.","Go to output").then(()=>{this.outputChannel.show(!0)})}logTrace(e,n){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.traceOutputChannel.appendLine(this.data2String(n))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.state===je.Initial||this.state===je.Stopping||this.state===je.Stopped}needsStop(){return this.state===je.Starting||this.state===je.Running}onReady(){return this._onReady}isConnectionActive(){return this.state===je.Running&&!!this._resolvedConnection}start(){return this._onReadyCallbacks.isUsed&&(this._onReady=new Promise((e,n)=>{this._onReadyCallbacks=new Cu(e,n)})),this._listeners=[],this._providers=[],this._diagnostics||(this._diagnostics=this._clientOptions.diagnosticCollectionName?K.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):K.languages.createDiagnosticCollection()),this.state=je.Starting,this.resolveConnection().then(e=>(e.onLogMessage(n=>{switch(n.type){case R.MessageType.Error:this.error(n.message,void 0,!1);break;case R.MessageType.Warning:this.warn(n.message,void 0,!1);break;case R.MessageType.Info:this.info(n.message,void 0,!1);break;default:this.outputChannel.appendLine(n.message)}}),e.onShowMessage(n=>{switch(n.type){case R.MessageType.Error:K.window.showErrorMessage(n.message);break;case R.MessageType.Warning:K.window.showWarningMessage(n.message);break;case R.MessageType.Info:K.window.showInformationMessage(n.message);break;default:K.window.showInformationMessage(n.message)}}),e.onRequest(R.ShowMessageRequest.type,n=>{let r;switch(n.type){case R.MessageType.Error:r=K.window.showErrorMessage;break;case R.MessageType.Warning:r=K.window.showWarningMessage;break;case R.MessageType.Info:r=K.window.showInformationMessage;break;default:r=K.window.showInformationMessage}let i=n.actions||[];return r(n.message,...i)}),e.onTelemetry(n=>{this._telemetryEmitter.fire(n)}),e.onRequest(R.ShowDocumentRequest.type,async n=>{var r;let i=async o=>{let c=this.protocol2CodeConverter.asUri(o.uri);try{if(o.external===!0)return{success:await K.env.openExternal(c)};{let a={};return o.selection!==void 0&&(a.selection=this.protocol2CodeConverter.asRange(o.selection)),o.takeFocus===void 0||o.takeFocus===!1?a.preserveFocus=!0:o.takeFocus===!0&&(a.preserveFocus=!1),await K.window.showTextDocument(c,a),{success:!0}}}catch{return{success:!0}}},s=(r=this._clientOptions.middleware.window)===null||r===void 0?void 0:r.showDocument;return s!==void 0?s(n,i):i(n)}),e.listen(),this.initialize(e))).then(void 0,e=>{this.state=je.StartFailed,this._onReadyCallbacks.reject(e),this.error("Starting client failed",e),K.window.showErrorMessage(`Couldn't start client ${this._name}`)}),new K.Disposable(()=>{this.needsStop()&&this.stop()})}resolveConnection(){return this._connectionPromise||(this._connectionPromise=this.createConnection()),this._connectionPromise}initialize(e){this.refreshTrace(e,!1);let n=this._clientOptions.initializationOptions,r=this._clientOptions.workspaceFolder?this._clientOptions.workspaceFolder.uri.fsPath:this._clientGetRootPath(),i={processId:null,clientInfo:{name:K.env.appName,version:K.version},locale:this.getLocale(),rootPath:r||null,rootUri:r?this._c2p.asUri(K.Uri.file(r)):null,capabilities:this.computeClientCapabilities(),initializationOptions:Me.func(n)?n():n,trace:R.Trace.toString(this._trace),workspaceFolders:null};if(this.fillInitializeParams(i),this._clientOptions.progressOnInitialization){let s=xe.generateUuid(),o=new cD.ProgressPart(e,s);return i.workDoneToken=s,this.doInitialize(e,i).then(c=>(o.done(),c),c=>{throw o.cancel(),c})}else return this.doInitialize(e,i)}doInitialize(e,n){return e.initialize(n).then(r=>{this._resolvedConnection=e,this._initializeResult=r,this.state=je.Running;let i;return Me.number(r.capabilities.textDocumentSync)?r.capabilities.textDocumentSync===R.TextDocumentSyncKind.None?i={openClose:!1,change:R.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:r.capabilities.textDocumentSync,save:{includeText:!1}}:r.capabilities.textDocumentSync!==void 0&&r.capabilities.textDocumentSync!==null&&(i=r.capabilities.textDocumentSync),this._capabilities=Object.assign({},r.capabilities,{resolvedTextDocumentSync:i}),e.onDiagnostics(s=>this.handleDiagnostics(s)),e.onRequest(R.RegistrationRequest.type,s=>this.handleRegistrationRequest(s)),e.onRequest("client/registerFeature",s=>this.handleRegistrationRequest(s)),e.onRequest(R.UnregistrationRequest.type,s=>this.handleUnregistrationRequest(s)),e.onRequest("client/unregisterFeature",s=>this.handleUnregistrationRequest(s)),e.onRequest(R.ApplyWorkspaceEditRequest.type,s=>this.handleApplyWorkspaceEdit(s)),e.sendNotification(R.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),this._onReadyCallbacks.resolve(),r}).then(void 0,r=>{throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(r)?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(r)):r instanceof R.ResponseError&&r.data&&r.data.retry?K.window.showErrorMessage(r.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(r))}):(r&&r.message&&K.window.showErrorMessage(r.message),this.error("Server initialization failed.",r),this.stop(),this._onReadyCallbacks.reject(r)),r})}_clientGetRootPath(){let e=K.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}stop(){return this._initializeResult=void 0,this._connectionPromise?this.state===je.Stopping&&this._onStop?this._onStop:(this.state=je.Stopping,this.cleanUp(!1),this._onStop=this.resolveConnection().then(e=>e.shutdown().then(()=>{e.exit(),e.end(),e.dispose(),this.state=je.Stopped,this.cleanUpChannel(),this._onStop=void 0,this._connectionPromise=void 0,this._resolvedConnection=void 0}))):(this.state=je.Stopped,Promise.resolve())}cleanUp(e=!0,n=!0){this._listeners&&(this._listeners.forEach(r=>r.dispose()),this._listeners=void 0),this._providers&&(this._providers.forEach(r=>r.dispose()),this._providers=void 0),this._syncedDocuments&&this._syncedDocuments.clear();for(let r of this._features.values())r.dispose();e&&this.cleanUpChannel(),n&&this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0)}cleanUpChannel(){this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){var n;let r=this;function i(o){r._fileEvents.push(o),r._fileEventDelayer.trigger(()=>{r.onReady().then(()=>{r.resolveConnection().then(c=>{r.isConnectionActive()&&(r.forceDocumentSync(),c.didChangeWatchedFiles({changes:r._fileEvents})),r._fileEvents=[]})},c=>{r.error("Notify file events failed.",c)})})}let s=(n=this.clientOptions.middleware)===null||n===void 0?void 0:n.workspace;(s==null?void 0:s.didChangeWatchedFile)?s.didChangeWatchedFile(e,i):i(e)}forceDocumentSync(){this._didChangeTextDocumentFeature===void 0&&(this._didChangeTextDocumentFeature=this._dynamicFeatures.get(R.DidChangeTextDocumentNotification.type.method)),this._didChangeTextDocumentFeature.forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;let n=this._p2c.asUri(e.uri),r=this._p2c.asDiagnostics(e.diagnostics),i=this.clientOptions.middleware;i.handleDiagnostics?i.handleDiagnostics(n,r,(s,o)=>this.setDiagnostics(s,o)):this.setDiagnostics(n,r)}setDiagnostics(e,n){!this._diagnostics||this._diagnostics.set(e,n)}createConnection(){let e=(r,i,s)=>{this.handleConnectionError(r,i,s)},n=()=>{this.handleConnectionClosed()};return this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8").then(r=>uD(r.reader,r.writer,e,n,this._clientOptions.connectionOptions))}handleConnectionClosed(){if(this.state===je.Stopping||this.state===je.Stopped)return;try{this._resolvedConnection&&this._resolvedConnection.dispose()}catch{}let e=Yr.DoNotRestart;try{e=this._clientOptions.errorHandler.closed()}catch{}this._connectionPromise=void 0,this._resolvedConnection=void 0,e===Yr.DoNotRestart?(this.error("Connection to server got closed. Server will not be restarted."),this.state===je.Starting?(this._onReadyCallbacks.reject(new Error("Connection to server got closed. Server will not be restarted.")),this.state=je.StartFailed):this.state=je.Stopped,this.cleanUp(!1,!0)):e===Yr.Restart&&(this.info("Connection to server got closed. Server will restart."),this.cleanUp(!1,!1),this.state=je.Initial,this.start())}handleConnectionError(e,n,r){this._clientOptions.errorHandler.error(e,n,r)===Us.Shutdown&&(this.error("Connection to server is erroring. Shutting down server."),this.stop())}hookConfigurationChanged(e){K.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)})}refreshTrace(e,n=!1){let r=K.workspace.getConfiguration(this._id),i=R.Trace.Off,s=R.TraceFormat.Text;if(r){let o=r.get("trace.server","off");typeof o=="string"?i=R.Trace.fromString(o):(i=R.Trace.fromString(r.get("trace.server.verbosity","off")),s=R.TraceFormat.fromString(r.get("trace.server.format","text")))}this._trace=i,this._traceFormat=s,e.trace(this._trace,this._tracer,{sendNotification:n,traceFormat:this._traceFormat})}hookFileEvents(e){let n=this._clientOptions.synchronize.fileEvents;if(!n)return;let r;Me.array(n)?r=n:r=[n],!!r&&this._dynamicFeatures.get(R.DidChangeWatchedFilesNotification.type.method).registerRaw(xe.generateUuid(),r)}registerFeatures(e){for(let n of e)this.registerFeature(n)}registerFeature(e){if(this._features.push(e),Ru.is(e)){let n=e.registrationType;this._dynamicFeatures.set(n.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}registerBuiltinFeatures(){this.registerFeature(new zp(this)),this.registerFeature(new wp(this,this._syncedDocuments)),this.registerFeature(new Rp(this)),this.registerFeature(new Cp(this)),this.registerFeature(new Sp(this)),this.registerFeature(new Pp(this)),this.registerFeature(new bp(this,this._syncedDocuments)),this.registerFeature(new Dp(this,e=>this.notifyFileEvent(e))),this.registerFeature(new qp(this)),this.registerFeature(new Ep(this)),this.registerFeature(new Op(this)),this.registerFeature(new Fp(this)),this.registerFeature(new kp(this)),this.registerFeature(new Mp(this)),this.registerFeature(new xp(this)),this.registerFeature(new Ip(this)),this.registerFeature(new Np(this)),this.registerFeature(new Ap(this)),this.registerFeature(new jp(this)),this.registerFeature(new Lp(this)),this.registerFeature(new Wp(this)),this.registerFeature(new $p(this)),this.registerFeature(new Hp(this)),this.registerFeature(new Kp(this))}fillInitializeParams(e){for(let n of this._features)Me.func(n.fillInitializeParams)&&n.fillInitializeParams(e)}computeClientCapabilities(){let e={};J(e,"workspace").applyEdit=!0;let n=J(J(e,"workspace"),"workspaceEdit");n.documentChanges=!0,n.resourceOperations=[R.ResourceOperationKind.Create,R.ResourceOperationKind.Rename,R.ResourceOperationKind.Delete],n.failureHandling=R.FailureHandlingKind.TextOnlyTransactional,n.normalizesLineEndings=!0,n.changeAnnotationSupport={groupsOnLabel:!0};let r=J(J(e,"textDocument"),"publishDiagnostics");r.relatedInformation=!0,r.versionSupport=!1,r.tagSupport={valueSet:[R.DiagnosticTag.Unnecessary,R.DiagnosticTag.Deprecated]},r.codeDescriptionSupport=!0,r.dataSupport=!0;let i=J(e,"window"),s=J(i,"showMessage");s.messageActionItem={additionalPropertiesSupport:!0};let o=J(i,"showDocument");o.support=!0;let c=J(e,"general");c.regularExpressions={engine:"ECMAScript",version:"ES2020"},c.markdown={parser:"marked",version:"1.1.0"};for(let a of this._features)a.fillClientCapabilities(e);return e}initializeFeatures(e){let n=this._clientOptions.documentSelector;for(let r of this._features)r.initialize(this._capabilities,n)}handleRegistrationRequest(e){return new Promise((n,r)=>{for(let i of e.registrations){let s=this._dynamicFeatures.get(i.method);if(s===void 0){r(new Error(`No feature implementation for ${i.method} found. Registration failed.`));return}let o=i.registerOptions||{};o.documentSelector=o.documentSelector||this._clientOptions.documentSelector;let c={id:i.id,registerOptions:o};try{s.register(c)}catch(a){r(a);return}}n()})}handleUnregistrationRequest(e){return new Promise((n,r)=>{for(let i of e.unregisterations){let s=this._dynamicFeatures.get(i.method);if(!s){r(new Error(`No feature implementation for ${i.method} found. Unregistration failed.`));return}s.unregister(i.id)}n()})}handleApplyWorkspaceEdit(e){let n=e.edit,r=new Map;K.workspace.textDocuments.forEach(s=>r.set(s.uri.toString(),s));let i=!1;if(n.documentChanges){for(let s of n.documentChanges)if(R.TextDocumentEdit.is(s)&&s.textDocument.version&&s.textDocument.version>=0){let o=r.get(s.textDocument.uri);if(o&&o.version!==s.textDocument.version){i=!0;break}}}return i?Promise.resolve({applied:!1}):Me.asPromise(K.workspace.applyEdit(this._p2c.asWorkspaceEdit(e.edit)).then(s=>({applied:s})))}handleFailedRequest(e,n,r){if(n instanceof R.ResponseError){if(n.code===R.LSPErrorCodes.RequestCancelled)throw this.makeCancelError();if(n.code===R.LSPErrorCodes.ContentModified)return r}throw this.error(`Request ${e.method} failed.`,n),n}makeCancelError(){let e=new Error(Si.Canceled);return e.name=Si.Canceled,e}};Ge.BaseLanguageClient=Si;Si.Canceled="Canceled"});var Gp=T(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.ColorProviderFeature=void 0;var Gs=require("vscode"),No=ie(),fD=At();function Up(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Bp=class extends fD.TextDocumentFeature{constructor(e){super(e,No.DocumentColorRequest.type)}fillClientCapabilities(e){Up(Up(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.colorProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideColorPresentations:(r,i,s)=>{let o=this._client,c=(d,h,p)=>{let m={color:d,textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(h.document),range:o.code2ProtocolConverter.asRange(h.range)};return o.sendRequest(No.ColorPresentationRequest.type,m,p).then(this.asColorPresentations.bind(this),v=>o.handleFailedRequest(No.ColorPresentationRequest.type,v,null))},a=o.clientOptions.middleware;return a.provideColorPresentations?a.provideColorPresentations(r,i,s,c):c(r,i,s)},provideDocumentColors:(r,i)=>{let s=this._client,o=(a,d)=>{let h={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(a)};return s.sendRequest(No.DocumentColorRequest.type,h,d).then(this.asColorInformations.bind(this),p=>s.handleFailedRequest(No.ColorPresentationRequest.type,p,null))},c=s.clientOptions.middleware;return c.provideDocumentColors?c.provideDocumentColors(r,i,o):o(r,i)}};return[Gs.languages.registerColorProvider(e.documentSelector,n),n]}asColor(e){return new Gs.Color(e.red,e.green,e.blue,e.alpha)}asColorInformations(e){return Array.isArray(e)?e.map(n=>new Gs.ColorInformation(this._client.protocol2CodeConverter.asRange(n.range),this.asColor(n.color))):[]}asColorPresentations(e){return Array.isArray(e)?e.map(n=>{let r=new Gs.ColorPresentation(n.label);return r.additionalTextEdits=this._client.protocol2CodeConverter.asTextEdits(n.additionalTextEdits),r.textEdit=this._client.protocol2CodeConverter.asTextEdit(n.textEdit),r}):[]}};Xs.ColorProviderFeature=Bp});var Jp=T(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.ImplementationFeature=void 0;var hD=require("vscode"),Su=ie(),gD=At();function Xp(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Vp=class extends gD.TextDocumentFeature{constructor(e){super(e,Su.ImplementationRequest.type)}fillClientCapabilities(e){let n=Xp(Xp(e,"textDocument"),"implementation");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.implementationProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideImplementation:(r,i,s)=>{let o=this._client,c=(d,h,p)=>o.sendRequest(Su.ImplementationRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(d,h),p).then(o.protocol2CodeConverter.asDefinitionResult,m=>o.handleFailedRequest(Su.ImplementationRequest.type,m,null)),a=o.clientOptions.middleware;return a.provideImplementation?a.provideImplementation(r,i,s,c):c(r,i,s)}};return[hD.languages.registerImplementationProvider(e.documentSelector,n),n]}};Vs.ImplementationFeature=Vp});var Yp=T(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.TypeDefinitionFeature=void 0;var pD=require("vscode"),Pu=ie(),mD=At();function Js(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Qp=class extends mD.TextDocumentFeature{constructor(e){super(e,Pu.TypeDefinitionRequest.type)}fillClientCapabilities(e){Js(Js(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let n=Js(Js(e,"textDocument"),"typeDefinition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.typeDefinitionProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideTypeDefinition:(r,i,s)=>{let o=this._client,c=(d,h,p)=>o.sendRequest(Pu.TypeDefinitionRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(d,h),p).then(o.protocol2CodeConverter.asDefinitionResult,m=>o.handleFailedRequest(Pu.TypeDefinitionRequest.type,m,null)),a=o.clientOptions.middleware;return a.provideTypeDefinition?a.provideTypeDefinition(r,i,s,c):c(r,i,s)}};return[pD.languages.registerTypeDefinitionProvider(e.documentSelector,n),n]}};Qs.TypeDefinitionFeature=Qp});var em=T(Pi=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});Pi.WorkspaceFoldersFeature=Pi.arrayDiff=void 0;var vD=zs(),Ys=require("vscode"),Du=ie();function Tu(t,e){if(t!==void 0)return t[e]}function qu(t,e){return t.filter(n=>e.indexOf(n)<0)}Pi.arrayDiff=qu;var Zp=class{constructor(e){this._client=e,this._listeners=new Map}get registrationType(){return Du.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let n=Ys.workspace.workspaceFolders;this.initializeWithFolders(n),n===void 0?e.workspaceFolders=null:e.workspaceFolders=n.map(r=>this.asProtocol(r))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let n=this._client;n.onRequest(Du.WorkspaceFoldersRequest.type,s=>{let o=()=>{let a=Ys.workspace.workspaceFolders;return a===void 0?null:a.map(h=>this.asProtocol(h))},c=n.clientOptions.middleware.workspace;return c&&c.workspaceFolders?c.workspaceFolders(s,o):o(s)});let r=Tu(Tu(Tu(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof r=="string"?i=r:r===!0&&(i=vD.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){if(this._initialFolders&&e){let n=qu(this._initialFolders,e),r=qu(e,this._initialFolders);(r.length>0||n.length>0)&&this.doSendEvent(r,n)}else this._initialFolders?this.doSendEvent([],this._initialFolders):e&&this.doSendEvent(e,[])}doSendEvent(e,n){let r={event:{added:e.map(i=>this.asProtocol(i)),removed:n.map(i=>this.asProtocol(i))}};this._client.sendNotification(Du.DidChangeWorkspaceFoldersNotification.type,r)}register(e){let n=e.id,r=this._client,i=Ys.workspace.onDidChangeWorkspaceFolders(s=>{let o=a=>{this.doSendEvent(a.added,a.removed)},c=r.clientOptions.middleware.workspace;c&&c.didChangeWorkspaceFolders?c.didChangeWorkspaceFolders(s,o):o(s)});this._listeners.set(n,i),this.sendInitialEvent(Ys.workspace.workspaceFolders)}unregister(e){let n=this._listeners.get(e);n!==void 0&&(this._listeners.delete(e),n.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};Pi.WorkspaceFoldersFeature=Zp});var nm=T(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.FoldingRangeFeature=void 0;var Ao=require("vscode"),Di=ie(),yD=At();function tm(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var jo=class extends yD.TextDocumentFeature{constructor(e){super(e,Di.FoldingRangeRequest.type)}fillClientCapabilities(e){let n=tm(tm(e,"textDocument"),"foldingRange");n.dynamicRegistration=!0,n.rangeLimit=5e3,n.lineFoldingOnly=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.foldingRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideFoldingRanges:(r,i,s)=>{let o=this._client,c=(d,h,p)=>{let m={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(d)};return o.sendRequest(Di.FoldingRangeRequest.type,m,p).then(jo.asFoldingRanges,v=>o.handleFailedRequest(Di.FoldingRangeRequest.type,v,null))},a=o.clientOptions.middleware;return a.provideFoldingRanges?a.provideFoldingRanges(r,i,s,c):c(r,i,s)}};return[Ao.languages.registerFoldingRangeProvider(e.documentSelector,n),n]}static asFoldingRangeKind(e){if(e)switch(e){case Di.FoldingRangeKind.Comment:return Ao.FoldingRangeKind.Comment;case Di.FoldingRangeKind.Imports:return Ao.FoldingRangeKind.Imports;case Di.FoldingRangeKind.Region:return Ao.FoldingRangeKind.Region}}static asFoldingRanges(e){return Array.isArray(e)?e.map(n=>new Ao.FoldingRange(n.startLine,n.endLine,jo.asFoldingRangeKind(n.kind))):[]}};Zs.FoldingRangeFeature=jo});var om=T(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.DeclarationFeature=void 0;var _D=require("vscode"),Eu=ie(),wD=At();function rm(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var im=class extends wD.TextDocumentFeature{constructor(e){super(e,Eu.DeclarationRequest.type)}fillClientCapabilities(e){let n=rm(rm(e,"textDocument"),"declaration");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.declarationProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideDeclaration:(r,i,s)=>{let o=this._client,c=(d,h,p)=>o.sendRequest(Eu.DeclarationRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(d,h),p).then(o.protocol2CodeConverter.asDeclarationResult,m=>o.handleFailedRequest(Eu.DeclarationRequest.type,m,null)),a=o.clientOptions.middleware;return a.provideDeclaration?a.provideDeclaration(r,i,s,c):c(r,i,s)}};return[_D.languages.registerDeclarationProvider(e.documentSelector,n),n]}};ea.DeclarationFeature=im});var cm=T(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.SelectionRangeFeature=void 0;var bD=require("vscode"),Ou=ie(),RD=At();function sm(t,e){return t[e]===void 0&&(t[e]=Object.create(null)),t[e]}var am=class extends RD.TextDocumentFeature{constructor(e){super(e,Ou.SelectionRangeRequest.type)}fillClientCapabilities(e){let n=sm(sm(e,"textDocument"),"selectionRange");n.dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.selectionRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideSelectionRanges:(r,i,s)=>{let o=this._client,c=(d,h,p)=>{let m={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(d),positions:o.code2ProtocolConverter.asPositions(h)};return o.sendRequest(Ou.SelectionRangeRequest.type,m,p).then(v=>o.protocol2CodeConverter.asSelectionRanges(v),v=>o.handleFailedRequest(Ou.SelectionRangeRequest.type,v,null))},a=o.clientOptions.middleware;return a.provideSelectionRanges?a.provideSelectionRanges(r,i,s,c):c(r,i,s)}};return[bD.languages.registerSelectionRangeProvider(e.documentSelector,n),n]}};ta.SelectionRangeFeature=am});var lm=T(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.ProgressFeature=void 0;var CD=ie(),SD=bu();function PD(t,e){return t[e]===void 0&&(t[e]=Object.create(null)),t[e]}var um=class{constructor(e){this._client=e,this.activeParts=new Set}fillClientCapabilities(e){PD(e,"window").workDoneProgress=!0}initialize(){let e=this._client,n=i=>{this.activeParts.delete(i)},r=i=>{this.activeParts.add(new SD.ProgressPart(this._client,i.token,n))};e.onRequest(CD.WorkDoneProgressCreateRequest.type,r)}dispose(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};na.ProgressFeature=um});var gm=T(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.CallHierarchyFeature=void 0;var DD=require("vscode"),Zr=ie(),TD=At();function dm(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var fm=class{constructor(e){this.client=e,this.middleware=e.clientOptions.middleware}prepareCallHierarchy(e,n,r){let i=this.client,s=this.middleware,o=(c,a,d)=>{let h=i.code2ProtocolConverter.asTextDocumentPositionParams(c,a);return i.sendRequest(Zr.CallHierarchyPrepareRequest.type,h,d).then(p=>i.protocol2CodeConverter.asCallHierarchyItems(p),p=>i.handleFailedRequest(Zr.CallHierarchyPrepareRequest.type,p,null))};return s.prepareCallHierarchy?s.prepareCallHierarchy(e,n,r,o):o(e,n,r)}provideCallHierarchyIncomingCalls(e,n){let r=this.client,i=this.middleware,s=(o,c)=>{let a={item:r.code2ProtocolConverter.asCallHierarchyItem(o)};return r.sendRequest(Zr.CallHierarchyIncomingCallsRequest.type,a,c).then(d=>r.protocol2CodeConverter.asCallHierarchyIncomingCalls(d),d=>r.handleFailedRequest(Zr.CallHierarchyIncomingCallsRequest.type,d,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,n,s):s(e,n)}provideCallHierarchyOutgoingCalls(e,n){let r=this.client,i=this.middleware,s=(o,c)=>{let a={item:r.code2ProtocolConverter.asCallHierarchyItem(o)};return r.sendRequest(Zr.CallHierarchyOutgoingCallsRequest.type,a,c).then(d=>r.protocol2CodeConverter.asCallHierarchyOutgoingCalls(d),d=>r.handleFailedRequest(Zr.CallHierarchyOutgoingCallsRequest.type,d,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,n,s):s(e,n)}},hm=class extends TD.TextDocumentFeature{constructor(e){super(e,Zr.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let r=dm(dm(e,"textDocument"),"callHierarchy");r.dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.callHierarchyProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=this._client,r=new fm(n);return[DD.languages.registerCallHierarchyProvider(e.documentSelector,r),r]}};ra.CallHierarchyFeature=hm});var mm=T(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.SemanticTokensFeature=void 0;var ia=require("vscode"),qD=At(),ae=ie(),ED=pr();function oa(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var pm=class extends qD.TextDocumentFeature{constructor(e){super(e,ae.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let n=oa(oa(e,"textDocument"),"semanticTokens");n.dynamicRegistration=!0,n.tokenTypes=[ae.SemanticTokenTypes.namespace,ae.SemanticTokenTypes.type,ae.SemanticTokenTypes.class,ae.SemanticTokenTypes.enum,ae.SemanticTokenTypes.interface,ae.SemanticTokenTypes.struct,ae.SemanticTokenTypes.typeParameter,ae.SemanticTokenTypes.parameter,ae.SemanticTokenTypes.variable,ae.SemanticTokenTypes.property,ae.SemanticTokenTypes.enumMember,ae.SemanticTokenTypes.event,ae.SemanticTokenTypes.function,ae.SemanticTokenTypes.method,ae.SemanticTokenTypes.macro,ae.SemanticTokenTypes.keyword,ae.SemanticTokenTypes.modifier,ae.SemanticTokenTypes.comment,ae.SemanticTokenTypes.string,ae.SemanticTokenTypes.number,ae.SemanticTokenTypes.regexp,ae.SemanticTokenTypes.operator],n.tokenModifiers=[ae.SemanticTokenModifiers.declaration,ae.SemanticTokenModifiers.definition,ae.SemanticTokenModifiers.readonly,ae.SemanticTokenModifiers.static,ae.SemanticTokenModifiers.deprecated,ae.SemanticTokenModifiers.abstract,ae.SemanticTokenModifiers.async,ae.SemanticTokenModifiers.modification,ae.SemanticTokenModifiers.documentation,ae.SemanticTokenModifiers.defaultLibrary],n.formats=[ae.TokenFormat.Relative],n.requests={range:!0,full:{delta:!0}},n.multilineTokenSupport=!1,n.overlappingTokenSupport=!1,oa(oa(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,n){this._client.onRequest(ae.SemanticTokensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeSemanticTokensEmitter.fire()});let[i,s]=this.getRegistration(n,e.semanticTokensProvider);!i||!s||this.register({id:i,registerOptions:s})}registerLanguageProvider(e){let n=ED.boolean(e.full)?e.full:e.full!==void 0,r=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,i=new ia.EventEmitter,s=n?{onDidChangeSemanticTokens:i.event,provideDocumentSemanticTokens:(p,m)=>{let v=this._client,O=v.clientOptions.middleware,F=(N,w)=>{let C={textDocument:v.code2ProtocolConverter.asTextDocumentIdentifier(N)};return v.sendRequest(ae.SemanticTokensRequest.type,C,w).then(q=>v.protocol2CodeConverter.asSemanticTokens(q),q=>v.handleFailedRequest(ae.SemanticTokensRequest.type,q,null))};return O.provideDocumentSemanticTokens?O.provideDocumentSemanticTokens(p,m,F):F(p,m)},provideDocumentSemanticTokensEdits:r?(p,m,v)=>{let O=this._client,F=O.clientOptions.middleware,N=(w,C,q)=>{let k={textDocument:O.code2ProtocolConverter.asTextDocumentIdentifier(w),previousResultId:C};return O.sendRequest(ae.SemanticTokensDeltaRequest.type,k,q).then(A=>ae.SemanticTokens.is(A)?O.protocol2CodeConverter.asSemanticTokens(A):O.protocol2CodeConverter.asSemanticTokensEdits(A),A=>O.handleFailedRequest(ae.SemanticTokensDeltaRequest.type,A,null))};return F.provideDocumentSemanticTokensEdits?F.provideDocumentSemanticTokensEdits(p,m,v,N):N(p,m,v)}:void 0}:void 0,c=e.range===!0?{provideDocumentRangeSemanticTokens:(p,m,v)=>{let O=this._client,F=O.clientOptions.middleware,N=(w,C,q)=>{let k={textDocument:O.code2ProtocolConverter.asTextDocumentIdentifier(w),range:O.code2ProtocolConverter.asRange(C)};return O.sendRequest(ae.SemanticTokensRangeRequest.type,k,q).then(A=>O.protocol2CodeConverter.asSemanticTokens(A),A=>O.handleFailedRequest(ae.SemanticTokensRangeRequest.type,A,null))};return F.provideDocumentRangeSemanticTokens?F.provideDocumentRangeSemanticTokens(p,m,v,N):N(p,m,v)}}:void 0,a=[],h=this._client.protocol2CodeConverter.asSemanticTokensLegend(e.legend);return s!==void 0&&a.push(ia.languages.registerDocumentSemanticTokensProvider(e.documentSelector,s,h)),c!==void 0&&a.push(ia.languages.registerDocumentRangeSemanticTokensProvider(e.documentSelector,c,h)),[new ia.Disposable(()=>a.forEach(p=>p.dispose())),{range:c,full:s,onDidChangeSemanticTokensEmitter:i}]}};sa.SemanticTokensFeature=pm});var ym=T((MF,vm)=>{vm.exports=function(t,e){for(var n=[],r=0;r<t.length;r++){var i=e(t[r],r);OD(i)?n.push.apply(n,i):n.push(i)}return n};var OD=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var Cm=T((xF,Rm)=>{"use strict";Rm.exports=_m;function _m(t,e,n){t instanceof RegExp&&(t=wm(t,n)),e instanceof RegExp&&(e=wm(e,n));var r=bm(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function wm(t,e){var n=e.match(t);return n?n[0]:null}_m.range=bm;function bm(t,e,n){var r,i,s,o,c,a=n.indexOf(t),d=n.indexOf(e,a+1),h=a;if(a>=0&&d>0){if(t===e)return[a,d];for(r=[],s=n.length;h>=0&&!c;)h==a?(r.push(h),a=n.indexOf(t,h+1)):r.length==1?c=[r.pop(),d]:(i=r.pop(),i<s&&(s=i,o=d),d=n.indexOf(e,h+1)),h=a<d&&a>=0?a:d;r.length&&(c=[s,o])}return c}});var Fm=T((IF,Om)=>{var FD=ym(),Sm=Cm();Om.exports=xD;var Pm="\0SLASH"+Math.random()+"\0",Dm="\0OPEN"+Math.random()+"\0",Fu="\0CLOSE"+Math.random()+"\0",Tm="\0COMMA"+Math.random()+"\0",qm="\0PERIOD"+Math.random()+"\0";function ku(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function kD(t){return t.split("\\\\").join(Pm).split("\\{").join(Dm).split("\\}").join(Fu).split("\\,").join(Tm).split("\\.").join(qm)}function MD(t){return t.split(Pm).join("\\").split(Dm).join("{").split(Fu).join("}").split(Tm).join(",").split(qm).join(".")}function Em(t){if(!t)return[""];var e=[],n=Sm("{","}",t);if(!n)return t.split(",");var r=n.pre,i=n.body,s=n.post,o=r.split(",");o[o.length-1]+="{"+i+"}";var c=Em(s);return s.length&&(o[o.length-1]+=c.shift(),o.push.apply(o,c)),e.push.apply(e,o),e}function xD(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Ti(kD(t),!0).map(MD)):[]}function ID(t){return"{"+t+"}"}function ND(t){return/^-?0\d/.test(t)}function AD(t,e){return t<=e}function jD(t,e){return t>=e}function Ti(t,e){var n=[],r=Sm("{","}",t);if(!r||/\$$/.test(r.pre))return[t];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),o=i||s,c=r.body.indexOf(",")>=0;if(!o&&!c)return r.post.match(/,.*\}/)?(t=r.pre+"{"+r.body+Fu+r.post,Ti(t)):[t];var a;if(o)a=r.body.split(/\.\./);else if(a=Em(r.body),a.length===1&&(a=Ti(a[0],!1).map(ID),a.length===1)){var h=r.post.length?Ti(r.post,!1):[""];return h.map(function(x){return r.pre+a[0]+x})}var d=r.pre,h=r.post.length?Ti(r.post,!1):[""],p;if(o){var m=ku(a[0]),v=ku(a[1]),O=Math.max(a[0].length,a[1].length),F=a.length==3?Math.abs(ku(a[2])):1,N=AD,w=v<m;w&&(F*=-1,N=jD);var C=a.some(ND);p=[];for(var q=m;N(q,v);q+=F){var k;if(s)k=String.fromCharCode(q),k==="\\"&&(k="");else if(k=String(q),C){var A=O-k.length;if(A>0){var Y=new Array(A+1).join("0");q<0?k="-"+Y+k.slice(1):k=Y+k}}p.push(k)}}else p=FD(a,function(W){return Ti(W,!1)});for(var le=0;le<p.length;le++)for(var ye=0;ye<h.length;ye++){var ke=d+p[le]+h[ye];(!e||o||ke)&&n.push(ke)}return n}});var jm=T((NF,Am)=>{Am.exports=Qt;Qt.Minimatch=st;var Lo={sep:"/"};try{Lo=require("path")}catch{}var Mu=Qt.GLOBSTAR=st.GLOBSTAR={},LD=Fm(),km={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},xu="[^/]",Iu=xu+"*?",WD="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",$D="(?:(?!(?:\\/|^)\\.).)*?",Mm=HD("().*{}+?[]^$\\!");function HD(t){return t.split("").reduce(function(e,n){return e[n]=!0,e},{})}var xm=/\/+/;Qt.filter=zD;function zD(t,e){return e=e||{},function(n,r,i){return Qt(n,t,e)}}function Im(t,e){t=t||{},e=e||{};var n={};return Object.keys(e).forEach(function(r){n[r]=e[r]}),Object.keys(t).forEach(function(r){n[r]=t[r]}),n}Qt.defaults=function(t){if(!t||!Object.keys(t).length)return Qt;var e=Qt,n=function(i,s,o){return e.minimatch(i,s,Im(t,o))};return n.Minimatch=function(i,s){return new e.Minimatch(i,Im(t,s))},n};st.defaults=function(t){return!t||!Object.keys(t).length?st:Qt.defaults(t).Minimatch};function Qt(t,e,n){if(typeof e!="string")throw new TypeError("glob pattern string required");return n||(n={}),!n.nocomment&&e.charAt(0)==="#"?!1:e.trim()===""?t==="":new st(e,n).match(t)}function st(t,e){if(!(this instanceof st))return new st(t,e);if(typeof t!="string")throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),Lo.sep!=="/"&&(t=t.split(Lo.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}st.prototype.debug=function(){};st.prototype.make=KD;function KD(){if(!this._made){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var n=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error),this.debug(this.pattern,n),n=this.globParts=n.map(function(r){return r.split(xm)}),this.debug(this.pattern,n),n=n.map(function(r,i,s){return r.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(r){return r.indexOf(!1)===-1}),this.debug(this.pattern,n),this.set=n}}st.prototype.parseNegate=UD;function UD(){var t=this.pattern,e=!1,n=this.options,r=0;if(!n.nonegate){for(var i=0,s=t.length;i<s&&t.charAt(i)==="!";i++)e=!e,r++;r&&(this.pattern=t.substr(r)),this.negate=e}}Qt.braceExpand=function(t,e){return Nm(t,e)};st.prototype.braceExpand=Nm;function Nm(t,e){if(e||(this instanceof st?e=this.options:e={}),t=typeof t=="undefined"?this.pattern:t,typeof t=="undefined")throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:LD(t)}st.prototype.parse=BD;var aa={};function BD(t,e){if(t.length>1024*64)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&t==="**")return Mu;if(t==="")return"";var r="",i=!!n.nocase,s=!1,o=[],c=[],a,d=!1,h=-1,p=-1,m=t.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",v=this;function O(){if(a){switch(a){case"*":r+=Iu,i=!0;break;case"?":r+=xu,i=!0;break;default:r+="\\"+a;break}v.debug("clearStateChar %j %j",a,r),a=!1}}for(var F=0,N=t.length,w;F<N&&(w=t.charAt(F));F++){if(this.debug("%s	%s %s %j",t,F,r,w),s&&Mm[w]){r+="\\"+w,s=!1;continue}switch(w){case"/":return!1;case"\\":O(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,F,r,w),d){this.debug("  in class"),w==="!"&&F===p+1&&(w="^"),r+=w;continue}v.debug("call clearStateChar %j",a),O(),a=w,n.noext&&O();continue;case"(":if(d){r+="(";continue}if(!a){r+="\\(";continue}o.push({type:a,start:F-1,reStart:r.length,open:km[a].open,close:km[a].close}),r+=a==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",a,r),a=!1;continue;case")":if(d||!o.length){r+="\\)";continue}O(),i=!0;var C=o.pop();r+=C.close,C.type==="!"&&c.push(C),C.reEnd=r.length;continue;case"|":if(d||!o.length||s){r+="\\|",s=!1;continue}O(),r+="|";continue;case"[":if(O(),d){r+="\\"+w;continue}d=!0,p=F,h=r.length,r+=w;continue;case"]":if(F===p+1||!d){r+="\\"+w,s=!1;continue}if(d){var q=t.substring(p+1,F);try{RegExp("["+q+"]")}catch{var k=this.parse(q,aa);r=r.substr(0,h)+"\\["+k[0]+"\\]",i=i||k[1],d=!1;continue}}i=!0,d=!1,r+=w;continue;default:O(),s?s=!1:Mm[w]&&!(w==="^"&&d)&&(r+="\\"),r+=w}}for(d&&(q=t.substr(p+1),k=this.parse(q,aa),r=r.substr(0,h)+"\\["+k[0],i=i||k[1]),C=o.pop();C;C=o.pop()){var A=r.slice(C.reStart+C.open.length);this.debug("setting tail",r,C),A=A.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(tt,Ze,cn){return cn||(cn="\\"),Ze+Ze+cn+"|"}),this.debug(`tail=%j
   %s`,A,A,C,r);var Y=C.type==="*"?Iu:C.type==="?"?xu:"\\"+C.type;i=!0,r=r.slice(0,C.reStart)+Y+"\\("+A}O(),s&&(r+="\\\\");var le=!1;switch(r.charAt(0)){case".":case"[":case"(":le=!0}for(var ye=c.length-1;ye>-1;ye--){var ke=c[ye],W=r.slice(0,ke.reStart),x=r.slice(ke.reStart,ke.reEnd-8),L=r.slice(ke.reEnd-8,ke.reEnd),z=r.slice(ke.reEnd);L+=z;var fe=W.split("(").length-1,ee=z;for(F=0;F<fe;F++)ee=ee.replace(/\)[+*?]?/,"");z=ee;var de="";z===""&&e!==aa&&(de="$");var ne=W+x+z+de+L;r=ne}if(r!==""&&i&&(r="(?=.)"+r),le&&(r=m+r),e===aa)return[r,i];if(!i)return VD(t);var Ie=n.nocase?"i":"";try{var Te=new RegExp("^"+r+"$",Ie)}catch{return new RegExp("$.")}return Te._glob=t,Te._src=r,Te}Qt.makeRe=function(t,e){return new st(t,e||{}).makeRe()};st.prototype.makeRe=GD;function GD(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,n=e.noglobstar?Iu:e.dot?WD:$D,r=e.nocase?"i":"",i=t.map(function(s){return s.map(function(o){return o===Mu?n:typeof o=="string"?JD(o):o._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,r)}catch{this.regexp=!1}return this.regexp}Qt.match=function(t,e,n){n=n||{};var r=new st(e,n);return t=t.filter(function(i){return r.match(i)}),r.options.nonull&&!t.length&&t.push(e),t};st.prototype.match=XD;function XD(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&e)return!0;var n=this.options;Lo.sep!=="/"&&(t=t.split(Lo.sep).join("/")),t=t.split(xm),this.debug(this.pattern,"split",t);var r=this.set;this.debug(this.pattern,"set",r);var i,s;for(s=t.length-1;s>=0&&(i=t[s],!i);s--);for(s=0;s<r.length;s++){var o=r[s],c=t;n.matchBase&&o.length===1&&(c=[i]);var a=this.matchOne(c,o,e);if(a)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}st.prototype.matchOne=function(t,e,n){var r=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,s=0,o=t.length,c=e.length;i<o&&s<c;i++,s++){this.debug("matchOne loop");var a=e[s],d=t[i];if(this.debug(e,a,d),a===!1)return!1;if(a===Mu){this.debug("GLOBSTAR",[e,a,d]);var h=i,p=s+1;if(p===c){for(this.debug("** at the end");i<o;i++)if(t[i]==="."||t[i]===".."||!r.dot&&t[i].charAt(0)===".")return!1;return!0}for(;h<o;){var m=t[h];if(this.debug(`
globstar while`,t,h,e,p,m),this.matchOne(t.slice(h),e.slice(p),n))return this.debug("globstar found match!",h,o,m),!0;if(m==="."||m===".."||!r.dot&&m.charAt(0)==="."){this.debug("dot detected!",t,h,e,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,h,e,p),h===o))}var v;if(typeof a=="string"?(r.nocase?v=d.toLowerCase()===a.toLowerCase():v=d===a,this.debug("string match",a,d,v)):(v=d.match(a),this.debug("pattern match",a,d,v)),!v)return!1}if(i===o&&s===c)return!0;if(i===o)return n;if(s===c){var O=i===o-1&&t[i]==="";return O}throw new Error("wtf?")};function VD(t){return t.replace(/\\(.)/g,"$1")}function JD(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var Gm=T(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.WillDeleteFilesFeature=Dt.WillRenameFilesFeature=Dt.WillCreateFilesFeature=Dt.DidDeleteFilesFeature=Dt.DidRenameFilesFeature=Dt.DidCreateFilesFeature=void 0;var On=require("vscode"),QD=jm(),er=ie(),YD=zs();function Lm(t,e){return t[e]===void 0&&(t[e]={}),t[e]}function ZD(t,e){return t[e]}function Wm(t,e,n){t[e]=n}var ei=class{constructor(e,n,r,i,s){this._filters=new Map,this._client=e,this._event=n,this._registrationType=r,this._clientCapability=i,this._serverCapability=s}get registrationType(){return this._registrationType}fillClientCapabilities(e){let n=Lm(Lm(e,"workspace"),"fileOperations");Wm(n,"dynamicRegistration",!0),Wm(n,this._clientCapability,!0)}initialize(e){var n;let r=(n=e.workspace)===null||n===void 0?void 0:n.fileOperations,i=r!==void 0?ZD(r,this._serverCapability):void 0;if((i==null?void 0:i.filters)!==void 0)try{this.register({id:YD.generateUuid(),registerOptions:{filters:i.filters}})}catch(s){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${s}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let n=e.registerOptions.filters.map(r=>{let i=new QD.Minimatch(r.pattern.glob,ei.asMinimatchOptions(r.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${r.pattern.glob}!`);return{scheme:r.scheme,matcher:i,kind:r.pattern.matches}});this._filters.set(e.id,n)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}async filter(e,n){let r=await Promise.all(e.files.map(async s=>{let o=n(s),c=o.fsPath.replace(/\\/g,"/");for(let a of this._filters.values())for(let d of a)if(!(d.scheme!==void 0&&d.scheme!==o.scheme)){if(d.matcher.match(c)){if(d.kind===void 0)return!0;let h=await ei.getFileType(o);if(h===void 0)return this._client.error(`Failed to determine file type for ${o.toString()}.`),!0;if(h===On.FileType.File&&d.kind===er.FileOperationPatternKind.file||h===On.FileType.Directory&&d.kind===er.FileOperationPatternKind.folder)return!0}else if(d.kind===er.FileOperationPatternKind.folder&&await ei.getFileType(o)===On.FileType.Directory&&d.matcher.match(`${c}/`))return!0}return!1})),i=e.files.filter((s,o)=>r[o]);return Object.assign(Object.assign({},e),{files:i})}static async getFileType(e){try{return(await On.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){if(e!==void 0&&e.ignoreCase===!0)return{nocase:!0}}},ca=class extends ei{constructor(e,n,r,i,s,o,c){super(e,n,r,i,s);this._notificationType=r,this._accessUri=o,this._createParams=c}async send(e){let n=await this.filter(e,this._accessUri);if(n.files.length){let r=async i=>{this._client.sendNotification(this._notificationType,this._createParams(i))};this.doSend(n,r)}}},$m=class extends ca{constructor(e){super(e,On.workspace.onDidCreateFiles,er.DidCreateFilesNotification.type,"didCreate","didCreate",n=>n,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,n){var r;let i=(r=this._client.clientOptions.middleware)===null||r===void 0?void 0:r.workspace;return(i==null?void 0:i.didCreateFiles)?i.didCreateFiles(e,n):n(e)}};Dt.DidCreateFilesFeature=$m;var Hm=class extends ca{constructor(e){super(e,On.workspace.onDidRenameFiles,er.DidRenameFilesNotification.type,"didRename","didRename",n=>n.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}doSend(e,n){var r;let i=(r=this._client.clientOptions.middleware)===null||r===void 0?void 0:r.workspace;return(i==null?void 0:i.didRenameFiles)?i.didRenameFiles(e,n):n(e)}};Dt.DidRenameFilesFeature=Hm;var zm=class extends ca{constructor(e){super(e,On.workspace.onDidDeleteFiles,er.DidDeleteFilesNotification.type,"didDelete","didDelete",n=>n,e.code2ProtocolConverter.asDidDeleteFilesParams)}doSend(e,n){var r;let i=(r=this._client.clientOptions.middleware)===null||r===void 0?void 0:r.workspace;return(i==null?void 0:i.didDeleteFiles)?i.didDeleteFiles(e,n):n(e)}};Dt.DidDeleteFilesFeature=zm;var ua=class extends ei{constructor(e,n,r,i,s,o,c){super(e,n,r,i,s);this._requestType=r,this._accessUri=o,this._createParams=c}async send(e){let n=this.waitUntil(e);e.waitUntil(n)}async waitUntil(e){let n=await this.filter(e,this._accessUri);if(n.files.length){let r=i=>this._client.sendRequest(this._requestType,this._createParams(i)).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(n,r)}else return}},Km=class extends ua{constructor(e){super(e,On.workspace.onWillCreateFiles,er.WillCreateFilesRequest.type,"willCreate","willCreate",n=>n,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,n){var r;let i=(r=this._client.clientOptions.middleware)===null||r===void 0?void 0:r.workspace;return(i==null?void 0:i.willCreateFiles)?i.willCreateFiles(e,n):n(e)}};Dt.WillCreateFilesFeature=Km;var Um=class extends ua{constructor(e){super(e,On.workspace.onWillRenameFiles,er.WillRenameFilesRequest.type,"willRename","willRename",n=>n.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,n){var r;let i=(r=this._client.clientOptions.middleware)===null||r===void 0?void 0:r.workspace;return(i==null?void 0:i.willRenameFiles)?i.willRenameFiles(e,n):n(e)}};Dt.WillRenameFilesFeature=Um;var Bm=class extends ua{constructor(e){super(e,On.workspace.onWillDeleteFiles,er.WillDeleteFilesRequest.type,"willDelete","willDelete",n=>n,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,n){var r;let i=(r=this._client.clientOptions.middleware)===null||r===void 0?void 0:r.workspace;return(i==null?void 0:i.willDeleteFiles)?i.willDeleteFiles(e,n):n(e)}};Dt.WillDeleteFilesFeature=Bm});var Jm=T(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.LinkedEditingFeature=void 0;var eT=require("vscode"),Nu=ie(),tT=At();function Xm(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Vm=class extends tT.TextDocumentFeature{constructor(e){super(e,Nu.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let n=Xm(Xm(e,"textDocument"),"linkedEditingRange");n.dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.linkedEditingRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideLinkedEditingRanges:(r,i,s)=>{let o=this._client,c=(d,h,p)=>o.sendRequest(Nu.LinkedEditingRangeRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(d,h),p).then(o.protocol2CodeConverter.asLinkedEditingRanges,m=>o.handleFailedRequest(Nu.LinkedEditingRangeRequest.type,m,null)),a=o.clientOptions.middleware;return a.provideLinkedEditingRange?a.provideLinkedEditingRange(r,i,s,c):c(r,i,s)}};return[eT.languages.registerLinkedEditingRangeProvider(e.documentSelector,n),n]}};la.LinkedEditingFeature=Vm});var Au=T(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.ProposedFeatures=ti.CommonLanguageClient=void 0;var nT=At(),rT=Gp(),iT=au(),oT=Jp(),sT=Yp(),aT=em(),cT=nm(),uT=om(),lT=cm(),dT=lm(),fT=gm(),hT=mm(),qi=Gm(),gT=Jm(),Qm=class extends nT.BaseLanguageClient{constructor(e,n,r){super(e,n,r)}registerProposedFeatures(){this.registerFeatures(Ym.createAll(this))}registerBuiltinFeatures(){super.registerBuiltinFeatures(),this.registerFeature(new iT.ConfigurationFeature(this)),this.registerFeature(new sT.TypeDefinitionFeature(this)),this.registerFeature(new oT.ImplementationFeature(this)),this.registerFeature(new rT.ColorProviderFeature(this)),this.registerFeature(new aT.WorkspaceFoldersFeature(this)),this.registerFeature(new cT.FoldingRangeFeature(this)),this.registerFeature(new uT.DeclarationFeature(this)),this.registerFeature(new lT.SelectionRangeFeature(this)),this.registerFeature(new dT.ProgressFeature(this)),this.registerFeature(new fT.CallHierarchyFeature(this)),this.registerFeature(new hT.SemanticTokensFeature(this)),this.registerFeature(new gT.LinkedEditingFeature(this)),this.registerFeature(new qi.DidCreateFilesFeature(this)),this.registerFeature(new qi.DidRenameFilesFeature(this)),this.registerFeature(new qi.DidDeleteFilesFeature(this)),this.registerFeature(new qi.WillCreateFilesFeature(this)),this.registerFeature(new qi.WillRenameFilesFeature(this)),this.registerFeature(new qi.WillDeleteFilesFeature(this))}};ti.CommonLanguageClient=Qm;var Ym;(function(t){function e(n){return[]}t.createAll=e})(Ym=ti.ProposedFeatures||(ti.ProposedFeatures={}))});var ev=T(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});da.terminate=void 0;var Zm=require("child_process"),pT=require("path"),mT=process.platform==="win32",vT=process.platform==="darwin",yT=process.platform==="linux";function _T(t,e){if(mT)try{let i={stdio:["pipe","pipe","ignore"]};return e&&(i.cwd=e),Zm.execFileSync("taskkill",["/T","/F","/PID",t.pid.toString()],i),!0}catch{return!1}else if(yT||vT)try{var n=pT.join(__dirname,"terminateProcess.sh"),r=Zm.spawnSync(n,[t.pid.toString()]);return!r.error}catch{return!1}else return t.kill("SIGKILL"),!0}da.terminate=_T});var Wo=T(($F,tv)=>{"use strict";tv.exports=ie()});var nv=T(tr=>{"use strict";var wT=tr&&tr.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),ju=tr&&tr.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&wT(e,t,n)};Object.defineProperty(tr,"__esModule",{value:!0});ju(ie(),tr);ju(At(),tr);ju(Au(),tr)});var cv=T(wt=>{"use strict";var bT=wt&&wt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),rv=wt&&wt.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&bT(e,t,n)};Object.defineProperty(wt,"__esModule",{value:!0});wt.SettingMonitor=wt.LanguageClient=wt.TransportKind=void 0;var ni=require("child_process"),Lu=require("fs"),Wu=require("path"),iv=Dc(),br=require("vscode"),Je=pr(),RT=Au(),CT=At(),ST=ev(),Qe=Wo();rv(Wo(),wt);rv(nv(),wt);var ov="^1.52.0",$u;(function(t){function e(n){return Je.string(n.command)}t.is=e})($u||($u={}));var lt;(function(t){t[t.stdio=0]="stdio",t[t.ipc=1]="ipc",t[t.pipe=2]="pipe",t[t.socket=3]="socket"})(lt=wt.TransportKind||(wt.TransportKind={}));var Ei;(function(t){function e(n){let r=n;return r&&r.kind===lt.socket&&Je.number(r.port)}t.isSocket=e})(Ei||(Ei={}));var Hu;(function(t){function e(n){return Je.string(n.module)}t.is=e})(Hu||(Hu={}));var zu;(function(t){function e(n){let r=n;return r&&r.writer!==void 0&&r.reader!==void 0}t.is=e})(zu||(zu={}));var Ku;(function(t){function e(n){let r=n;return r&&r.process!==void 0&&typeof r.detached=="boolean"}t.is=e})(Ku||(Ku={}));var sv=class extends RT.CommonLanguageClient{constructor(e,n,r,i,s){let o,c,a,d,h;Je.string(n)?(o=e,c=n,a=r,d=i,h=!!s):(o=e.toLowerCase(),c=e,a=n,d=r,h=i),h===void 0&&(h=!1);super(o,c,d);this._serverOptions=a,this._forceDebug=h;try{this.checkVersion()}catch(p){throw Je.string(p.message)&&this.outputChannel.appendLine(p.message),p}}checkVersion(){let e=iv.parse(br.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${br.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!iv.satisfies(e,ov))throw new Error(`The language client requires VS Code version ${ov} but received version ${br.version}`)}stop(){return super.stop().then(()=>{if(this._serverProcess){let e=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(e),this._isDetached=void 0}})}checkProcessDied(e){!e||setTimeout(()=>{try{process.kill(e.pid,0),ST.terminate(e)}catch{}},2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function n(h,p){if(!h&&!p)return;let m=Object.create(null);return Object.keys(process.env).forEach(v=>m[v]=process.env[v]),p&&(m.ELECTRON_RUN_AS_NODE="1",m.ELECTRON_NO_ASAR="1"),h&&Object.keys(h).forEach(v=>m[v]=h[v]),m}let r=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function s(){let h=process.execArgv;return h?h.some(p=>r.some(m=>p.startsWith(m))||i.some(m=>p===m)):!1}function o(h){if(h.stdin===null||h.stdout===null||h.stderr===null)throw new Error("Process created without stdio streams")}let c=this._serverOptions;if(Je.func(c))return c().then(h=>{if(CT.MessageTransports.is(h))return this._isDetached=!!h.detached,h;if(zu.is(h))return this._isDetached=!!h.detached,{reader:new Qe.StreamMessageReader(h.reader),writer:new Qe.StreamMessageWriter(h.writer)};{let p;return Ku.is(h)?(p=h.process,this._isDetached=h.detached):(p=h,this._isDetached=!1),p.stderr.on("data",m=>this.outputChannel.append(Je.string(m)?m:m.toString(e))),{reader:new Qe.StreamMessageReader(p.stdout),writer:new Qe.StreamMessageWriter(p.stdin)}}});let a,d=c;return d.run||d.debug?this._forceDebug||s()?a=d.debug:a=d.run:a=c,this._getServerWorkingDir(a.options).then(h=>{if(Hu.is(a)&&a.module){let p=a,m=p.transport||lt.stdio;if(p.runtime){let v=[],O=p.options||Object.create(null);O.execArgv&&O.execArgv.forEach(C=>v.push(C)),v.push(p.module),p.args&&p.args.forEach(C=>v.push(C));let F=Object.create(null);F.cwd=h,F.env=n(O.env,!1);let N=this._getRuntimePath(p.runtime,h),w;if(m===lt.ipc?(F.stdio=[null,null,null,"ipc"],v.push("--node-ipc")):m===lt.stdio?v.push("--stdio"):m===lt.pipe?(w=Qe.generateRandomPipeName(),v.push(`--pipe=${w}`)):Ei.isSocket(m)&&v.push(`--socket=${m.port}`),v.push(`--clientProcessId=${process.pid.toString()}`),m===lt.ipc||m===lt.stdio){let C=ni.spawn(N,v,F);return!C||!C.pid?Promise.reject(`Launching server using runtime ${N} failed.`):(this._serverProcess=C,C.stderr.on("data",q=>this.outputChannel.append(Je.string(q)?q:q.toString(e))),m===lt.ipc?(C.stdout.on("data",q=>this.outputChannel.append(Je.string(q)?q:q.toString(e))),Promise.resolve({reader:new Qe.IPCMessageReader(C),writer:new Qe.IPCMessageWriter(C)})):Promise.resolve({reader:new Qe.StreamMessageReader(C.stdout),writer:new Qe.StreamMessageWriter(C.stdin)}))}else{if(m===lt.pipe)return Qe.createClientPipeTransport(w).then(C=>{let q=ni.spawn(N,v,F);return!q||!q.pid?Promise.reject(`Launching server using runtime ${N} failed.`):(this._serverProcess=q,q.stderr.on("data",k=>this.outputChannel.append(Je.string(k)?k:k.toString(e))),q.stdout.on("data",k=>this.outputChannel.append(Je.string(k)?k:k.toString(e))),C.onConnected().then(k=>({reader:k[0],writer:k[1]})))});if(Ei.isSocket(m))return Qe.createClientSocketTransport(m.port).then(C=>{let q=ni.spawn(N,v,F);return!q||!q.pid?Promise.reject(`Launching server using runtime ${N} failed.`):(this._serverProcess=q,q.stderr.on("data",k=>this.outputChannel.append(Je.string(k)?k:k.toString(e))),q.stdout.on("data",k=>this.outputChannel.append(Je.string(k)?k:k.toString(e))),C.onConnected().then(k=>({reader:k[0],writer:k[1]})))})}}else{let v;return new Promise((O,F)=>{let N=p.args&&p.args.slice()||[];m===lt.ipc?N.push("--node-ipc"):m===lt.stdio?N.push("--stdio"):m===lt.pipe?(v=Qe.generateRandomPipeName(),N.push(`--pipe=${v}`)):Ei.isSocket(m)&&N.push(`--socket=${m.port}`),N.push(`--clientProcessId=${process.pid.toString()}`);let w=p.options||Object.create(null);if(w.env=n(w.env,!0),w.execArgv=w.execArgv||[],w.cwd=h,w.silent=!0,m===lt.ipc||m===lt.stdio){let C=ni.fork(p.module,N||[],w);o(C),this._serverProcess=C,C.stderr.on("data",q=>this.outputChannel.append(Je.string(q)?q:q.toString(e))),m===lt.ipc?(C.stdout.on("data",q=>this.outputChannel.append(Je.string(q)?q:q.toString(e))),O({reader:new Qe.IPCMessageReader(this._serverProcess),writer:new Qe.IPCMessageWriter(this._serverProcess)})):O({reader:new Qe.StreamMessageReader(C.stdout),writer:new Qe.StreamMessageWriter(C.stdin)})}else m===lt.pipe?Qe.createClientPipeTransport(v).then(C=>{let q=ni.fork(p.module,N||[],w);o(q),this._serverProcess=q,q.stderr.on("data",k=>this.outputChannel.append(Je.string(k)?k:k.toString(e))),q.stdout.on("data",k=>this.outputChannel.append(Je.string(k)?k:k.toString(e))),C.onConnected().then(k=>{O({reader:k[0],writer:k[1]})})}):Ei.isSocket(m)&&Qe.createClientSocketTransport(m.port).then(C=>{let q=ni.fork(p.module,N||[],w);o(q),this._serverProcess=q,q.stderr.on("data",k=>this.outputChannel.append(Je.string(k)?k:k.toString(e))),q.stdout.on("data",k=>this.outputChannel.append(Je.string(k)?k:k.toString(e))),C.onConnected().then(k=>{O({reader:k[0],writer:k[1]})})})})}}else if($u.is(a)&&a.command){let p=a,m=p.args||[],v=Object.assign({},p.options);v.cwd=v.cwd||h;let O=ni.spawn(p.command,m,v);return!O||!O.pid?Promise.reject(`Launching server using command ${p.command} failed.`):(O.stderr.on("data",F=>this.outputChannel.append(Je.string(F)?F:F.toString(e))),this._serverProcess=O,this._isDetached=!!v.detached,Promise.resolve({reader:new Qe.StreamMessageReader(O.stdout),writer:new Qe.StreamMessageWriter(O.stdin)}))}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(c,null,4)))})}_getRuntimePath(e,n){if(Wu.isAbsolute(e))return e;let r=this._mainGetRootPath();if(r!==void 0){let i=Wu.join(r,e);if(Lu.existsSync(i))return i}if(n!==void 0){let i=Wu.join(n,e);if(Lu.existsSync(i))return i}return e}_mainGetRootPath(){let e=br.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}_getServerWorkingDir(e){let n=e&&e.cwd;return n||(n=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),n?new Promise(r=>{Lu.lstat(n,(i,s)=>{r(!i&&s.isDirectory()?n:void 0)})}):Promise.resolve(void 0)}getLocale(){let e=process.env.VSCODE_NLS_CONFIG;if(e===void 0)return"en";let n;try{n=JSON.parse(e)}catch{}return n===void 0||typeof n.locale!="string"?"en":n.locale}};wt.LanguageClient=sv;var av=class{constructor(e,n){this._client=e,this._setting=n,this._listeners=[]}start(){return br.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new br.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),n=e>=0?this._setting.substr(0,e):this._setting,r=e>=0?this._setting.substr(e+1):void 0,i=r?br.workspace.getConfiguration(n).get(r,!1):br.workspace.getConfiguration(n);i&&this._client.needsStart()?this._client.start():!i&&this._client.needsStop()&&this._client.stop()}};wt.SettingMonitor=av});var lv=T((KF,uv)=>{"use strict";uv.exports=cv()});var Uu=T($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.ApiEvent=void 0;var PT;(function(t){t.DidRegisterDocumentFormattingEditProvider="DidRegisterDocumentFormattingEditProvider",t.DidResetConfiguration="DidResetConfiguration"})(PT=$o.ApiEvent||($o.ApiEvent={}))});var Oi=T(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.Notification=Fn.CodeActionKind=Fn.CommandId=void 0;var DT=mr(),TT;(function(t){t.ApplyAutoFix="stylelint.applyAutoFix",t.OpenRuleDoc="stylelint.openRuleDoc"})(TT=Fn.CommandId||(Fn.CommandId={}));Fn.CodeActionKind={StylelintSourceFixAll:`${DT.CodeActionKind.SourceFixAll}.stylelint`};var qT;(function(t){t.DidRegisterCodeActionRequestHandler="stylelint/didRegisterCodeActionRequestHandler",t.DidRegisterDocumentFormattingEditProvider="textDocument/didRegisterDocumentFormattingEditProvider",t.DidResetConfiguration="stylelint/didResetConfiguration"})(qT=Fn.Notification||(Fn.Notification={}))});var gv=T(Cr=>{"use strict";var dv=Cr&&Cr.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Tt=Cr&&Cr.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Bu,Rr,mn,fv;Object.defineProperty(Cr,"__esModule",{value:!0});Cr.AutoFixModule=void 0;var ET=ie(),hv=Oi(),Gu=class{constructor({context:e,logger:n}){Bu.add(this),Rr.set(this,void 0),mn.set(this,void 0),dv(this,Rr,e,"f"),dv(this,mn,n,"f")}onInitialize(){return{capabilities:{executeCommandProvider:{commands:[hv.CommandId.ApplyAutoFix]}}}}onDidRegisterHandlers(){Tt(this,mn,"f")?.debug("Registering onExecuteCommand handler"),Tt(this,Rr,"f").commands.on(hv.CommandId.ApplyAutoFix,async({arguments:e})=>{if(!e)return{};let n=e[0],r=n.uri,i=Tt(this,Rr,"f").documents.get(r);if(!i||!await Tt(this,Bu,"m",fv).call(this,i))return Tt(this,mn,"f")?.isDebugEnabled()&&(i?Tt(this,mn,"f").debug("Document should not be auto-fixed, ignoring",{uri:r,language:i.languageId}):Tt(this,mn,"f").debug("Unknown document, ignoring",{uri:r})),{};if(n.version!==i.version)return Tt(this,mn,"f")?.debug("Document has been modified, ignoring",{uri:r}),{};let s=new ET.WorkspaceChange,o=s.getTextEditChange(n),c=await Tt(this,Rr,"f").getFixes(i);c.forEach(a=>o.add(a)),Tt(this,mn,"f")?.debug("Applying fixes",{uri:r,edits:c});try{let a=await Tt(this,Rr,"f").connection.workspace.applyEdit(s.edit);a.applied||Tt(this,mn,"f")?.debug("Failed to apply fixes",{uri:r,response:a})}catch(a){Tt(this,mn,"f")?.debug("Failed to apply fixes",{uri:r,error:a})}return{}})}};Cr.AutoFixModule=Gu;Rr=new WeakMap,mn=new WeakMap,Bu=new WeakSet,fv=async function(e){return(await Tt(this,Rr,"f").getOptions(e.uri)).validate.includes(e.languageId)};Gu.id="auto-fix"});var yv=T(qt=>{"use strict";var OT=qt&&qt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),FT=qt&&qt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),kT=qt&&qt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&OT(e,t,n);return FT(e,t),e},pv=qt&&qt.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},jt=qt&&qt.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},fa,Yt,Ho;Object.defineProperty(qt,"__esModule",{value:!0});qt.CommandManager=void 0;var mv=kT(ie()),vv=class{constructor(e,n){fa.set(this,void 0),Yt.set(this,void 0),Ho.set(this,new Map),pv(this,fa,e,"f"),pv(this,Yt,n,"f")}on(e,n){if(Array.isArray(e)){jt(this,Yt,"f")?.debug("Registering commands",{commands:e});for(let r of e)jt(this,Ho,"f").set(r,n)}else jt(this,Yt,"f")?.debug("Registering command",{command:e}),jt(this,Ho,"f").set(e,n)}register(){jt(this,Yt,"f")?.debug("Registering ExecuteCommandRequest handler"),jt(this,fa,"f").onExecuteCommand(async(...e)=>{jt(this,Yt,"f")?.debug("Received ExecuteCommandRequest",{command:e[0].command,arguments:e[0].arguments});let n=jt(this,Ho,"f").get(e[0].command);if(!n)return jt(this,Yt,"f")?.debug("No handler registered for command",{command:e[0].command}),{};jt(this,Yt,"f")?.debug("Executing command",{command:e[0].command});try{let r=await n(...e);return jt(this,Yt,"f")?.debug("Sending command response",{command:e[0].command,response:r}),r}catch(r){return jt(this,Yt,"f")?.error("Error executing command",{command:e[0].command,error:r}),new mv.ResponseError(mv.ErrorCodes.InternalError,`Error executing command ${e[0].command}`,r)}}),jt(this,Yt,"f")?.debug("ExecuteCommandRequest handler registered")}};qt.CommandManager=vv;fa=new WeakMap,Yt=new WeakMap,Ho=new WeakMap});var _v=T(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});ha.createDisableCompletionItem=void 0;var zo=mr();function MT(t,e=""){let n=zo.CompletionItem.create(t);return n.kind=zo.CompletionItemKind.Snippet,n.insertTextFormat=zo.InsertTextFormat.Snippet,t==="stylelint-disable"?(n.insertText=`/* stylelint-disable \${0:${e||"rule"}} */
/* stylelint-enable \${0:${e||"rule"}} */`,n.detail="Turn off all Stylelint or individual rules, after which you do not need to re-enable Stylelint. (Stylelint)",n.documentation={kind:zo.MarkupKind.Markdown,value:`\`\`\`css
/* stylelint-disable ${e||"rule"} */
/* stylelint-enable ${e||"rule"} */
\`\`\``}):(n.insertText=`/* ${t} \${0:${e||"rule"}} */`,n.detail=t==="stylelint-disable-line"?"Turn off Stylelint rules for individual lines only, after which you do not need to explicitly re-enable them. (Stylelint)":"Turn off Stylelint rules for the next line only, after which you do not need to explicitly re-enable them. (Stylelint)",n.documentation={kind:zo.MarkupKind.Markdown,value:`\`\`\`css
/* ${t} ${e||"rule"} */
\`\`\``}),n}ha.createDisableCompletionItem=MT});var wv=T(Zt=>{"use strict";var xT=Zt&&Zt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),IT=Zt&&Zt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),NT=Zt&&Zt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&xT(e,t,n);return IT(e,t),e},AT=Zt&&Zt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.createDisableRuleFileCodeAction=void 0;var jT=AT(require("os")),Sr=NT(ie());function LT(t,{code:e}){let n=new Sr.WorkspaceChange,r=t.getText(Sr.Range.create(Sr.Position.create(0,0),Sr.Position.create(0,2)));return n.getTextEditChange(t).add(Sr.TextEdit.insert(Sr.Position.create(r==="#!"?1:0,0),`/* stylelint-disable ${e} */${jT.default.EOL}`)),Sr.CodeAction.create(`Disable ${e} for the entire file`,n.edit,Sr.CodeActionKind.QuickFix)}Zt.createDisableRuleFileCodeAction=LT});var bv=T(tn=>{"use strict";var WT=tn&&tn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),$T=tn&&tn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),HT=tn&&tn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&WT(e,t,n);return $T(e,t),e},zT=tn&&tn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tn,"__esModule",{value:!0});tn.createDisableRuleLineCodeAction=void 0;var KT=zT(require("os")),en=HT(ie());function UT(t,{code:e,range:n},r){let i=new en.WorkspaceChange;if(r==="sameLine")i.getTextEditChange(t).add(en.TextEdit.insert(en.Position.create(n.start.line,en.uinteger.MAX_VALUE),` /* stylelint-disable-line ${e} */`));else{let o=t.getText(en.Range.create(en.Position.create(n.start.line,0),en.Position.create(n.start.line,en.uinteger.MAX_VALUE))).match(/^([ \t]+)/)?.[1]??"";i.getTextEditChange(t).add(en.TextEdit.insert(en.Position.create(n.start.line,0),`${o}/* stylelint-disable-next-line ${e} */${KT.default.EOL}`))}return en.CodeAction.create(`Disable ${e} for this line`,i.edit,en.CodeActionKind.QuickFix)}tn.createDisableRuleLineCodeAction=UT});var Cv=T(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.isIterableObject=Fi.isIterable=void 0;function Rv(t){return t!=null&&typeof t[Symbol.iterator]=="function"}Fi.isIterable=Rv;function BT(t){return Rv(t)&&typeof t=="object"}Fi.isIterableObject=BT});var Sv=T(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga.displayError=void 0;var GT=Cv();function XT(t,e){if(!(e instanceof Error)){t.window.showErrorMessage(String(e).replace(/\n/gu," "));return}if((0,GT.isIterableObject)(e?.reasons)){for(let n of e.reasons)t.window.showErrorMessage(`Stylelint: ${n}`);return}if(e?.code===78){t.window.showErrorMessage(`Stylelint: ${e.message}`);return}t.window.showErrorMessage((e.stack||e.message).replace(/\n/gu," "))}ga.displayError=XT});var Tv=T(Pr=>{"use strict";var Pv=Pr&&Pr.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},nr=Pr&&Pr.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},pa,Ko,Uo,Bo,Xu;Object.defineProperty(Pr,"__esModule",{value:!0});Pr.NotificationManager=void 0;var Dv=class{constructor(e,n){pa.add(this),Ko.set(this,void 0),Uo.set(this,void 0),Bo.set(this,new Map),Pv(this,Ko,e,"f"),Pv(this,Uo,n,"f")}on(e,n){let r=typeof e=="function",[i,s]=r?[void 0,e]:[e,n];if(!s)throw new Error("Handler must be defined");let o=nr(this,Bo,"f").get(i);if(o){o.push(s);return}if(nr(this,Bo,"f").set(i,[s]),r){nr(this,Ko,"f").onNotification((...c)=>nr(this,pa,"m",Xu).call(this,void 0,c));return}nr(this,Ko,"f").onNotification(e,(...c)=>nr(this,pa,"m",Xu).call(this,e,c))}};Pr.NotificationManager=Dv;Ko=new WeakMap,Uo=new WeakMap,Bo=new WeakMap,pa=new WeakSet,Xu=async function(e,n){nr(this,Uo,"f")?.debug("Received notification",{notificationType:e??"<all>",params:n});let r=nr(this,Bo,"f").get(e);await Promise.all(r.map(async i=>{try{await i(...n)}catch(s){nr(this,Uo,"f")?.error("Error handling notification",{notificationType:e??"<all>",error:s})}}))}});var Ev=T(ki=>{"use strict";var Vu=ki&&ki.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Go;Object.defineProperty(ki,"__esModule",{value:!0});ki.RuleCodeActionsCollection=void 0;var qv=class{constructor(){Go.set(this,new Map)}get(e){let n=Vu(this,Go,"f").get(e);if(n)return n;let r={};return Vu(this,Go,"f").set(e,r),r}*[(Go=new WeakMap,Symbol.iterator)](){for(let e of Vu(this,Go,"f").values())e.disableLine&&(yield e.disableLine),e.disableFile&&(yield e.disableFile),e.documentation&&(yield e.documentation)}get size(){let e=this[Symbol.iterator](),n=0;for(;!e.next().done;)n++;return n}};ki.RuleCodeActionsCollection=qv});var Fv=T(Ov=>{"use strict";Object.defineProperty(Ov,"__esModule",{value:!0})});var ma=T(Et=>{"use strict";var VT=Et&&Et.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Dr=Et&&Et.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&VT(e,t,n)};Object.defineProperty(Et,"__esModule",{value:!0});Dr(yv(),Et);Dr(_v(),Et);Dr(wv(),Et);Dr(bv(),Et);Dr(Sv(),Et);Dr(Tv(),Et);Dr(Ev(),Et);Dr(Fv(),Et)});var Ju=T((ik,xv)=>{"use strict";var kv=require("path");xv.exports=function(t,e){return t=Mv(t),e=Mv(e),process.platform==="win32"&&(t=t.toLowerCase(),e=e.toLowerCase()),t.lastIndexOf(e,0)===0&&(t[e.length]===kv.sep||t[e.length]===void 0)};function Mv(t){return t[t.length-1]===kv.sep?t.slice(0,-1):t}});var Mi=T((Xo,Qu)=>{(function(t,e){if(typeof Xo=="object"&&typeof Qu=="object")Qu.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var n=e();for(var r in n)(typeof Xo=="object"?Xo:t)[r]=n[r]}})(Xo,function(){return(()=>{"use strict";var t={470:n=>{function r(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function i(o,c){for(var a,d="",h=0,p=-1,m=0,v=0;v<=o.length;++v){if(v<o.length)a=o.charCodeAt(v);else{if(a===47)break;a=47}if(a===47){if(!(p===v-1||m===1))if(p!==v-1&&m===2){if(d.length<2||h!==2||d.charCodeAt(d.length-1)!==46||d.charCodeAt(d.length-2)!==46){if(d.length>2){var O=d.lastIndexOf("/");if(O!==d.length-1){O===-1?(d="",h=0):h=(d=d.slice(0,O)).length-1-d.lastIndexOf("/"),p=v,m=0;continue}}else if(d.length===2||d.length===1){d="",h=0,p=v,m=0;continue}}c&&(d.length>0?d+="/..":d="..",h=2)}else d.length>0?d+="/"+o.slice(p+1,v):d=o.slice(p+1,v),h=v-p-1;p=v,m=0}else a===46&&m!==-1?++m:m=-1}return d}var s={resolve:function(){for(var o,c="",a=!1,d=arguments.length-1;d>=-1&&!a;d--){var h;d>=0?h=arguments[d]:(o===void 0&&(o=process.cwd()),h=o),r(h),h.length!==0&&(c=h+"/"+c,a=h.charCodeAt(0)===47)}return c=i(c,!a),a?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(o){if(r(o),o.length===0)return".";var c=o.charCodeAt(0)===47,a=o.charCodeAt(o.length-1)===47;return(o=i(o,!c)).length!==0||c||(o="."),o.length>0&&a&&(o+="/"),c?"/"+o:o},isAbsolute:function(o){return r(o),o.length>0&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o,c=0;c<arguments.length;++c){var a=arguments[c];r(a),a.length>0&&(o===void 0?o=a:o+="/"+a)}return o===void 0?".":s.normalize(o)},relative:function(o,c){if(r(o),r(c),o===c||(o=s.resolve(o))===(c=s.resolve(c)))return"";for(var a=1;a<o.length&&o.charCodeAt(a)===47;++a);for(var d=o.length,h=d-a,p=1;p<c.length&&c.charCodeAt(p)===47;++p);for(var m=c.length-p,v=h<m?h:m,O=-1,F=0;F<=v;++F){if(F===v){if(m>v){if(c.charCodeAt(p+F)===47)return c.slice(p+F+1);if(F===0)return c.slice(p+F)}else h>v&&(o.charCodeAt(a+F)===47?O=F:F===0&&(O=0));break}var N=o.charCodeAt(a+F);if(N!==c.charCodeAt(p+F))break;N===47&&(O=F)}var w="";for(F=a+O+1;F<=d;++F)F!==d&&o.charCodeAt(F)!==47||(w.length===0?w+="..":w+="/..");return w.length>0?w+c.slice(p+O):(p+=O,c.charCodeAt(p)===47&&++p,c.slice(p))},_makeLong:function(o){return o},dirname:function(o){if(r(o),o.length===0)return".";for(var c=o.charCodeAt(0),a=c===47,d=-1,h=!0,p=o.length-1;p>=1;--p)if((c=o.charCodeAt(p))===47){if(!h){d=p;break}}else h=!1;return d===-1?a?"/":".":a&&d===1?"//":o.slice(0,d)},basename:function(o,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');r(o);var a,d=0,h=-1,p=!0;if(c!==void 0&&c.length>0&&c.length<=o.length){if(c.length===o.length&&c===o)return"";var m=c.length-1,v=-1;for(a=o.length-1;a>=0;--a){var O=o.charCodeAt(a);if(O===47){if(!p){d=a+1;break}}else v===-1&&(p=!1,v=a+1),m>=0&&(O===c.charCodeAt(m)?--m==-1&&(h=a):(m=-1,h=v))}return d===h?h=v:h===-1&&(h=o.length),o.slice(d,h)}for(a=o.length-1;a>=0;--a)if(o.charCodeAt(a)===47){if(!p){d=a+1;break}}else h===-1&&(p=!1,h=a+1);return h===-1?"":o.slice(d,h)},extname:function(o){r(o);for(var c=-1,a=0,d=-1,h=!0,p=0,m=o.length-1;m>=0;--m){var v=o.charCodeAt(m);if(v!==47)d===-1&&(h=!1,d=m+1),v===46?c===-1?c=m:p!==1&&(p=1):c!==-1&&(p=-1);else if(!h){a=m+1;break}}return c===-1||d===-1||p===0||p===1&&c===d-1&&c===a+1?"":o.slice(c,d)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof o);return function(c,a){var d=a.dir||a.root,h=a.base||(a.name||"")+(a.ext||"");return d?d===a.root?d+h:d+"/"+h:h}(0,o)},parse:function(o){r(o);var c={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return c;var a,d=o.charCodeAt(0),h=d===47;h?(c.root="/",a=1):a=0;for(var p=-1,m=0,v=-1,O=!0,F=o.length-1,N=0;F>=a;--F)if((d=o.charCodeAt(F))!==47)v===-1&&(O=!1,v=F+1),d===46?p===-1?p=F:N!==1&&(N=1):p!==-1&&(N=-1);else if(!O){m=F+1;break}return p===-1||v===-1||N===0||N===1&&p===v-1&&p===m+1?v!==-1&&(c.base=c.name=m===0&&h?o.slice(1,v):o.slice(m,v)):(m===0&&h?(c.name=o.slice(1,p),c.base=o.slice(1,v)):(c.name=o.slice(m,p),c.base=o.slice(m,v)),c.ext=o.slice(p,v)),m>0?c.dir=o.slice(0,m-1):h&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,n.exports=s},465:(n,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Utils=r.URI=void 0;var s=i(796);Object.defineProperty(r,"URI",{enumerable:!0,get:function(){return s.URI}});var o=i(679);Object.defineProperty(r,"Utils",{enumerable:!0,get:function(){return o.Utils}})},674:(n,r)=>{if(Object.defineProperty(r,"__esModule",{value:!0}),r.isWindows=void 0,typeof process=="object")r.isWindows=process.platform==="win32";else if(typeof navigator=="object"){var i=navigator.userAgent;r.isWindows=i.indexOf("Windows")>=0}},796:function(n,r,i){var s,o,c=this&&this.__extends||(s=function(W,x){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,z){L.__proto__=z}||function(L,z){for(var fe in z)Object.prototype.hasOwnProperty.call(z,fe)&&(L[fe]=z[fe])})(W,x)},function(W,x){function L(){this.constructor=W}s(W,x),W.prototype=x===null?Object.create(x):(L.prototype=x.prototype,new L)});Object.defineProperty(r,"__esModule",{value:!0}),r.uriToFsPath=r.URI=void 0;var a=i(674),d=/^\w[\w\d+.-]*$/,h=/^\//,p=/^\/\//,m="",v="/",O=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,F=function(){function W(x,L,z,fe,ee,de){de===void 0&&(de=!1),typeof x=="object"?(this.scheme=x.scheme||m,this.authority=x.authority||m,this.path=x.path||m,this.query=x.query||m,this.fragment=x.fragment||m):(this.scheme=function(ne,Ie){return ne||Ie?ne:"file"}(x,de),this.authority=L||m,this.path=function(ne,Ie){switch(ne){case"https":case"http":case"file":Ie?Ie[0]!==v&&(Ie=v+Ie):Ie=v}return Ie}(this.scheme,z||m),this.query=fe||m,this.fragment=ee||m,function(ne,Ie){if(!ne.scheme&&Ie)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'+ne.authority+'", path: "'+ne.path+'", query: "'+ne.query+'", fragment: "'+ne.fragment+'"}');if(ne.scheme&&!d.test(ne.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(ne.path){if(ne.authority){if(!h.test(ne.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(p.test(ne.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}(this,de))}return W.isUri=function(x){return x instanceof W||!!x&&typeof x.authority=="string"&&typeof x.fragment=="string"&&typeof x.path=="string"&&typeof x.query=="string"&&typeof x.scheme=="string"&&typeof x.fsPath=="function"&&typeof x.with=="function"&&typeof x.toString=="function"},Object.defineProperty(W.prototype,"fsPath",{get:function(){return A(this,!1)},enumerable:!1,configurable:!0}),W.prototype.with=function(x){if(!x)return this;var L=x.scheme,z=x.authority,fe=x.path,ee=x.query,de=x.fragment;return L===void 0?L=this.scheme:L===null&&(L=m),z===void 0?z=this.authority:z===null&&(z=m),fe===void 0?fe=this.path:fe===null&&(fe=m),ee===void 0?ee=this.query:ee===null&&(ee=m),de===void 0?de=this.fragment:de===null&&(de=m),L===this.scheme&&z===this.authority&&fe===this.path&&ee===this.query&&de===this.fragment?this:new w(L,z,fe,ee,de)},W.parse=function(x,L){L===void 0&&(L=!1);var z=O.exec(x);return z?new w(z[2]||m,ke(z[4]||m),ke(z[5]||m),ke(z[7]||m),ke(z[9]||m),L):new w(m,m,m,m,m)},W.file=function(x){var L=m;if(a.isWindows&&(x=x.replace(/\\/g,v)),x[0]===v&&x[1]===v){var z=x.indexOf(v,2);z===-1?(L=x.substring(2),x=v):(L=x.substring(2,z),x=x.substring(z)||v)}return new w("file",L,x,m,m)},W.from=function(x){return new w(x.scheme,x.authority,x.path,x.query,x.fragment)},W.prototype.toString=function(x){return x===void 0&&(x=!1),Y(this,x)},W.prototype.toJSON=function(){return this},W.revive=function(x){if(x){if(x instanceof W)return x;var L=new w(x);return L._formatted=x.external,L._fsPath=x._sep===N?x.fsPath:null,L}return x},W}();r.URI=F;var N=a.isWindows?1:void 0,w=function(W){function x(){var L=W!==null&&W.apply(this,arguments)||this;return L._formatted=null,L._fsPath=null,L}return c(x,W),Object.defineProperty(x.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=A(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),x.prototype.toString=function(L){return L===void 0&&(L=!1),L?Y(this,!0):(this._formatted||(this._formatted=Y(this,!1)),this._formatted)},x.prototype.toJSON=function(){var L={$mid:1};return this._fsPath&&(L.fsPath=this._fsPath,L._sep=N),this._formatted&&(L.external=this._formatted),this.path&&(L.path=this.path),this.scheme&&(L.scheme=this.scheme),this.authority&&(L.authority=this.authority),this.query&&(L.query=this.query),this.fragment&&(L.fragment=this.fragment),L},x}(F),C=((o={})[58]="%3A",o[47]="%2F",o[63]="%3F",o[35]="%23",o[91]="%5B",o[93]="%5D",o[64]="%40",o[33]="%21",o[36]="%24",o[38]="%26",o[39]="%27",o[40]="%28",o[41]="%29",o[42]="%2A",o[43]="%2B",o[44]="%2C",o[59]="%3B",o[61]="%3D",o[32]="%20",o);function q(W,x){for(var L=void 0,z=-1,fe=0;fe<W.length;fe++){var ee=W.charCodeAt(fe);if(ee>=97&&ee<=122||ee>=65&&ee<=90||ee>=48&&ee<=57||ee===45||ee===46||ee===95||ee===126||x&&ee===47)z!==-1&&(L+=encodeURIComponent(W.substring(z,fe)),z=-1),L!==void 0&&(L+=W.charAt(fe));else{L===void 0&&(L=W.substr(0,fe));var de=C[ee];de!==void 0?(z!==-1&&(L+=encodeURIComponent(W.substring(z,fe)),z=-1),L+=de):z===-1&&(z=fe)}}return z!==-1&&(L+=encodeURIComponent(W.substring(z))),L!==void 0?L:W}function k(W){for(var x=void 0,L=0;L<W.length;L++){var z=W.charCodeAt(L);z===35||z===63?(x===void 0&&(x=W.substr(0,L)),x+=C[z]):x!==void 0&&(x+=W[L])}return x!==void 0?x:W}function A(W,x){var L;return L=W.authority&&W.path.length>1&&W.scheme==="file"?"//"+W.authority+W.path:W.path.charCodeAt(0)===47&&(W.path.charCodeAt(1)>=65&&W.path.charCodeAt(1)<=90||W.path.charCodeAt(1)>=97&&W.path.charCodeAt(1)<=122)&&W.path.charCodeAt(2)===58?x?W.path.substr(1):W.path[1].toLowerCase()+W.path.substr(2):W.path,a.isWindows&&(L=L.replace(/\//g,"\\")),L}function Y(W,x){var L=x?k:q,z="",fe=W.scheme,ee=W.authority,de=W.path,ne=W.query,Ie=W.fragment;if(fe&&(z+=fe,z+=":"),(ee||fe==="file")&&(z+=v,z+=v),ee){var Te=ee.indexOf("@");if(Te!==-1){var tt=ee.substr(0,Te);ee=ee.substr(Te+1),(Te=tt.indexOf(":"))===-1?z+=L(tt,!1):(z+=L(tt.substr(0,Te),!1),z+=":",z+=L(tt.substr(Te+1),!1)),z+="@"}(Te=(ee=ee.toLowerCase()).indexOf(":"))===-1?z+=L(ee,!1):(z+=L(ee.substr(0,Te),!1),z+=ee.substr(Te))}if(de){if(de.length>=3&&de.charCodeAt(0)===47&&de.charCodeAt(2)===58)(Ze=de.charCodeAt(1))>=65&&Ze<=90&&(de="/"+String.fromCharCode(Ze+32)+":"+de.substr(3));else if(de.length>=2&&de.charCodeAt(1)===58){var Ze;(Ze=de.charCodeAt(0))>=65&&Ze<=90&&(de=String.fromCharCode(Ze+32)+":"+de.substr(2))}z+=L(de,!0)}return ne&&(z+="?",z+=L(ne,!1)),Ie&&(z+="#",z+=x?Ie:q(Ie,!1)),z}function le(W){try{return decodeURIComponent(W)}catch{return W.length>3?W.substr(0,3)+le(W.substr(3)):W}}r.uriToFsPath=A;var ye=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function ke(W){return W.match(ye)?W.replace(ye,function(x){return le(x)}):W}},679:function(n,r,i){var s=this&&this.__spreadArrays||function(){for(var d=0,h=0,p=arguments.length;h<p;h++)d+=arguments[h].length;var m=Array(d),v=0;for(h=0;h<p;h++)for(var O=arguments[h],F=0,N=O.length;F<N;F++,v++)m[v]=O[F];return m};Object.defineProperty(r,"__esModule",{value:!0}),r.Utils=void 0;var o,c=i(470),a=c.posix||c;(o=r.Utils||(r.Utils={})).joinPath=function(d){for(var h=[],p=1;p<arguments.length;p++)h[p-1]=arguments[p];return d.with({path:a.join.apply(a,s([d.path],h))})},o.resolvePath=function(d){for(var h=[],p=1;p<arguments.length;p++)h[p-1]=arguments[p];var m=d.path||"/";return d.with({path:a.resolve.apply(a,s([m],h))})},o.dirname=function(d){var h=a.dirname(d.path);return h.length===1&&h.charCodeAt(0)===46?d:d.with({path:h})},o.basename=function(d){return a.basename(d.path)},o.extname=function(d){return a.extname(d.path)}}},e={};return function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}(465)})()})});var Yu=T(xi=>{"use strict";var Iv=xi&&xi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xi,"__esModule",{value:!0});xi.findPackageRoot=void 0;var JT=Iv(require("fs/promises")),Vo=Iv(require("path"));async function QT(t,e="package.json"){let n=t;for(;;){let r=Vo.default.join(n,e);try{if((await JT.default.stat(r)).isFile())return n;let s=Vo.default.dirname(n);if(!Vo.default.relative(s,n))return;n=s}catch(i){if(i.code==="ENOENT"||i.code==="ENOTDIR"){let s=Vo.default.dirname(n);if(!Vo.default.relative(s,n))return;n=s}else throw i}}}xi.findPackageRoot=QT});var Av=T(Ii=>{"use strict";var Nv=Ii&&Ii.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ii,"__esModule",{value:!0});Ii.runProcessFindLine=void 0;var YT=Nv(require("child_process")),ZT=Nv(require("readline"));function e0(t,e,n,r){return new Promise((i,s)=>{let o=YT.default.spawn(t,e,n),c=ZT.default.createInterface({input:o.stdout}),a,d,h=!1,p=!1,m=()=>{h||d===void 0||!p||(h=!0,d===0?i(a):s(new Error(`Command "${t}" exited with code ${d}.`)))},v=O=>{h=!0,o.removeAllListeners(),c.close();try{o.kill()}catch{}s(O)};c.on("line",O=>{if(!(h||a!==void 0))try{let F=r(O);F!==void 0&&(a=F),m()}catch(F){v(F)}}),c.on("close",()=>{h||(p=!0,m())}),o.on("error",v),o.on("exit",(O,F)=>{d=O??F,m()})})}Ii.runProcessFindLine=e0});var nl=T(kn=>{"use strict";var jv=kn&&kn.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},at=kn&&kn.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Lv=kn&&kn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Jo,vn,va,ri,Zu,Wv,$v,Hv;Object.defineProperty(kn,"__esModule",{value:!0});kn.GlobalPathResolver=void 0;var t0=Lv(require("os")),el=Lv(require("path")),tl=Av(),zv=class{constructor(e){Jo.add(this),vn.set(this,void 0),va.set(this,{yarn:void 0,npm:void 0,pnpm:void 0}),ri.set(this,void 0),Zu.set(this,{yarn:at(this,Jo,"m",Wv).bind(this),npm:at(this,Jo,"m",$v).bind(this),pnpm:at(this,Jo,"m",Hv).bind(this)}),jv(this,vn,e,"f"),jv(this,ri,t0.default.platform()==="win32","f")}async resolve(e){let n=at(this,va,"f")[e];if(n)return n;let r=at(this,Zu,"f")[e];if(!r){at(this,vn,"f")?.warn("Unsupported package manager.",{packageManager:e});return}try{let i=await r();return i&&(at(this,va,"f")[e]=i),i}catch(i){at(this,vn,"f")?.warn("Failed to resolve global node_modules path.",{packageManager:e,error:i});return}}};kn.GlobalPathResolver=zv;vn=new WeakMap,va=new WeakMap,ri=new WeakMap,Zu=new WeakMap,Jo=new WeakSet,Wv=async function(){let e=r=>{try{return JSON.parse(r)}catch{return}},n=await(0,tl.runProcessFindLine)("yarn",["global","dir","--json"],at(this,ri,"f")?{shell:!0}:void 0,r=>{let i=e(r);if(!i||i.type!=="log"||!i.data)return;let s=el.default.join(i.data,"node_modules");return at(this,vn,"f")?.debug("Yarn returned global node_modules path.",{path:s}),s});if(!n){at(this,vn,"f")?.warn('"yarn global dir --json" did not return a path.');return}return n},$v=async function(){let e=await(0,tl.runProcessFindLine)("npm",["config","get","prefix"],at(this,ri,"f")?{shell:!0}:void 0,n=>{let r=n.trim();if(!r)return;let i=at(this,ri,"f")?el.default.join(r,"node_modules"):el.default.join(r,"lib/node_modules");return at(this,vn,"f")?.debug("npm returned global node_modules path.",{path:i}),i});if(!e){at(this,vn,"f")?.warn('"npm config get prefix" did not return a path.');return}return e},Hv=async function(){let e=await(0,tl.runProcessFindLine)("pnpm",["root","-g"],at(this,ri,"f")?{shell:!0}:void 0,n=>{let r=n.trim();if(!!r)return at(this,vn,"f")?.debug("pnpm returned global node_modules path.",{path:r}),r});if(!e){at(this,vn,"f")?.warn('"pnpm root -g" did not return a path.');return}return e}});var ya=T(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.thenable=Ye.typedArray=Ye.stringArray=Ye.array=Ye.func=Ye.error=Ye.number=Ye.string=Ye.boolean=void 0;function n0(t){return t===!0||t===!1}Ye.boolean=n0;function Kv(t){return typeof t=="string"||t instanceof String}Ye.string=Kv;function r0(t){return typeof t=="number"||t instanceof Number}Ye.number=r0;function i0(t){return t instanceof Error}Ye.error=i0;function Uv(t){return typeof t=="function"}Ye.func=Uv;function Bv(t){return Array.isArray(t)}Ye.array=Bv;function o0(t){return Bv(t)&&t.every(e=>Kv(e))}Ye.stringArray=o0;function s0(t,e){return Array.isArray(t)&&t.every(e)}Ye.typedArray=s0;function a0(t){return t&&Uv(t.then)}Ye.thenable=a0});var rl=T(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.generateUuid=nn.parse=nn.isUUID=nn.v4=nn.empty=void 0;var _a=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},me=class extends _a{constructor(){super([me._randomHex(),me._randomHex(),me._randomHex(),me._randomHex(),me._randomHex(),me._randomHex(),me._randomHex(),me._randomHex(),"-",me._randomHex(),me._randomHex(),me._randomHex(),me._randomHex(),"-","4",me._randomHex(),me._randomHex(),me._randomHex(),"-",me._oneOf(me._timeHighBits),me._randomHex(),me._randomHex(),me._randomHex(),"-",me._randomHex(),me._randomHex(),me._randomHex(),me._randomHex(),me._randomHex(),me._randomHex(),me._randomHex(),me._randomHex(),me._randomHex(),me._randomHex(),me._randomHex(),me._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return me._oneOf(me._chars)}};me._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];me._timeHighBits=["8","9","a","b"];nn.empty=new _a("00000000-0000-0000-0000-000000000000");function Gv(){return new me}nn.v4=Gv;var c0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Xv(t){return c0.test(t)}nn.isUUID=Xv;function u0(t){if(!Xv(t))throw new Error("invalid uuid");return new _a(t)}nn.parse=u0;function l0(){return Gv().asHex()}nn.generateUuid=l0});var Jv=T(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.attachPartialResult=qr.ProgressFeature=qr.attachWorkDone=void 0;var Tr=ie(),d0=rl(),rr=class{constructor(e,n){this._connection=e,this._token=n,rr.Instances.set(this._token,this)}begin(e,n,r,i){let s={kind:"begin",title:e,percentage:n,message:r,cancellable:i};this._connection.sendProgress(Tr.WorkDoneProgress.type,this._token,s)}report(e,n){let r={kind:"report"};typeof e=="number"?(r.percentage=e,n!==void 0&&(r.message=n)):r.message=e,this._connection.sendProgress(Tr.WorkDoneProgress.type,this._token,r)}done(){rr.Instances.delete(this._token),this._connection.sendProgress(Tr.WorkDoneProgress.type,this._token,{kind:"end"})}};rr.Instances=new Map;var il=class extends rr{constructor(e,n){super(e,n);this._source=new Tr.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},wa=class{constructor(){}begin(){}report(){}done(){}},ol=class extends wa{constructor(){super();this._source=new Tr.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function f0(t,e){if(e===void 0||e.workDoneToken===void 0)return new wa;let n=e.workDoneToken;return delete e.workDoneToken,new rr(t,n)}qr.attachWorkDone=f0;var h0=t=>class extends t{constructor(){super();this._progressSupported=!1}initialize(e){var n;((n=e==null?void 0:e.window)===null||n===void 0?void 0:n.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(Tr.WorkDoneProgressCancelNotification.type,r=>{let i=rr.Instances.get(r.token);(i instanceof il||i instanceof ol)&&i.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new wa:new rr(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=d0.generateUuid();return this.connection.sendRequest(Tr.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new il(this.connection,e))}else return Promise.resolve(new ol)}};qr.ProgressFeature=h0;var sl;(function(t){t.type=new Tr.ProgressType})(sl||(sl={}));var Vv=class{constructor(e,n){this._connection=e,this._token=n}report(e){this._connection.sendProgress(sl.type,this._token,e)}};function g0(t,e){if(e===void 0||e.partialResultToken===void 0)return;let n=e.partialResultToken;return delete e.partialResultToken,new Vv(t,n)}qr.attachPartialResult=g0});var Qv=T(ba=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});ba.ConfigurationFeature=void 0;var p0=ie(),m0=ya(),v0=t=>class extends t{getConfiguration(e){return e?m0.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let n={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(p0.ConfigurationRequest.type,n).then(r=>Array.isArray(e)?r:r[0])}};ba.ConfigurationFeature=v0});var Yv=T(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.WorkspaceFoldersFeature=void 0;var Ra=ie(),y0=t=>class extends t{initialize(e){let n=e.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Ra.Emitter,this.connection.onNotification(Ra.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(Ra.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(Ra.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};Ca.WorkspaceFoldersFeature=y0});var Zv=T(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.CallHierarchyFeature=void 0;var al=ie(),_0=t=>class extends t{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(al.CallHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))},onIncomingCalls:e=>{let n=al.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:e=>{let n=al.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Sa.CallHierarchyFeature=_0});var ul=T(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.SemanticTokensBuilder=Ni.SemanticTokensFeature=void 0;var cl=ie(),w0=t=>class extends t{get semanticTokens(){return{on:e=>{let n=cl.SemanticTokensRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:e=>{let n=cl.SemanticTokensDeltaRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:e=>{let n=cl.SemanticTokensRangeRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Ni.SemanticTokensFeature=w0;var ey=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,n,r,i,s){let o=e,c=n;this._dataLen>0&&(o-=this._prevLine,o===0&&(c-=this._prevChar)),this._data[this._dataLen++]=o,this._data[this._dataLen++]=c,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=e,this._prevChar=n}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let e=this._prevData.length,n=this._data.length,r=0;for(;r<n&&r<e&&this._prevData[r]===this._data[r];)r++;if(r<n&&r<e){let i=0;for(;i<n&&i<e&&this._prevData[e-1-i]===this._data[n-1-i];)i++;let s=this._data.slice(r,n-i);return{resultId:this.id,edits:[{start:r,deleteCount:e-i-r,data:s}]}}else return r<n?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<e?{resultId:this.id,edits:[{start:r,deleteCount:e-r}]}:{resultId:this.id,edits:[]}}else return this.build()}};Ni.SemanticTokensBuilder=ey});var ty=T(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.ShowDocumentFeature=void 0;var b0=ie(),R0=t=>class extends t{showDocument(e){return this.connection.sendRequest(b0.ShowDocumentRequest.type,e)}};Pa.ShowDocumentFeature=R0});var ny=T(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.FileOperationsFeature=void 0;var Ai=ie(),C0=t=>class extends t{onDidCreateFiles(e){this.connection.onNotification(Ai.DidCreateFilesNotification.type,n=>{e(n)})}onDidRenameFiles(e){this.connection.onNotification(Ai.DidRenameFilesNotification.type,n=>{e(n)})}onDidDeleteFiles(e){this.connection.onNotification(Ai.DidDeleteFilesNotification.type,n=>{e(n)})}onWillCreateFiles(e){return this.connection.onRequest(Ai.WillCreateFilesRequest.type,(n,r)=>e(n,r))}onWillRenameFiles(e){return this.connection.onRequest(Ai.WillRenameFilesRequest.type,(n,r)=>e(n,r))}onWillDeleteFiles(e){return this.connection.onRequest(Ai.WillDeleteFilesRequest.type,(n,r)=>e(n,r))}};Da.FileOperationsFeature=C0});var ry=T(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.LinkedEditingRangeFeature=void 0;var S0=ie(),P0=t=>class extends t{onLinkedEditingRange(e){this.connection.onRequest(S0.LinkedEditingRangeRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))}};Ta.LinkedEditingRangeFeature=P0});var iy=T(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.MonikerFeature=void 0;var D0=ie(),T0=t=>class extends t{get moniker(){return{on:e=>{let n=D0.MonikerRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};qa.MonikerFeature=T0});var yl=T(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.createConnection=Re.combineFeatures=Re.combineLanguagesFeatures=Re.combineWorkspaceFeatures=Re.combineWindowFeatures=Re.combineClientFeatures=Re.combineTracerFeatures=Re.combineTelemetryFeatures=Re.combineConsoleFeatures=Re._LanguagesImpl=Re.BulkUnregistration=Re.BulkRegistration=Re.ErrorMessageTracker=Re.TextDocuments=void 0;var H=ie(),rn=ya(),ll=rl(),ce=Jv(),q0=Qv(),E0=Yv(),O0=Zv(),F0=ul(),k0=ty(),M0=ny(),x0=ry(),I0=iy();function dl(t){if(t!==null)return t}var oy=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new H.Emitter,this._onDidOpen=new H.Emitter,this._onDidClose=new H.Emitter,this._onDidSave=new H.Emitter,this._onWillSave=new H.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=H.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(n=>{let r=n.textDocument,i=this._configuration.create(r.uri,r.languageId,r.version,r.text);this._documents[r.uri]=i;let s=Object.freeze({document:i});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)}),e.onDidChangeTextDocument(n=>{let r=n.textDocument,i=n.contentChanges;if(i.length===0)return;let s=this._documents[r.uri],{version:o}=r;if(o==null)throw new Error(`Received document change event for ${r.uri} without valid version identifier`);s=this._configuration.update(s,i,o),this._documents[r.uri]=s,this._onDidChangeContent.fire(Object.freeze({document:s}))}),e.onDidCloseTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&(delete this._documents[n.textDocument.uri],this._onDidClose.fire(Object.freeze({document:r})))}),e.onWillSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onWillSave.fire(Object.freeze({document:r,reason:n.reason}))}),e.onWillSaveTextDocumentWaitUntil((n,r)=>{let i=this._documents[n.textDocument.uri];return i&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:i,reason:n.reason}),r):[]}),e.onDidSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onDidSave.fire(Object.freeze({document:r}))})}};Re.TextDocuments=oy;var sy=class{constructor(){this._messages=Object.create(null)}add(e){let n=this._messages[e];n||(n=0),n++,this._messages[e]=n}sendErrors(e){Object.keys(this._messages).forEach(n=>{e.window.showErrorMessage(n)})}};Re.ErrorMessageTracker=sy;var fl=class{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(H.MessageType.Error,e)}warn(e){this.send(H.MessageType.Warning,e)}info(e){this.send(H.MessageType.Info,e)}log(e){this.send(H.MessageType.Log,e)}send(e,n){this._rawConnection&&this._rawConnection.sendNotification(H.LogMessageNotification.type,{type:e,message:n})}},ay=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...n){let r={type:H.MessageType.Error,message:e,actions:n};return this.connection.sendRequest(H.ShowMessageRequest.type,r).then(dl)}showWarningMessage(e,...n){let r={type:H.MessageType.Warning,message:e,actions:n};return this.connection.sendRequest(H.ShowMessageRequest.type,r).then(dl)}showInformationMessage(e,...n){let r={type:H.MessageType.Info,message:e,actions:n};return this.connection.sendRequest(H.ShowMessageRequest.type,r).then(dl)}},cy=k0.ShowDocumentFeature(ce.ProgressFeature(ay)),N0;(function(t){function e(){return new hl}t.create=e})(N0=Re.BulkRegistration||(Re.BulkRegistration={}));var hl=class{constructor(){this._registrations=[],this._registered=new Set}add(e,n){let r=rn.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let i=ll.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},A0;(function(t){function e(){return new Ea(void 0,[])}t.create=e})(A0=Re.BulkUnregistration||(Re.BulkUnregistration={}));var Ea=class{constructor(e,n){this._connection=e,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let n={unregisterations:e};this._connection.sendRequest(H.UnregistrationRequest.type,n).then(void 0,r=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let n=rn.string(e)?e:e.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(H.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},s=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},gl=class{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,n,r){return e instanceof hl?this.registerMany(e):e instanceof Ea?this.registerSingle1(e,n,r):this.registerSingle2(e,n)}registerSingle1(e,n,r){let i=rn.string(n)?n:n.method,s=ll.generateUuid(),o={registrations:[{id:s,method:i,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(H.RegistrationRequest.type,o).then(c=>(e.add({id:s,method:i}),e),c=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(c)))}registerSingle2(e,n){let r=rn.string(e)?e:e.method,i=ll.generateUuid(),s={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(H.RegistrationRequest.type,s).then(o=>H.Disposable.create(()=>{this.unregisterSingle(i,r)}),o=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(o)))}unregisterSingle(e,n){let r={unregisterations:[{id:e,method:n}]};return this.connection.sendRequest(H.UnregistrationRequest.type,r).then(void 0,i=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let n=e.asRegistrationParams();return this.connection.sendRequest(H.RegistrationRequest.type,n).then(()=>new Ea(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},uy=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function n(i){return i&&!!i.edit}let r=n(e)?e:{edit:e};return this.connection.sendRequest(H.ApplyWorkspaceEditRequest.type,r)}},ly=M0.FileOperationsFeature(E0.WorkspaceFoldersFeature(q0.ConfigurationFeature(uy))),pl=class{constructor(){this._trace=H.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,n){this._trace!==H.Trace.Off&&this.connection.sendNotification(H.LogTraceNotification.type,{message:e,verbose:this._trace===H.Trace.Verbose?n:void 0})}},ml=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(H.TelemetryEventNotification.type,e)}},vl=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return ce.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,n){return ce.attachPartialResult(this.connection,n)}};Re._LanguagesImpl=vl;var dy=I0.MonikerFeature(x0.LinkedEditingRangeFeature(F0.SemanticTokensFeature(O0.CallHierarchyFeature(vl))));function fy(t,e){return function(n){return e(t(n))}}Re.combineConsoleFeatures=fy;function hy(t,e){return function(n){return e(t(n))}}Re.combineTelemetryFeatures=hy;function gy(t,e){return function(n){return e(t(n))}}Re.combineTracerFeatures=gy;function py(t,e){return function(n){return e(t(n))}}Re.combineClientFeatures=py;function my(t,e){return function(n){return e(t(n))}}Re.combineWindowFeatures=my;function vy(t,e){return function(n){return e(t(n))}}Re.combineWorkspaceFeatures=vy;function j0(t,e){return function(n){return e(t(n))}}Re.combineLanguagesFeatures=j0;function L0(t,e){function n(i,s,o){return i&&s?o(i,s):i||s}return{__brand:"features",console:n(t.console,e.console,fy),tracer:n(t.tracer,e.tracer,gy),telemetry:n(t.telemetry,e.telemetry,hy),client:n(t.client,e.client,py),window:n(t.window,e.window,my),workspace:n(t.workspace,e.workspace,vy)}}Re.combineFeatures=L0;function W0(t,e,n){let r=n&&n.console?new(n.console(fl)):new fl,i=t(r);r.rawAttach(i);let s=n&&n.tracer?new(n.tracer(pl)):new pl,o=n&&n.telemetry?new(n.telemetry(ml)):new ml,c=n&&n.client?new(n.client(gl)):new gl,a=n&&n.window?new(n.window(cy)):new cy,d=n&&n.workspace?new(n.workspace(ly)):new ly,h=n&&n.languages?new(n.languages(dy)):new dy,p=[r,s,o,c,a,d,h];function m(w){return w instanceof Promise?w:rn.thenable(w)?new Promise((C,q)=>{w.then(k=>C(k),k=>q(k))}):Promise.resolve(w)}let v,O,F,N={listen:()=>i.listen(),sendRequest:(w,...C)=>i.sendRequest(rn.string(w)?w:w.method,...C),onRequest:(w,C)=>i.onRequest(w,C),sendNotification:(w,C)=>{let q=rn.string(w)?w:w.method;arguments.length===1?i.sendNotification(q):i.sendNotification(q,C)},onNotification:(w,C)=>i.onNotification(w,C),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:w=>O=w,onInitialized:w=>i.onNotification(H.InitializedNotification.type,w),onShutdown:w=>v=w,onExit:w=>F=w,get console(){return r},get telemetry(){return o},get tracer(){return s},get client(){return c},get window(){return a},get workspace(){return d},get languages(){return h},onDidChangeConfiguration:w=>i.onNotification(H.DidChangeConfigurationNotification.type,w),onDidChangeWatchedFiles:w=>i.onNotification(H.DidChangeWatchedFilesNotification.type,w),__textDocumentSync:void 0,onDidOpenTextDocument:w=>i.onNotification(H.DidOpenTextDocumentNotification.type,w),onDidChangeTextDocument:w=>i.onNotification(H.DidChangeTextDocumentNotification.type,w),onDidCloseTextDocument:w=>i.onNotification(H.DidCloseTextDocumentNotification.type,w),onWillSaveTextDocument:w=>i.onNotification(H.WillSaveTextDocumentNotification.type,w),onWillSaveTextDocumentWaitUntil:w=>i.onRequest(H.WillSaveTextDocumentWaitUntilRequest.type,w),onDidSaveTextDocument:w=>i.onNotification(H.DidSaveTextDocumentNotification.type,w),sendDiagnostics:w=>i.sendNotification(H.PublishDiagnosticsNotification.type,w),onHover:w=>i.onRequest(H.HoverRequest.type,(C,q)=>w(C,q,ce.attachWorkDone(i,C),void 0)),onCompletion:w=>i.onRequest(H.CompletionRequest.type,(C,q)=>w(C,q,ce.attachWorkDone(i,C),ce.attachPartialResult(i,C))),onCompletionResolve:w=>i.onRequest(H.CompletionResolveRequest.type,w),onSignatureHelp:w=>i.onRequest(H.SignatureHelpRequest.type,(C,q)=>w(C,q,ce.attachWorkDone(i,C),void 0)),onDeclaration:w=>i.onRequest(H.DeclarationRequest.type,(C,q)=>w(C,q,ce.attachWorkDone(i,C),ce.attachPartialResult(i,C))),onDefinition:w=>i.onRequest(H.DefinitionRequest.type,(C,q)=>w(C,q,ce.attachWorkDone(i,C),ce.attachPartialResult(i,C))),onTypeDefinition:w=>i.onRequest(H.TypeDefinitionRequest.type,(C,q)=>w(C,q,ce.attachWorkDone(i,C),ce.attachPartialResult(i,C))),onImplementation:w=>i.onRequest(H.ImplementationRequest.type,(C,q)=>w(C,q,ce.attachWorkDone(i,C),ce.attachPartialResult(i,C))),onReferences:w=>i.onRequest(H.ReferencesRequest.type,(C,q)=>w(C,q,ce.attachWorkDone(i,C),ce.attachPartialResult(i,C))),onDocumentHighlight:w=>i.onRequest(H.DocumentHighlightRequest.type,(C,q)=>w(C,q,ce.attachWorkDone(i,C),ce.attachPartialResult(i,C))),onDocumentSymbol:w=>i.onRequest(H.DocumentSymbolRequest.type,(C,q)=>w(C,q,ce.attachWorkDone(i,C),ce.attachPartialResult(i,C))),onWorkspaceSymbol:w=>i.onRequest(H.WorkspaceSymbolRequest.type,(C,q)=>w(C,q,ce.attachWorkDone(i,C),ce.attachPartialResult(i,C))),onCodeAction:w=>i.onRequest(H.CodeActionRequest.type,(C,q)=>w(C,q,ce.attachWorkDone(i,C),ce.attachPartialResult(i,C))),onCodeActionResolve:w=>i.onRequest(H.CodeActionResolveRequest.type,(C,q)=>w(C,q)),onCodeLens:w=>i.onRequest(H.CodeLensRequest.type,(C,q)=>w(C,q,ce.attachWorkDone(i,C),ce.attachPartialResult(i,C))),onCodeLensResolve:w=>i.onRequest(H.CodeLensResolveRequest.type,(C,q)=>w(C,q)),onDocumentFormatting:w=>i.onRequest(H.DocumentFormattingRequest.type,(C,q)=>w(C,q,ce.attachWorkDone(i,C),void 0)),onDocumentRangeFormatting:w=>i.onRequest(H.DocumentRangeFormattingRequest.type,(C,q)=>w(C,q,ce.attachWorkDone(i,C),void 0)),onDocumentOnTypeFormatting:w=>i.onRequest(H.DocumentOnTypeFormattingRequest.type,(C,q)=>w(C,q)),onRenameRequest:w=>i.onRequest(H.RenameRequest.type,(C,q)=>w(C,q,ce.attachWorkDone(i,C),void 0)),onPrepareRename:w=>i.onRequest(H.PrepareRenameRequest.type,(C,q)=>w(C,q)),onDocumentLinks:w=>i.onRequest(H.DocumentLinkRequest.type,(C,q)=>w(C,q,ce.attachWorkDone(i,C),ce.attachPartialResult(i,C))),onDocumentLinkResolve:w=>i.onRequest(H.DocumentLinkResolveRequest.type,(C,q)=>w(C,q)),onDocumentColor:w=>i.onRequest(H.DocumentColorRequest.type,(C,q)=>w(C,q,ce.attachWorkDone(i,C),ce.attachPartialResult(i,C))),onColorPresentation:w=>i.onRequest(H.ColorPresentationRequest.type,(C,q)=>w(C,q,ce.attachWorkDone(i,C),ce.attachPartialResult(i,C))),onFoldingRanges:w=>i.onRequest(H.FoldingRangeRequest.type,(C,q)=>w(C,q,ce.attachWorkDone(i,C),ce.attachPartialResult(i,C))),onSelectionRanges:w=>i.onRequest(H.SelectionRangeRequest.type,(C,q)=>w(C,q,ce.attachWorkDone(i,C),ce.attachPartialResult(i,C))),onExecuteCommand:w=>i.onRequest(H.ExecuteCommandRequest.type,(C,q)=>w(C,q,ce.attachWorkDone(i,C),void 0)),dispose:()=>i.dispose()};for(let w of p)w.attach(N);return i.onRequest(H.InitializeRequest.type,w=>{e.initialize(w),rn.string(w.trace)&&(s.trace=H.Trace.fromString(w.trace));for(let C of p)C.initialize(w.capabilities);if(O){let C=O(w,new H.CancellationTokenSource().token,ce.attachWorkDone(i,w),void 0);return m(C).then(q=>{if(q instanceof H.ResponseError)return q;let k=q;k||(k={capabilities:{}});let A=k.capabilities;A||(A={},k.capabilities=A),A.textDocumentSync===void 0||A.textDocumentSync===null?A.textDocumentSync=rn.number(N.__textDocumentSync)?N.__textDocumentSync:H.TextDocumentSyncKind.None:!rn.number(A.textDocumentSync)&&!rn.number(A.textDocumentSync.change)&&(A.textDocumentSync.change=rn.number(N.__textDocumentSync)?N.__textDocumentSync:H.TextDocumentSyncKind.None);for(let Y of p)Y.fillServerCapabilities(A);return k})}else{let C={capabilities:{textDocumentSync:H.TextDocumentSyncKind.None}};for(let q of p)q.fillServerCapabilities(C.capabilities);return C}}),i.onRequest(H.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,v)return v(new H.CancellationTokenSource().token)}),i.onNotification(H.ExitNotification.type,()=>{try{F&&F()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(H.SetTraceNotification.type,w=>{s.trace=H.Trace.fromString(w.value)}),N}Re.createConnection=W0});var _y=T(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.resolveModulePath=bt.FileSystem=bt.resolveGlobalYarnPath=bt.resolveGlobalNodePath=bt.resolve=bt.uriToFilePath=void 0;var $0=require("url"),yn=require("path"),_l=require("fs"),wl=require("child_process");function H0(t){let e=$0.parse(t);if(e.protocol!=="file:"||!e.path)return;let n=e.path.split("/");for(var r=0,i=n.length;r<i;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let s=n[0],o=n[1];s.length===0&&o.length>1&&o[1]===":"&&n.shift()}return yn.normalize(n.join("/"))}bt.uriToFilePath=H0;function bl(){return process.platform==="win32"}function Oa(t,e,n,r){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((o,c)=>{let a=process.env,d=Object.create(null);Object.keys(a).forEach(h=>d[h]=a[h]),e&&_l.existsSync(e)&&(d[i]?d[i]=e+yn.delimiter+d[i]:d[i]=e,r&&r(`NODE_PATH value is: ${d[i]}`)),d.ELECTRON_RUN_AS_NODE="1";try{let h=wl.fork("",[],{cwd:n,env:d,execArgv:["-e",s]});if(h.pid===void 0){c(new Error(`Starting process to resolve node module  ${t} failed`));return}h.on("error",m=>{c(m)}),h.on("message",m=>{m.c==="r"&&(h.send({c:"e"}),m.s?o(m.r):c(new Error(`Failed to resolve module: ${t}`)))});let p={c:"rs",a:t};h.send(p)}catch(h){c(h)}})}bt.resolve=Oa;function Rl(t){let e="npm",n=Object.create(null);Object.keys(process.env).forEach(s=>n[s]=process.env[s]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};bl()&&(e="npm.cmd",r.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let s=wl.spawnSync(e,["config","get","prefix"],r).stdout;if(!s){t&&t("'npm config get prefix' didn't return a value.");return}let o=s.trim();return t&&t(`'npm config get prefix' value is: ${o}`),o.length>0?bl()?yn.join(o,"node_modules"):yn.join(o,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}bt.resolveGlobalNodePath=Rl;function z0(t){let e="yarn",n={encoding:"utf8"};bl()&&(e="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let i=wl.spawnSync(e,["global","dir","--json"],n),s=i.stdout;if(!s){t&&(t("'yarn global dir' didn't return a value."),i.stderr&&t(i.stderr));return}let o=s.trim().split(/\r?\n/);for(let c of o)try{let a=JSON.parse(c);if(a.type==="log")return yn.join(a.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}bt.resolveGlobalYarnPath=z0;var yy;(function(t){let e;function n(){return e!==void 0||(process.platform==="win32"?e=!1:e=!_l.existsSync(__filename.toUpperCase())||!_l.existsSync(__filename.toLowerCase())),e}t.isCaseSensitive=n;function r(i,s){return n()?yn.normalize(s).indexOf(yn.normalize(i))===0:yn.normalize(s).toLowerCase().indexOf(yn.normalize(i).toLowerCase())===0}t.isParent=r})(yy=bt.FileSystem||(bt.FileSystem={}));function K0(t,e,n,r){return n?(yn.isAbsolute(n)||(n=yn.join(t,n)),Oa(e,n,n,r).then(i=>yy.isParent(n,i)?i:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,i=>Oa(e,Rl(r),t,r))):Oa(e,Rl(r),t,r)}bt.resolveModulePath=K0});var by=T(Lt=>{"use strict";var U0=Lt&&Lt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),wy=Lt&&Lt.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&U0(e,t,n)};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.ProposedFeatures=Lt.SemanticTokensBuilder=void 0;var B0=ul();Object.defineProperty(Lt,"SemanticTokensBuilder",{enumerable:!0,get:function(){return B0.SemanticTokensBuilder}});wy(ie(),Lt);wy(yl(),Lt);var G0;(function(t){t.all={__brand:"features"}})(G0=Lt.ProposedFeatures||(Lt.ProposedFeatures={}))});var Py=T(Wt=>{"use strict";var X0=Wt&&Wt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Ry=Wt&&Wt.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&X0(e,t,n)};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.createConnection=Wt.Files=void 0;var Cl=ya(),V0=yl(),Qo=_y(),ii=Wo();Ry(Wo(),Wt);Ry(by(),Wt);var J0;(function(t){t.uriToFilePath=Qo.uriToFilePath,t.resolveGlobalNodePath=Qo.resolveGlobalNodePath,t.resolveGlobalYarnPath=Qo.resolveGlobalYarnPath,t.resolve=Qo.resolve,t.resolveModulePath=Qo.resolveModulePath})(J0=Wt.Files||(Wt.Files={}));var Cy;function Fa(){if(Cy!==void 0)try{Cy.end()}catch{}}var ji=!1,Sy;function Q0(){let t="--clientProcessId";function e(n){try{let r=parseInt(n);isNaN(r)||(Sy=setInterval(()=>{try{process.kill(r,0)}catch{Fa(),process.exit(ji?0:1)}},3e3))}catch{}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===t&&n+1<process.argv.length){e(process.argv[n+1]);return}else{let i=r.split("=");i[0]===t&&e(i[1])}}}Q0();var Y0={initialize:t=>{let e=t.processId;Cl.number(e)&&Sy===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(ji?0:1)}},3e3)},get shutdownReceived(){return ji},set shutdownReceived(t){ji=t},exit:t=>{Fa(),process.exit(t)}};function Z0(t,e,n,r){let i,s,o,c;return t!==void 0&&t.__brand==="features"&&(i=t,t=e,e=n,n=r),ii.ConnectionStrategy.is(t)||ii.ConnectionOptions.is(t)?c=t:(s=t,o=e,c=n),eq(s,o,c,i)}Wt.createConnection=Z0;function eq(t,e,n,r){if(!t&&!e&&process.argv.length>2){let c,a,d=process.argv.slice(2);for(let h=0;h<d.length;h++){let p=d[h];if(p==="--node-ipc"){t=new ii.IPCMessageReader(process),e=new ii.IPCMessageWriter(process);break}else if(p==="--stdio"){t=process.stdin,e=process.stdout;break}else if(p==="--socket"){c=parseInt(d[h+1]);break}else if(p==="--pipe"){a=d[h+1];break}else{var i=p.split("=");if(i[0]==="--socket"){c=parseInt(i[1]);break}else if(i[0]==="--pipe"){a=i[1];break}}}if(c){let h=ii.createServerSocketTransport(c);t=h[0],e=h[1]}else if(a){let h=ii.createServerPipeTransport(a);t=h[0],e=h[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+s);if(!e)throw new Error("Connection output stream is not set. "+s);if(Cl.func(t.read)&&Cl.func(t.on)){let c=t;c.on("end",()=>{Fa(),process.exit(ji?0:1)}),c.on("close",()=>{Fa(),process.exit(ji?0:1)})}let o=c=>ii.createProtocolConnection(t,e,c,n);return V0.createConnection(o,Y0,r)}});var Sl=T((Ck,Dy)=>{"use strict";Dy.exports=Py()});var xy=T((Sk,My)=>{var Mn=-1,_n=1,Ot=0;function Yo(t,e,n,r){if(t===e)return t?[[Ot,t]]:[];if(n!=null){var i=oq(t,e,n);if(i)return i}var s=Pl(t,e),o=t.substring(0,s);t=t.substring(s),e=e.substring(s),s=Dl(t,e);var c=t.substring(t.length-s);t=t.substring(0,t.length-s),e=e.substring(0,e.length-s);var a=tq(t,e);return o&&a.unshift([Ot,o]),c&&a.push([Ot,c]),qy(a,r),a}function tq(t,e){var n;if(!t)return[[_n,e]];if(!e)return[[Mn,t]];var r=t.length>e.length?t:e,i=t.length>e.length?e:t,s=r.indexOf(i);if(s!==-1)return n=[[_n,r.substring(0,s)],[Ot,i],[_n,r.substring(s+i.length)]],t.length>e.length&&(n[0][0]=n[2][0]=Mn),n;if(i.length===1)return[[Mn,t],[_n,e]];var o=rq(t,e);if(o){var c=o[0],a=o[1],d=o[2],h=o[3],p=o[4],m=Yo(c,d),v=Yo(a,h);return m.concat([[Ot,p]],v)}return nq(t,e)}function nq(t,e){for(var n=t.length,r=e.length,i=Math.ceil((n+r)/2),s=i,o=2*i,c=new Array(o),a=new Array(o),d=0;d<o;d++)c[d]=-1,a[d]=-1;c[s+1]=0,a[s+1]=0;for(var h=n-r,p=h%2!=0,m=0,v=0,O=0,F=0,N=0;N<i;N++){for(var w=-N+m;w<=N-v;w+=2){var C=s+w,q;w===-N||w!==N&&c[C-1]<c[C+1]?q=c[C+1]:q=c[C-1]+1;for(var k=q-w;q<n&&k<r&&t.charAt(q)===e.charAt(k);)q++,k++;if(c[C]=q,q>n)v+=2;else if(k>r)m+=2;else if(p){var A=s+h-w;if(A>=0&&A<o&&a[A]!==-1){var Y=n-a[A];if(q>=Y)return Ty(t,e,q,k)}}}for(var le=-N+O;le<=N-F;le+=2){var A=s+le,Y;le===-N||le!==N&&a[A-1]<a[A+1]?Y=a[A+1]:Y=a[A-1]+1;for(var ye=Y-le;Y<n&&ye<r&&t.charAt(n-Y-1)===e.charAt(r-ye-1);)Y++,ye++;if(a[A]=Y,Y>n)F+=2;else if(ye>r)O+=2;else if(!p){var C=s+h-le;if(C>=0&&C<o&&c[C]!==-1){var q=c[C],k=s+q-C;if(Y=n-Y,q>=Y)return Ty(t,e,q,k)}}}}return[[Mn,t],[_n,e]]}function Ty(t,e,n,r){var i=t.substring(0,n),s=e.substring(0,r),o=t.substring(n),c=e.substring(r),a=Yo(i,s),d=Yo(o,c);return a.concat(d)}function Pl(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,s=0;n<i;)t.substring(s,i)==e.substring(s,i)?(n=i,s=n):r=i,i=Math.floor((r-n)/2+n);return Ey(t.charCodeAt(i-1))&&i--,i}function Dl(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,s=0;n<i;)t.substring(t.length-i,t.length-s)==e.substring(e.length-i,e.length-s)?(n=i,s=n):r=i,i=Math.floor((r-n)/2+n);return Oy(t.charCodeAt(t.length-i))&&i--,i}function rq(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||r.length*2<n.length)return null;function i(v,O,F){for(var N=v.substring(F,F+Math.floor(v.length/4)),w=-1,C="",q,k,A,Y;(w=O.indexOf(N,w+1))!==-1;){var le=Pl(v.substring(F),O.substring(w)),ye=Dl(v.substring(0,F),O.substring(0,w));C.length<ye+le&&(C=O.substring(w-ye,w)+O.substring(w,w+le),q=v.substring(0,F-ye),k=v.substring(F+le),A=O.substring(0,w-ye),Y=O.substring(w+le))}return C.length*2>=v.length?[q,k,A,Y,C]:null}var s=i(n,r,Math.ceil(n.length/4)),o=i(n,r,Math.ceil(n.length/2)),c;if(!s&&!o)return null;o?s?c=s[4].length>o[4].length?s:o:c=o:c=s;var a,d,h,p;t.length>e.length?(a=c[0],d=c[1],h=c[2],p=c[3]):(h=c[0],p=c[1],a=c[2],d=c[3]);var m=c[4];return[a,d,h,p,m]}function qy(t,e){t.push([Ot,""]);for(var n=0,r=0,i=0,s="",o="",c;n<t.length;){if(n<t.length-1&&!t[n][1]){t.splice(n,1);continue}switch(t[n][0]){case _n:i++,o+=t[n][1],n++;break;case Mn:r++,s+=t[n][1],n++;break;case Ot:var a=n-i-r-1;if(e){if(a>=0&&ky(t[a][1])){var d=t[a][1].slice(-1);if(t[a][1]=t[a][1].slice(0,-1),s=d+s,o=d+o,!t[a][1]){t.splice(a,1),n--;var h=a-1;t[h]&&t[h][0]===_n&&(i++,o=t[h][1]+o,h--),t[h]&&t[h][0]===Mn&&(r++,s=t[h][1]+s,h--),a=h}}if(Fy(t[n][1])){var d=t[n][1].charAt(0);t[n][1]=t[n][1].slice(1),s+=d,o+=d}}if(n<t.length-1&&!t[n][1]){t.splice(n,1);break}if(s.length>0||o.length>0){s.length>0&&o.length>0&&(c=Pl(o,s),c!==0&&(a>=0?t[a][1]+=o.substring(0,c):(t.splice(0,0,[Ot,o.substring(0,c)]),n++),o=o.substring(c),s=s.substring(c)),c=Dl(o,s),c!==0&&(t[n][1]=o.substring(o.length-c)+t[n][1],o=o.substring(0,o.length-c),s=s.substring(0,s.length-c)));var p=i+r;s.length===0&&o.length===0?(t.splice(n-p,p),n=n-p):s.length===0?(t.splice(n-p,p,[_n,o]),n=n-p+1):o.length===0?(t.splice(n-p,p,[Mn,s]),n=n-p+1):(t.splice(n-p,p,[Mn,s],[_n,o]),n=n-p+2)}n!==0&&t[n-1][0]===Ot?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,s="",o="";break}}t[t.length-1][1]===""&&t.pop();var m=!1;for(n=1;n<t.length-1;)t[n-1][0]===Ot&&t[n+1][0]===Ot&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),m=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),m=!0)),n++;m&&qy(t,e)}function Ey(t){return t>=55296&&t<=56319}function Oy(t){return t>=56320&&t<=57343}function Fy(t){return Oy(t.charCodeAt(0))}function ky(t){return Ey(t.charCodeAt(t.length-1))}function iq(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}function Tl(t,e,n,r){return ky(t)||Fy(r)?null:iq([[Ot,t],[Mn,e],[_n,n],[Ot,r]])}function oq(t,e,n){var r=typeof n=="number"?{index:n,length:0}:n.oldRange,i=typeof n=="number"?null:n.newRange,s=t.length,o=e.length;if(r.length===0&&(i===null||i.length===0)){var c=r.index,a=t.slice(0,c),d=t.slice(c),h=i?i.index:null;e:{var p=c+o-s;if(h!==null&&h!==p||p<0||p>o)break e;var m=e.slice(0,p),v=e.slice(p);if(v!==d)break e;var O=Math.min(c,p),F=a.slice(0,O),N=m.slice(0,O);if(F!==N)break e;var w=a.slice(O),C=m.slice(O);return Tl(F,w,C,d)}e:{if(h!==null&&h!==c)break e;var q=c,m=e.slice(0,q),v=e.slice(q);if(m!==a)break e;var k=Math.min(s-q,o-q),A=d.slice(d.length-k),Y=v.slice(v.length-k);if(A!==Y)break e;var w=d.slice(0,d.length-k),C=v.slice(0,v.length-k);return Tl(a,w,C,A)}}if(r.length>0&&i&&i.length===0){e:{var F=t.slice(0,r.index),A=t.slice(r.index+r.length),O=F.length,k=A.length;if(o<O+k)break e;var N=e.slice(0,O),Y=e.slice(o-k);if(F!==N||A!==Y)break e;var w=t.slice(O,s-k),C=e.slice(O,o-k);return Tl(F,w,C,A)}}return null}function ka(t,e,n){return Yo(t,e,n,!0)}ka.INSERT=_n;ka.DELETE=Mn;ka.EQUAL=Ot;My.exports=ka});var El=T(Li=>{"use strict";var sq=Li&&Li.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Li,"__esModule",{value:!0});Li.createTextEdits=void 0;var Ma=sq(xy()),ql=mr();function aq(t,e){let n=(0,Ma.default)(t.getText(),e),r=[],i=0;for(let[s,o]of n){let c=i;switch(s){case Ma.default.EQUAL:i+=o.length;break;case Ma.default.DELETE:i+=o.length,r.push(ql.TextEdit.del(ql.Range.create(t.positionAt(c),t.positionAt(i))));break;case Ma.default.INSERT:r.push(ql.TextEdit.insert(t.positionAt(c),o));break}}return r}Li.createTextEdits=aq});var Ny=T(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.getDisableType=void 0;var Iy=mr();function cq(t,e){let n=t.offsetAt(Iy.Position.create(e.line,0)),r=t.offsetAt(Iy.Position.create(e.line+1,0)),i=t.getText().slice(n,r),s=i.slice(0,e.character),o=i.slice(e.character),c=s.match(/\/\*\s*(stylelint-disable(?:(?:-next)?-line)?)\s[a-z\-/\s,]*$/i)?.[1]?.toLowerCase();return c&&/^[a-z\-/\s,]*\*\//i.test(o)?c:void 0}xa.getDisableType=cq});var Ay=T(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.getFixes=void 0;var uq=El();async function lq(t,e,n={},r={}){let i=await t.lintDocument(e,{...n,fix:!0},r);return typeof i.output=="string"?(0,uq.createTextEdits)(e,i.output):[]}Ia.getFixes=lq});var jy=T(Wi=>{"use strict";var dq=Wi&&Wi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.getWorkspaceFolder=void 0;var fq=dq(Ju()),Ol=Mi();async function hq(t,e){let{scheme:n,fsPath:r}=Ol.URI.parse(e.uri);if(n==="untitled"){let i=(await t.workspace.getWorkspaceFolders())?.[0]?.uri;return i?Ol.URI.parse(i).fsPath:void 0}if(r){let i=await t.workspace.getWorkspaceFolders();if(i)for(let{uri:s}of i){let o=Ol.URI.parse(s).fsPath;if((0,fq.default)(r,o))return o}}}Wi.getWorkspaceFolder=hq});var $i=T(xn=>{"use strict";var gq=xn&&xn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Na=xn&&xn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&gq(e,t,n)};Object.defineProperty(xn,"__esModule",{value:!0});Na(El(),xn);Na(Ny(),xn);Na(Ay(),xn);Na(jy(),xn)});var Ly=T(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.getFirstResolvedValue=Hi.getFirstReturnValue=void 0;function pq(...t){for(let e of t){let n=e();if(n!==void 0)return n}}Hi.getFirstReturnValue=pq;async function mq(...t){for(let e of t){let n=await e();if(n!==void 0)return n}}Hi.getFirstResolvedValue=mq});var Wy=T(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.lazyCallAsync=zi.lazyCall=void 0;function vq(t){let e=!1,n;return()=>(e||(n=t(),e=!0),n)}zi.lazyCall=vq;function yq(t){let e=!1,n;return async()=>(e||(n=await t(),e=!0),n)}zi.lazyCallAsync=yq});var Hy=T(Er=>{"use strict";var _q=Er&&Er.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),$y=Er&&Er.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&_q(e,t,n)};Object.defineProperty(Er,"__esModule",{value:!0});$y(Ly(),Er);$y(Wy(),Er)});var Qy=T(In=>{"use strict";var Fl=In&&In.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Pe=In&&In.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},kl=In&&In.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},wn,ir,dt,Aa,ja,zy,Ky,Uy,By,Gy,Xy;Object.defineProperty(In,"__esModule",{value:!0});In.StylelintResolver=void 0;var wq=kl(require("fs/promises")),bq=require("module"),La=kl(require("path")),Rq=kl(require("process")),Cq=Sl(),Sq=Mi(),Pq=$i(),Vy=Yu(),Dq=nl(),Ml=Hy(),Jy=class{constructor(e,n){wn.add(this),ir.set(this,void 0),dt.set(this,void 0),Aa.set(this,void 0),Fl(this,ir,e,"f"),Fl(this,dt,n,"f"),Fl(this,Aa,new Dq.GlobalPathResolver(n),"f")}async resolve({packageManager:e,stylelintPath:n},r){let i=(0,Ml.lazyCallAsync)(async()=>Pe(this,ir,"f")&&await(0,Pq.getWorkspaceFolder)(Pe(this,ir,"f"),r)),s=await(0,Ml.getFirstResolvedValue)(()=>Pe(this,wn,"m",Gy).call(this,n,i),()=>Pe(this,wn,"m",Xy).call(this,r,i,e));if(!s){Pe(this,dt,"f")?.warn("Failed to load Stylelint either globally or from the current workspace.");return}return s}};In.StylelintResolver=Jy;ir=new WeakMap,dt=new WeakMap,Aa=new WeakMap,wn=new WeakSet,ja=function(e,n){Pe(this,dt,"f")&&Pe(this,dt,"f")?.error(e,n&&{error:n}),Pe(this,ir,"f")&&Pe(this,ir,"f").window.showErrorMessage(`Stylelint: ${e}`)},zy=async function(e){let n=[".pnp.cjs",".pnp.js"];for(let r of n){let i=La.default.join(e,r);try{if((await wq.default.stat(i)).isFile())return i}catch(s){Pe(this,dt,"f")?.debug("Did not find PnP loader at tested path",{path:i,error:s})}}Pe(this,dt,"f")?.debug("Could not find a PnP loader",{path:e})},Ky=async function(e){if(!e)return;let n=await(0,Vy.findPackageRoot)(e,"yarn.lock");if(!n){Pe(this,dt,"f")?.debug("Could not find a Yarn lockfile",{cwd:e});return}let r=await Pe(this,wn,"m",zy).call(this,n);if(!!r){if(!Rq.default.versions.pnp)try{require(r).setup()}catch(i){Pe(this,dt,"f")?.warn("Could not setup PnP",{path:r,error:i});return}try{let i=(0,bq.createRequire)(r),s=i.resolve("stylelint"),o=await(0,Vy.findPackageRoot)(s);if(!o){Pe(this,dt,"f")?.warn("Failed to find the Stylelint package root",{path:s});return}let a={stylelint:i("stylelint"),resolvedPath:o};return Pe(this,dt,"f")?.debug("Resolved Stylelint using PnP",{path:r}),a}catch(i){Pe(this,dt,"f")?.warn("Could not load Stylelint using PnP",{path:n,error:i});return}}},Uy=async function(e,n,r){try{let i=await Cq.Files.resolve("stylelint",n,e,r),s={stylelint:require(i),resolvedPath:i};return Pe(this,dt,"f")?.debug("Resolved Stylelint from node_modules",{path:i}),s}catch(i){Pe(this,dt,"f")?.warn("Could not load Stylelint from node_modules",{error:i});return}},By=async function(e,n){if(!Pe(this,ir,"f")||La.default.isAbsolute(e))return e;let r=await n();return r?La.default.join(r,e):e},Gy=async function(e,n){if(!e)return;let r=`Failed to load Stylelint from "stylelintPath": ${e}.`;try{let i=await Pe(this,wn,"m",By).call(this,e,n),s=require(i);if(s&&typeof s.lint=="function")return{stylelint:s,resolvedPath:i}}catch(i){throw Pe(this,wn,"m",ja).call(this,r,i),i}Pe(this,wn,"m",ja).call(this,r)},Xy=async function(e,n,r){let i=Pe(this,ir,"f");try{let s=r?await Pe(this,Aa,"f").resolve(r):void 0,o=Sq.URI.parse(e.uri),c=o.scheme==="file"?La.default.dirname(o.fsPath):await n(),a=await(0,Ml.getFirstResolvedValue)(async()=>await Pe(this,wn,"m",Ky).call(this,c),async()=>await Pe(this,wn,"m",Uy).call(this,c,s,(d,h)=>{Pe(this,dt,"f")?.debug(d.replace(/\n/g,"  "),{verbose:h}),i?.tracer.log(d,h)}));if(!a)return;if(typeof a.stylelint?.lint!="function"){Pe(this,wn,"m",ja).call(this,"stylelint.lint is not a function.");return}return a}catch(s){Pe(this,dt,"f")?.debug("Failed to resolve Stylelint from workspace or globally-installed packages.",{error:s})}}});var Zy=T(Yy=>{"use strict";Object.defineProperty(Yy,"__esModule",{value:!0})});var Zo=T(Nn=>{"use strict";var Tq=Nn&&Nn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Wa=Nn&&Nn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Tq(e,t,n)};Object.defineProperty(Nn,"__esModule",{value:!0});Wa(Yu(),Nn);Wa(nl(),Nn);Wa(Qy(),Nn);Wa(Zy(),Nn)});var xl=T(Ki=>{"use strict";var e_=Ki&&Ki.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.buildStylelintOptions=void 0;var es=e_(require("path")),qq=e_(Ju()),Eq=Mi(),Oq=Zo();async function Fq(t,e,n={},{config:r,configFile:i,configBasedir:s,customSyntax:o,ignoreDisables:c,reportNeedlessDisables:a,reportInvalidScopeDisables:d}={}){let h={...n,config:r??n.config,configFile:i?e?i.replace(/\$\{workspaceFolder\}/gu,e):i:n.configFile,configBasedir:s?es.default.isAbsolute(s)?s:es.default.join(e??"",s):n.configBasedir,customSyntax:o?e?o.replace(/\$\{workspaceFolder\}/gu,e):o:n.customSyntax,ignoreDisables:c??n.ignoreDisables,reportNeedlessDisables:a??n.reportNeedlessDisables,reportInvalidScopeDisables:d??n.reportInvalidScopeDisables},p=Eq.URI.parse(t).fsPath;return p&&(e&&(0,qq.default)(p,e)&&(h.ignorePath=es.default.join(e,".stylelintignore")),h.ignorePath===void 0&&(h.ignorePath=es.default.join(await(0,Oq.findPackageRoot)(p)||es.default.parse(p).root,".stylelintignore"))),h}Ki.buildStylelintOptions=Fq});var t_=T($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.intersect=void 0;function kq(t,e){if(!t)return e;if(!e)return t;let[n,r]=t.size<e.size?[t,e]:[e,t],i=new Set;for(let s of n)r.has(s)&&i.add(s);return i}$a.intersect=kq});var ts=T(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.InvalidOptionError=oi.DisableReportRuleNames=void 0;var Mq;(function(t){t.Needless="--report-needless-disables",t.InvalidScope="--report-invalid-scope-disables",t.Descriptionless="--report-descriptionless-disables",t.Illegal="reportDisables"})(Mq=oi.DisableReportRuleNames||(oi.DisableReportRuleNames={}));var n_=class extends Error{constructor(e){let n=e.map(r=>r.text);super(n.join(`
`));this.reasons=n}};oi.InvalidOptionError=n_});var Il=T(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});za.getDisableDiagnosticRule=void 0;var Ha=ts();function xq(t){switch(t.code){case Ha.DisableReportRuleNames.Needless:return t.message.match(/^Needless disable for "(.+)"$/)?.[1];case Ha.DisableReportRuleNames.InvalidScope:return t.message.match(/^Rule "(.+)" isn't enabled$/)?.[1];case Ha.DisableReportRuleNames.Descriptionless:return t.message.match(/^Disable for "(.+)" is missing a description$/)?.[1];case Ha.DisableReportRuleNames.Illegal:return t.message.match(/^Rule "(.+)" may not be disabled$/)?.[1];default:return}}za.getDisableDiagnosticRule=xq});var o_=T(Ui=>{"use strict";var bn=Ui&&Ui.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ka,ns,rs,is,Nl;Object.defineProperty(Ui,"__esModule",{value:!0});Ui.DisableMetadataLookupTable=void 0;var r_=t_(),Iq=Il(),i_=class{constructor(e){Ka.add(this),ns.set(this,new Map),rs.set(this,new Map),is.set(this,new Map);for(let n of e){let r=(0,Iq.getDisableDiagnosticRule)(n);if(!r)continue;let i=n.code,s=bn(this,ns,"f").get(i);s?s.add(n):bn(this,ns,"f").set(i,new Set([n]));let o=bn(this,rs,"f").get(r);o?o.add(n):bn(this,rs,"f").set(r,new Set([n]));let c=bn(this,Ka,"m",Nl).call(this,n.range),a=bn(this,is,"f").get(c);a?a.add(n):bn(this,is,"f").set(c,new Set([n]))}}find({type:e,rule:n,range:r}){let i=e?bn(this,ns,"f").get(e):void 0,s=n?bn(this,rs,"f").get(n):void 0,o=r?bn(this,is,"f").get(bn(this,Ka,"m",Nl).call(this,r)):void 0;return(0,r_.intersect)((0,r_.intersect)(i,s),o)??new Set}};Ui.DisableMetadataLookupTable=i_;ns=new WeakMap,rs=new WeakMap,is=new WeakMap,Ka=new WeakSet,Nl=function({start:e,end:n}){return`${e.line}:${e.character}:${n.line}:${n.character}`}});var s_=T(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.formattingOptionsToRules=void 0;function Nq({insertSpaces:t,tabSize:e,insertFinalNewline:n,trimTrailingWhitespace:r}){let i={indentation:[t?e:"tab"]};return n!==void 0&&(i["no-missing-end-of-source-newline"]=n),r!==void 0&&(i["no-eol-whitespace"]=r),i}Ua.formattingOptionsToRules=Nq});var a_=T(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.isDisableReportRule=void 0;var Ba=ts();function Aq(t){switch(t){case Ba.DisableReportRuleNames.Descriptionless:case Ba.DisableReportRuleNames.Illegal:case Ba.DisableReportRuleNames.InvalidScope:case Ba.DisableReportRuleNames.Needless:return!0;default:return!1}}Ga.isDisableReportRule=Aq});var Al=T(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.warningToDiagnostic=void 0;var os=mr();function jq(t,e){let n=os.Position.create(t.line-1,t.column-1),r=os.Position.create(t.line-1,t.column),i=e?.[t.rule]&&`https://stylelint.io/user-guide/rules/${t.rule}`,s=os.Diagnostic.create(os.Range.create(n,r),t.text,os.DiagnosticSeverity[t.severity==="warning"?"Warning":"Error"],t.rule,"Stylelint");return i&&(s.codeDescription={href:i}),s}Xa.warningToDiagnostic=jq});var jl=T(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.processLinterResult=void 0;var Lq=Al(),Wq=ts();function $q(t,{results:e,output:n}){if(e.length===0)return{diagnostics:[]};let[{invalidOptionWarnings:r,warnings:i,ignored:s}]=e;if(s)return{diagnostics:[]};if(r.length!==0)throw new Wq.InvalidOptionError(r);let o=i.map(c=>(0,Lq.warningToDiagnostic)(c,t.rules));return n?{output:n,diagnostics:o}:{diagnostics:o}}Va.processLinterResult=$q});var l_=T(An=>{"use strict";var Ll=An&&An.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Bi=An&&An.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Hq=An&&An.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},ss,Gi,Ja;Object.defineProperty(An,"__esModule",{value:!0});An.StylelintRunner=void 0;var zq=Hq(require("os")),Kq=Mi(),Uq=Zo(),Bq=$i(),c_=jl(),Gq=xl(),u_=class{constructor(e,n,r){ss.set(this,void 0),Gi.set(this,void 0),Ja.set(this,void 0),Ll(this,ss,e,"f"),Ll(this,Gi,n,"f"),Ll(this,Ja,r??new Uq.StylelintResolver(e,n),"f")}async lintDocument(e,n={},r={}){let i=Bi(this,ss,"f")&&await(0,Bq.getWorkspaceFolder)(Bi(this,ss,"f"),e),s=await Bi(this,Ja,"f").resolve(r,e);if(!s)return Bi(this,Gi,"f")?.info("No Stylelint found with which to lint document",{uri:e.uri,options:r}),{diagnostics:[]};let{stylelint:o}=s,{fsPath:c}=Kq.URI.parse(e.uri),a=zq.default.platform()==="win32"?c.replace(/^[a-z]:/,h=>h.toUpperCase()):c,d={...await(0,Gq.buildStylelintOptions)(e.uri,i,n,r),code:e.getText(),formatter:()=>""};a?d.codeFilename=a:n?.config?.rules||(d.config={rules:{}}),Bi(this,Gi,"f")?.isDebugEnabled()&&Bi(this,Gi,"f")?.debug("Running Stylelint",{options:{...d,code:"..."}});try{return(0,c_.processLinterResult)(o,await o.lint(d))}catch(h){if(h instanceof Error&&(h.message.startsWith("No configuration provided for")||h.message.includes("No rules found within configuration")))return(0,c_.processLinterResult)(o,await o.lint({...d,config:{rules:{}}}));throw h}}};An.StylelintRunner=u_;ss=new WeakMap,Gi=new WeakMap,Ja=new WeakMap});var as=T(Rt=>{"use strict";var Xq=Rt&&Rt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),or=Rt&&Rt.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Xq(e,t,n)};Object.defineProperty(Rt,"__esModule",{value:!0});or(xl(),Rt);or(o_(),Rt);or(s_(),Rt);or(Il(),Rt);or(a_(),Rt);or(jl(),Rt);or(l_(),Rt);or(ts(),Rt);or(Al(),Rt)});var v_=T(kt=>{"use strict";var Vq=kt&&kt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Jq=kt&&kt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Qq=kt&&kt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Vq(e,t,n);return Jq(e,t),e},d_=kt&&kt.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},De=kt&&kt.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},si,on,et,f_,h_,g_,p_,m_;Object.defineProperty(kt,"__esModule",{value:!0});kt.CodeActionModule=void 0;var Ft=Qq(ie()),Or=Oi(),Wl=ma(),Yq=as(),Zq=ie(),$l=class{constructor({context:e,logger:n}){si.add(this),on.set(this,void 0),et.set(this,void 0),d_(this,on,e,"f"),d_(this,et,n,"f")}onInitialize(){return{capabilities:{codeActionProvider:{codeActionKinds:[Ft.CodeActionKind.QuickFix,Or.CodeActionKind.StylelintSourceFixAll]},executeCommandProvider:{commands:[Or.CommandId.OpenRuleDoc]}}}}onDidRegisterHandlers(){De(this,et,"f")?.debug("Registering onCodeAction handler"),De(this,on,"f").connection.onCodeAction(async({context:e,textDocument:{uri:n}})=>{De(this,et,"f")?.debug("Received onCodeAction",{context:e,uri:n});let r=De(this,on,"f").documents.get(n);if(!r)return De(this,et,"f")?.debug("Unknown document, ignoring",{uri:n}),[];if(!await De(this,si,"m",f_).call(this,r))return De(this,et,"f")?.debug("Document should not be validated, ignoring",{uri:n,language:r.languageId}),[];let i=await De(this,si,"m",m_).call(this,r,e);return De(this,et,"f")?.debug("Returning code actions",{actions:i}),i}),De(this,et,"f")?.debug("onCodeAction handler registered"),De(this,on,"f").commands.on(Or.CommandId.OpenRuleDoc,async({arguments:e})=>{let n=e?.[0];if(!n)return De(this,et,"f")?.debug("No URL provided, ignoring command request"),{};let{uri:r}=n;return De(this,et,"f")?.debug("Opening rule documentation",{uri:r}),(await De(this,on,"f").connection.window.showDocument({uri:r,external:!0})).success?{}:(De(this,et,"f")?.warn("Failed to open rule documentation",{uri:r}),new Ft.ResponseError(Ft.ErrorCodes.InternalError,"Failed to open rule documentation"))}),De(this,on,"f").notifications.on(Zq.InitializedNotification.type,()=>De(this,on,"f").connection.sendNotification(Or.Notification.DidRegisterCodeActionRequestHandler))}};kt.CodeActionModule=$l;on=new WeakMap,et=new WeakMap,si=new WeakSet,f_=async function(e){return(await De(this,on,"f").getOptions(e.uri)).validate.includes(e.languageId)},h_=async function(e){let n=await De(this,on,"f").getFixes(e),r={uri:e.uri,version:e.version};return n.length>0?Ft.CodeAction.create("Fix all Stylelint auto-fixable problems",{documentChanges:[Ft.TextDocumentEdit.create(r,n)]},Or.CodeActionKind.StylelintSourceFixAll):void 0},g_=function(e){let n=Ft.Command.create("Fix all Stylelint auto-fixable problems",Or.CommandId.ApplyAutoFix,{uri:e.uri,version:e.version});return Ft.CodeAction.create("Fix all Stylelint auto-fixable problems",n,Ft.CodeActionKind.Source)},p_=function({code:e,codeDescription:n}){let r=n?.href;if(!r)return;let i=Ft.Command.create(`Open documentation for ${e}`,Or.CommandId.OpenRuleDoc,{uri:r});return Ft.CodeAction.create(`Show documentation for ${e}`,i,Ft.CodeActionKind.QuickFix)},m_=async function(e,n){let r=n.only&&new Set(n.only);if(De(this,et,"f")?.debug("Creating code actions",{only:n.only}),r?.has(Ft.CodeActionKind.SourceFixAll)||r?.has(Or.CodeActionKind.StylelintSourceFixAll)){De(this,et,"f")?.debug('Creating "source-fix-all" code action');let s=await De(this,si,"m",h_).call(this,e);return s?[s]:[]}if(r?.has(Ft.CodeActionKind.Source))return De(this,et,"f")?.debug('Creating "source" code action'),[De(this,si,"m",g_).call(this,e)];if(r&&!r.has(Ft.CodeActionKind.QuickFix))return De(this,et,"f")?.debug("No quick fix actions requested, skipping action creation"),[];let i=new Wl.RuleCodeActionsCollection;for(let s of n.diagnostics){let{source:o,code:c}=s;if(!(o!=="Stylelint"||typeof c!="string")){if(!(0,Yq.isDisableReportRule)(c)){let a=await De(this,on,"f").getOptions(e.uri),{location:d}=a.codeAction.disableRuleComment;De(this,et,"f")?.debug("Creating disable rule for line code action",{rule:c,location:d}),i.get(c).disableLine=(0,Wl.createDisableRuleLineCodeAction)(e,s,d),i.get(c).disableFile||(De(this,et,"f")?.debug("Creating disable rule for file code action",{rule:c}),i.get(c).disableFile=(0,Wl.createDisableRuleFileCodeAction)(e,s))}i.get(c).documentation||(De(this,et,"f")?.debug("Creating documentation code action",{rule:c}),i.get(c).documentation=De(this,si,"m",p_).call(this,s))}}return[...i]};$l.id="code-action"});var C_=T(Fr=>{"use strict";var y_=Fr&&Fr.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Mt=Fr&&Fr.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Qa,ai,Rn,__,w_;Object.defineProperty(Fr,"__esModule",{value:!0});Fr.CompletionModule=void 0;var b_=mr(),eE=$i(),Xi=ma(),R_=as(),Hl=class{constructor({context:e,logger:n}){Qa.add(this),ai.set(this,void 0),Rn.set(this,void 0),y_(this,ai,e,"f"),y_(this,Rn,n,"f")}onInitialize(){return{capabilities:{completionProvider:{}}}}onDidRegisterHandlers(){Mt(this,Rn,"f")?.debug("Registering onCompletion handler"),Mt(this,ai,"f").connection.onCompletion(Mt(this,Qa,"m",w_).bind(this)),Mt(this,Rn,"f")?.debug("onCompletion handler registered")}};Fr.CompletionModule=Hl;ai=new WeakMap,Rn=new WeakMap,Qa=new WeakSet,__=async function(e){let n=await Mt(this,ai,"f").getOptions(e.uri);return n.validate.includes(e.languageId)&&n.snippet.includes(e.languageId)},w_=async function({textDocument:e,position:n}){let{uri:r}=e;Mt(this,Rn,"f")?.debug("Received onCompletion",{uri:r,position:n});let i=Mt(this,ai,"f").documents.get(r);if(!i||!await Mt(this,Qa,"m",__).call(this,i))return Mt(this,Rn,"f")?.isDebugEnabled()&&(i?Mt(this,Rn,"f").debug("Snippets or validation not enabled for language, ignoring",{uri:r,language:i.languageId}):Mt(this,Rn,"f").debug("Unknown document, ignoring",{uri:r})),[];let o=Mt(this,ai,"f").getModule("validator")?.getDiagnostics(r);if(!o||o.length===0){let m=[(0,Xi.createDisableCompletionItem)("stylelint-disable-line"),(0,Xi.createDisableCompletionItem)("stylelint-disable-next-line"),(0,Xi.createDisableCompletionItem)("stylelint-disable")];return Mt(this,Rn,"f")?.debug("No diagnostics for document, returning generic completion items",{uri:r,items:m}),m}let c=new Set,a=new Set,d=new R_.DisableMetadataLookupTable(o);for(let{code:m,range:v}of o)!m||typeof m!="string"||m==="CssSyntaxError"||d.find({type:R_.DisableReportRuleNames.Needless,rule:m,range:v}).size>0||(v.start.line===n.line?c.add(m):v.start.line===n.line+1&&a.add(m));let h=[],p=(0,eE.getDisableType)(i,n);if(p==="stylelint-disable-line")for(let m of c)h.push({label:m,kind:b_.CompletionItemKind.Snippet,detail:`disable ${m} rule. (Stylelint)`});else if(p==="stylelint-disable"||p==="stylelint-disable-next-line")for(let m of a)h.push({label:m,kind:b_.CompletionItemKind.Snippet,detail:`disable ${m} rule. (Stylelint)`});else h.push((0,Xi.createDisableCompletionItem)("stylelint-disable-line",c.size===1?c.values().next().value:void 0)),h.push((0,Xi.createDisableCompletionItem)("stylelint-disable-next-line",a.size===1?a.values().next().value:void 0)),h.push((0,Xi.createDisableCompletionItem)("stylelint-disable"));return Mt(this,Rn,"f")?.debug("Returning completion items",{uri:r,results:h}),h};Hl.id="completion"});var P_=T(xt=>{"use strict";var tE=xt&&xt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),nE=xt&&xt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),rE=xt&&xt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&tE(e,t,n);return nE(e,t),e},zl=xt&&xt.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Z=xt&&xt.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},jn,Ct,Oe,cs,kr,Kl,Ya,S_,Ul;Object.defineProperty(xt,"__esModule",{value:!0});xt.FormatterModule=void 0;var Bl=rE(ie()),iE=as(),oE=Oi(),sE=Mi(),Gl=class{constructor({context:e,logger:n}){jn.add(this),Ct.set(this,void 0),Oe.set(this,void 0),cs.set(this,!1),kr.set(this,new Map),zl(this,Ct,e,"f"),zl(this,Oe,n,"f")}onInitialize({capabilities:e}){return zl(this,cs,Boolean(e.textDocument?.formatting?.dynamicRegistration),"f"),{capabilities:{documentFormattingProvider:!Z(this,cs,"f")}}}onDidRegisterHandlers(){Z(this,Oe,"f")?.debug("Registering connection.onDocumentFormatting handler"),Z(this,Ct,"f").connection.onDocumentFormatting(async({textDocument:e,options:n})=>{if(Z(this,Oe,"f")?.debug("Received onDocumentFormatting",{textDocument:e,options:n}),!e)return Z(this,Oe,"f")?.debug("No text document provided, ignoring"),null;let{uri:r}=e,i=Z(this,Ct,"f").documents.get(r);if(!i||!await Z(this,jn,"m",Kl).call(this,i))return Z(this,Oe,"f")?.isDebugEnabled()&&(i?Z(this,Oe,"f").debug("Document should not be formatted, ignoring",{uri:r,language:i.languageId}):Z(this,Oe,"f").debug("Unknown document, ignoring",{uri:r})),null;let s={config:{rules:(0,iE.formattingOptionsToRules)(n)}};Z(this,Oe,"f")?.debug("Formatting document",{uri:r,linterOptions:s});let o=Z(this,Ct,"f").getFixes(i,s);return Z(this,Oe,"f")?.debug("Returning fixes",{uri:r,fixes:o}),o}),Z(this,Oe,"f")?.debug("connection.onDocumentFormatting handler registered"),Z(this,Oe,"f")?.debug("Registering documents.onDidOpen handler"),Z(this,Ct,"f").documents.onDidOpen(({document:e})=>Z(this,jn,"m",Ya).call(this,e)),Z(this,Oe,"f")?.debug("documents.onDidOpen handler registered"),Z(this,Oe,"f")?.debug("Registering documents.onDidChangeContent handler"),Z(this,Ct,"f").documents.onDidChangeContent(({document:e})=>Z(this,jn,"m",Ya).call(this,e)),Z(this,Oe,"f")?.debug("documents.onDidChangeContent handler registered"),Z(this,Oe,"f")?.debug("Registering documents.onDidSave handler"),Z(this,Ct,"f").documents.onDidSave(({document:e})=>Z(this,jn,"m",Ya).call(this,e)),Z(this,Oe,"f")?.debug("documents.onDidSave handler registered"),Z(this,Oe,"f")?.debug("Registering documents.onDidClose handler"),Z(this,Ct,"f").documents.onDidClose(({document:e})=>Z(this,jn,"m",S_).call(this,e.uri)),Z(this,Oe,"f")?.debug("documents.onDidClose handler registered"),Z(this,Oe,"f")?.debug("Registering DidChangeConfigurationNotification"),Z(this,Ct,"f").notifications.on(Bl.DidChangeConfigurationNotification.type,()=>Z(this,jn,"m",Ul).call(this)),Z(this,Oe,"f")?.debug("DidChangeConfigurationNotification registered"),Z(this,Oe,"f")?.debug("Registering DidChangeWorkspaceFoldersNotification"),Z(this,Ct,"f").notifications.on(Bl.DidChangeWorkspaceFoldersNotification.type,()=>Z(this,jn,"m",Ul).call(this)),Z(this,Oe,"f")?.debug("DidChangeWorkspaceFoldersNotification registered")}};xt.FormatterModule=Gl;Ct=new WeakMap,Oe=new WeakMap,cs=new WeakMap,kr=new WeakMap,jn=new WeakSet,Kl=async function(e){return(await Z(this,Ct,"f").getOptions(e.uri)).validate.includes(e.languageId)},Ya=async function(e){if(!Z(this,cs,"f")||!await Z(this,jn,"m",Kl).call(this,e)||Z(this,kr,"f").has(e.uri))return;let{scheme:n,fsPath:r}=sE.URI.parse(e.uri),i=(n==="file"?r.replace(/\\/g,"/"):r).replace(/[[\]{}]/g,"?"),o={documentSelector:[{scheme:n,pattern:i}]};Z(this,kr,"f").set(e.uri,Z(this,Ct,"f").connection.client.register(Bl.DocumentFormattingRequest.type,o)),Z(this,Oe,"f")?.debug("Registering formatter for document",{uri:e.uri,options:o}),Z(this,Ct,"f").connection.sendNotification(oE.Notification.DidRegisterDocumentFormattingEditProvider,{uri:e.uri,options:o})},S_=function(e){let n=Z(this,kr,"f").get(e);!n||(Z(this,Oe,"f")?.debug("Deregistering formatter for document",{uri:e}),n.then(({dispose:r})=>r()).catch(r=>{Z(this,Oe,"f")?.error("Error deregistering formatter for document",{uri:e,error:r})}),Z(this,kr,"f").delete(e))},Ul=function(){for(let[e,n]of Z(this,kr,"f"))Z(this,Oe,"f")?.debug("Deregistering formatter for document",{uri:e}),n.then(({dispose:r})=>r()).catch(r=>{Z(this,Oe,"f")?.error("Error deregistering formatter for document",{uri:e,error:r})});Z(this,kr,"f").clear()};Gl.id="formatter"});var E_=T(Wn=>{"use strict";var Xl=Wn&&Wn.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},$e=Wn&&Wn.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Vl=Wn&&Wn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Za,Ln,It,ec,tc,D_,T_;Object.defineProperty(Wn,"__esModule",{value:!0});Wn.OldStylelintWarningModule=void 0;var aE=Vl(require("path")),cE=Vl(require("fs/promises")),q_=Vl(Dc()),uE=$i(),lE=Zo(),Jl=class{constructor({context:e,logger:n}){Za.add(this),Ln.set(this,void 0),It.set(this,void 0),ec.set(this,new Set),tc.set(this,!1),Xl(this,Ln,e,"f"),Xl(this,It,n,"f")}onInitialize({capabilities:e}){Xl(this,tc,e.window?.showDocument?.support??!1,"f")}onDidRegisterHandlers(){$e(this,It,"f")?.debug("Registering onDidOpen handler"),$e(this,Ln,"f").documents.onDidOpen(async({document:e})=>{let n=await $e(this,Za,"m",T_).call(this,e);if(!n)return;$e(this,It,"f")?.warn(`Found unsupported version of Stylelint: ${n}`);let r=`Stylelint version ${n} is no longer supported. While it may continue to work for a while, you may encounter unexpected behavior. Please upgrade to version 14.0.0 or newer. See the migration guide for more information.`;if(!$e(this,tc,"f")){$e(this,Ln,"f").connection.window.showWarningMessage(r);return}(await $e(this,Ln,"f").connection.window.showWarningMessage(r,{title:"Open migration guide"}))?.title==="Open migration guide"&&((await $e(this,Ln,"f").connection.window.showDocument({uri:"https://github.com/stylelint/vscode-stylelint#migrating-from-vscode-stylelint-0xstylelint-13x",external:!0})).success||$e(this,It,"f")?.warn("Failed to open migration guide"))}),$e(this,It,"f")?.debug("onDidOpen handler registered")}};Wn.OldStylelintWarningModule=Jl;Ln=new WeakMap,It=new WeakMap,ec=new WeakMap,tc=new WeakMap,Za=new WeakSet,D_=async function(e){let n=await $e(this,Ln,"f").resolveStylelint(e);if(!n){$e(this,It,"f")?.debug("Stylelint not found",{uri:e.uri});return}let r=await(0,lE.findPackageRoot)(n.resolvedPath);if(!r){$e(this,It,"f")?.debug("Stylelint package root not found",{uri:e.uri});return}let i=aE.default.join(r,"package.json");try{let s=await cE.default.readFile(i,"utf8");return JSON.parse(s).version}catch(s){$e(this,It,"f")?.debug("Stylelint package manifest could not be read",{uri:e.uri,manifestPath:i,error:s});return}},T_=async function(e){if(!(await $e(this,Ln,"f").getOptions(e.uri)).validate.includes(e.languageId)){$e(this,It,"f")?.debug("Document should not be validated, ignoring",{uri:e.uri,language:e.languageId});return}let r=await(0,uE.getWorkspaceFolder)($e(this,Ln,"f").connection,e);if(!r){$e(this,It,"f")?.debug("Document not part of a workspace, ignoring",{uri:e.uri});return}if($e(this,ec,"f").has(r)){$e(this,It,"f")?.debug("Document has already been checked, ignoring",{uri:e.uri});return}$e(this,ec,"f").add(r);let i=await $e(this,Za,"m",D_).call(this,e);if(!!i)try{let s=q_.default.coerce(i);if(!s)throw new Error(`Could not coerce version "${i}"`);return q_.default.lt(s,"14.0.0")?i:void 0}catch(s){$e(this,It,"f")?.debug("Stylelint version could not be parsed",{uri:e.uri,version:i,error:s});return}};Jl.id="old-stylelint-warning"});var k_=T(Mr=>{"use strict";var O_=Mr&&Mr.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},_e=Mr&&Mr.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},$n,sn,ft,Vi,F_,Ql,nc,Yl;Object.defineProperty(Mr,"__esModule",{value:!0});Mr.ValidatorModule=void 0;var dE=ie(),Zl=class{constructor({context:e,logger:n}){$n.add(this),sn.set(this,void 0),ft.set(this,void 0),Vi.set(this,new Map),O_(this,sn,e,"f"),O_(this,ft,n,"f")}getDiagnostics(e){return _e(this,Vi,"f").get(e)??[]}onInitialize(){_e(this,$n,"m",nc).call(this)}onDidRegisterHandlers(){_e(this,ft,"f")?.debug("Registering handlers"),_e(this,sn,"f").notifications.on(dE.DidChangeWatchedFilesNotification.type,async()=>await _e(this,$n,"m",nc).call(this)),_e(this,ft,"f")?.debug("onDidChangeWatchedFiles handler registered"),_e(this,sn,"f").documents.onDidChangeContent(async({document:e})=>await _e(this,$n,"m",Ql).call(this,e)),_e(this,ft,"f")?.debug("onDidChangeContent handler registered"),_e(this,sn,"f").documents.onDidClose(({document:e})=>{_e(this,$n,"m",Yl).call(this,e)}),_e(this,ft,"f")?.debug("onDidClose handler registered"),_e(this,ft,"f")?.debug("Handlers registered")}async onDidChangeConfiguration(){_e(this,ft,"f")?.debug("Received onDidChangeConfiguration"),await _e(this,$n,"m",nc).call(this)}};Mr.ValidatorModule=Zl;sn=new WeakMap,ft=new WeakMap,Vi=new WeakMap,$n=new WeakSet,F_=async function(e){return(await _e(this,sn,"f").getOptions(e.uri)).validate.includes(e.languageId)},Ql=async function(e){if(!await _e(this,$n,"m",F_).call(this,e)){_e(this,Vi,"f").has(e.uri)?(_e(this,ft,"f")?.debug("Document should not be validated, clearing diagnostics",{uri:e.uri,language:e.languageId}),_e(this,$n,"m",Yl).call(this,e)):_e(this,ft,"f")?.debug("Document should not be validated, ignoring",{uri:e.uri,language:e.languageId});return}let n=await _e(this,sn,"f").lintDocument(e);if(!n){_e(this,ft,"f")?.debug("No lint result, ignoring",{uri:e.uri});return}_e(this,ft,"f")?.debug("Sending diagnostics",{uri:e.uri,result:n});try{_e(this,sn,"f").connection.sendDiagnostics({uri:e.uri,diagnostics:n.diagnostics}),_e(this,Vi,"f").set(e.uri,n.diagnostics),_e(this,ft,"f")?.debug("Diagnostics sent",{uri:e.uri})}catch(r){_e(this,sn,"f").displayError(r),_e(this,ft,"f")?.error("Failed to send diagnostics",{uri:e.uri,error:r})}},nc=async function(){await Promise.allSettled(_e(this,sn,"f").documents.all().map(e=>_e(this,$n,"m",Ql).call(this,e)))},Yl=function({uri:e}){_e(this,ft,"f")?.debug("Clearing diagnostics for document",{uri:e}),_e(this,Vi,"f").delete(e),_e(this,sn,"f").connection.sendDiagnostics({uri:e,diagnostics:[]}),_e(this,ft,"f")?.debug("Diagnostics cleared",{uri:e})};Zl.id="validator"});var M_=T(an=>{"use strict";var fE=an&&an.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Ji=an&&an.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&fE(e,t,n)};Object.defineProperty(an,"__esModule",{value:!0});Ji(gv(),an);Ji(v_(),an);Ji(C_(),an);Ji(P_(),an);Ji(E_(),an);Ji(k_(),an)});var x_=T((rc,ic)=>{var hE=rc&&rc.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))};(function(t){if(typeof ic=="object"&&typeof ic.exports=="object"){var e=t(require,rc);e!==void 0&&(ic.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=void 0;var n=function(){function a(d,h,p,m){this._uri=d,this._languageId=h,this._version=p,this._content=m,this._lineOffsets=void 0}return Object.defineProperty(a.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),a.prototype.getText=function(d){if(d){var h=this.offsetAt(d.start),p=this.offsetAt(d.end);return this._content.substring(h,p)}return this._content},a.prototype.update=function(d,h){for(var p=0,m=d;p<m.length;p++){var v=m[p];if(a.isIncremental(v)){var O=o(v.range),F=this.offsetAt(O.start),N=this.offsetAt(O.end);this._content=this._content.substring(0,F)+v.text+this._content.substring(N,this._content.length);var w=Math.max(O.start.line,0),C=Math.max(O.end.line,0),q=this._lineOffsets,k=s(v.text,!1,F);if(C-w===k.length)for(var A=0,Y=k.length;A<Y;A++)q[A+w+1]=k[A];else k.length<1e4?q.splice.apply(q,hE([w+1,C-w],k,!1)):this._lineOffsets=q=q.slice(0,w+1).concat(k,q.slice(C+1));var le=v.text.length-(N-F);if(le!==0)for(var A=w+1+k.length,Y=q.length;A<Y;A++)q[A]=q[A]+le}else if(a.isFull(v))this._content=v.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received")}this._version=h},a.prototype.getLineOffsets=function(){return this._lineOffsets===void 0&&(this._lineOffsets=s(this._content,!0)),this._lineOffsets},a.prototype.positionAt=function(d){d=Math.max(Math.min(d,this._content.length),0);var h=this.getLineOffsets(),p=0,m=h.length;if(m===0)return{line:0,character:d};for(;p<m;){var v=Math.floor((p+m)/2);h[v]>d?m=v:p=v+1}var O=p-1;return{line:O,character:d-h[O]}},a.prototype.offsetAt=function(d){var h=this.getLineOffsets();if(d.line>=h.length)return this._content.length;if(d.line<0)return 0;var p=h[d.line],m=d.line+1<h.length?h[d.line+1]:this._content.length;return Math.max(Math.min(p+d.character,m),p)},Object.defineProperty(a.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),a.isIncremental=function(d){var h=d;return h!=null&&typeof h.text=="string"&&h.range!==void 0&&(h.rangeLength===void 0||typeof h.rangeLength=="number")},a.isFull=function(d){var h=d;return h!=null&&typeof h.text=="string"&&h.range===void 0&&h.rangeLength===void 0},a}(),r;(function(a){function d(m,v,O,F){return new n(m,v,O,F)}a.create=d;function h(m,v,O){if(m instanceof n)return m.update(v,O),m;throw new Error("TextDocument.update: document must be created by TextDocument.create")}a.update=h;function p(m,v){for(var O=m.getText(),F=i(v.map(c),function(Y,le){var ye=Y.range.start.line-le.range.start.line;return ye===0?Y.range.start.character-le.range.start.character:ye}),N=0,w=[],C=0,q=F;C<q.length;C++){var k=q[C],A=m.offsetAt(k.range.start);if(A<N)throw new Error("Overlapping edit");A>N&&w.push(O.substring(N,A)),k.newText.length&&w.push(k.newText),N=m.offsetAt(k.range.end)}return w.push(O.substr(N)),w.join("")}a.applyEdits=p})(r=e.TextDocument||(e.TextDocument={}));function i(a,d){if(a.length<=1)return a;var h=a.length/2|0,p=a.slice(0,h),m=a.slice(h);i(p,d),i(m,d);for(var v=0,O=0,F=0;v<p.length&&O<m.length;){var N=d(p[v],m[O]);N<=0?a[F++]=p[v++]:a[F++]=m[O++]}for(;v<p.length;)a[F++]=p[v++];for(;O<m.length;)a[F++]=m[O++];return a}function s(a,d,h){h===void 0&&(h=0);for(var p=d?[h]:[],m=0;m<a.length;m++){var v=a.charCodeAt(m);(v===13||v===10)&&(v===13&&m+1<a.length&&a.charCodeAt(m+1)===10&&m++,p.push(h+m+1))}return p}function o(a){var d=a.start,h=a.end;return d.line>h.line||d.line===h.line&&d.character>h.character?{start:h,end:d}:a}function c(a){var d=o(a.range);return d!==a.range?{newText:a.newText,range:d}:a}})});var sc=T(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc.isObject=void 0;function gE(t){return typeof t=="object"&&t!==null}oc.isObject=gE});var N_=T(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});ac.mergeAssign=void 0;var pE=sc();function I_(t,e,n){let r=t;for(let i of[e,n])if(!!i)for(let s of Object.getOwnPropertyNames(i)){if(s==="__proto__"||s==="constructor")continue;let o=i[s];if((0,pE.isObject)(o)){if(Array.isArray(o)){let c=r[s];r[s]=Array.isArray(c)?c.concat(o):o;continue}r[s]||(r[s]={}),r[s]=I_(r[s],o)}else r[s]=o}return r}ac.mergeAssign=I_});var j_=T((tM,A_)=>{"use strict";A_.exports=mE;function Qi(t){return t instanceof Buffer?Buffer.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}function mE(t){if(t=t||{},t.circles)return vE(t);return t.proto?r:n;function e(i,s){for(var o=Object.keys(i),c=new Array(o.length),a=0;a<o.length;a++){var d=o[a],h=i[d];typeof h!="object"||h===null?c[d]=h:h instanceof Date?c[d]=new Date(h):ArrayBuffer.isView(h)?c[d]=Qi(h):c[d]=s(h)}return c}function n(i){if(typeof i!="object"||i===null)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return e(i,n);if(i instanceof Map)return new Map(e(Array.from(i),n));if(i instanceof Set)return new Set(e(Array.from(i),n));var s={};for(var o in i)if(Object.hasOwnProperty.call(i,o)!==!1){var c=i[o];typeof c!="object"||c===null?s[o]=c:c instanceof Date?s[o]=new Date(c):c instanceof Map?s[o]=new Map(e(Array.from(c),n)):c instanceof Set?s[o]=new Set(e(Array.from(c),n)):ArrayBuffer.isView(c)?s[o]=Qi(c):s[o]=n(c)}return s}function r(i){if(typeof i!="object"||i===null)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return e(i,r);if(i instanceof Map)return new Map(e(Array.from(i),r));if(i instanceof Set)return new Set(e(Array.from(i),r));var s={};for(var o in i){var c=i[o];typeof c!="object"||c===null?s[o]=c:c instanceof Date?s[o]=new Date(c):c instanceof Map?s[o]=new Map(e(Array.from(c),r)):c instanceof Set?s[o]=new Set(e(Array.from(c),r)):ArrayBuffer.isView(c)?s[o]=Qi(c):s[o]=r(c)}return s}}function vE(t){var e=[],n=[];return t.proto?s:i;function r(o,c){for(var a=Object.keys(o),d=new Array(a.length),h=0;h<a.length;h++){var p=a[h],m=o[p];if(typeof m!="object"||m===null)d[p]=m;else if(m instanceof Date)d[p]=new Date(m);else if(ArrayBuffer.isView(m))d[p]=Qi(m);else{var v=e.indexOf(m);v!==-1?d[p]=n[v]:d[p]=c(m)}}return d}function i(o){if(typeof o!="object"||o===null)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return r(o,i);if(o instanceof Map)return new Map(r(Array.from(o),i));if(o instanceof Set)return new Set(r(Array.from(o),i));var c={};e.push(o),n.push(c);for(var a in o)if(Object.hasOwnProperty.call(o,a)!==!1){var d=o[a];if(typeof d!="object"||d===null)c[a]=d;else if(d instanceof Date)c[a]=new Date(d);else if(d instanceof Map)c[a]=new Map(r(Array.from(d),i));else if(d instanceof Set)c[a]=new Set(r(Array.from(d),i));else if(ArrayBuffer.isView(d))c[a]=Qi(d);else{var h=e.indexOf(d);h!==-1?c[a]=n[h]:c[a]=i(d)}}return e.pop(),n.pop(),c}function s(o){if(typeof o!="object"||o===null)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return r(o,s);if(o instanceof Map)return new Map(r(Array.from(o),s));if(o instanceof Set)return new Set(r(Array.from(o),s));var c={};e.push(o),n.push(c);for(var a in o){var d=o[a];if(typeof d!="object"||d===null)c[a]=d;else if(d instanceof Date)c[a]=new Date(d);else if(d instanceof Map)c[a]=new Map(r(Array.from(d),s));else if(d instanceof Set)c[a]=new Set(r(Array.from(d),s));else if(ArrayBuffer.isView(d))c[a]=Qi(d);else{var h=e.indexOf(d);h!==-1?c[a]=n[h]:c[a]=s(d)}}return e.pop(),n.pop(),c}}});var W_=T(Yi=>{"use strict";var yE=Yi&&Yi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.mergeOptionsWithDefaults=void 0;var _E=yE(j_()),ed=sc(),cc=(0,_E.default)();function L_(t,e,n,r,i){if(!(0,ed.isObject)(t))return cc(e);let s={};for(let o of Object.keys(e)){let c=e[o],a=t[o];if(a!==void 0){if((0,ed.isObject)(a)){if(n.has(a)){i.add([a,s,o]);continue}n.add(a);let d=Array.isArray(a)?a.map(h=>cc(h)):(0,ed.isObject)(c)&&!Array.isArray(c)?L_(a,c,n,r,i):cc(a);r.set(a,d),s[o]=d;continue}s[o]=a;continue}s[o]=cc(c)}return s}function wE(t,e){let n=new WeakSet,r=new WeakMap,i=new Set,s=L_(t,e,n,r,i);for(let[o,c,a]of i)c[a]=r.get(o);return s}Yi.mergeOptionsWithDefaults=wE});var $_=T(sr=>{"use strict";var bE=sr&&sr.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),td=sr&&sr.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&bE(e,t,n)};Object.defineProperty(sr,"__esModule",{value:!0});td(sc(),sr);td(N_(),sr);td(W_(),sr)});var Y_=T(xr=>{"use strict";var Cn=xr&&xr.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},j=xr&&xr.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Le,Sn,ue,Zi,us,ci,ls,eo,to,uc,no,ro,io,oo,ds,H_,z_,K_,U_,B_,fs,G_,X_,V_,J_;Object.defineProperty(xr,"__esModule",{value:!0});xr.StylelintLanguageServer=void 0;var RE=x_(),CE=Sl(),lc=ie(),SE=$i(),nd=ma(),rd=$_(),PE=as(),DE=Zo(),TE=Oi(),id={codeAction:{disableRuleComment:{location:"separateLine"}},config:null,configFile:"",configBasedir:"",customSyntax:"",ignoreDisables:!1,packageManager:"npm",reportInvalidScopeDisables:!1,reportNeedlessDisables:!1,snippet:["css","postcss"],stylelintPath:"",validate:["css","postcss"]},Q_=class{constructor({connection:e,logger:n,modules:r}){Le.add(this),Sn.set(this,void 0),ue.set(this,void 0),Zi.set(this,void 0),us.set(this,void 0),ci.set(this,void 0),ls.set(this,void 0),eo.set(this,void 0),to.set(this,void 0),uc.set(this,void 0),no.set(this,new Map),ro.set(this,!1),io.set(this,new Map),Cn(this,Sn,e,"f"),Cn(this,ue,n?.child({component:"language-server"}),"f"),Cn(this,Zi,new nd.NotificationManager(e,j(this,ue,"f")),"f"),Cn(this,us,new nd.CommandManager(e,j(this,ue,"f")),"f"),Cn(this,ci,id,"f"),Cn(this,ls,new DE.StylelintResolver(e,j(this,ue,"f")),"f"),Cn(this,eo,new PE.StylelintRunner(e,j(this,ue,"f"),j(this,ls,"f")),"f"),Cn(this,to,new CE.TextDocuments(RE.TextDocument),"f"),Cn(this,uc,{connection:j(this,Sn,"f"),notifications:j(this,Zi,"f"),commands:j(this,us,"f"),documents:j(this,to,"f"),runner:j(this,eo,"f"),getOptions:j(this,Le,"m",ds).bind(this),getModule:j(this,Le,"m",U_).bind(this),getFixes:j(this,Le,"m",K_).bind(this),displayError:j(this,Le,"m",oo).bind(this),lintDocument:j(this,Le,"m",z_).bind(this),resolveStylelint:j(this,Le,"m",H_).bind(this)},"f");let i=new Proxy(j(this,uc,"f"),{get(s,o){return s[o]},set(){throw new Error("Cannot set read-only property")}});if(r)for(let s of r){if(j(this,ue,"f")?.info("Registering module",{module:s.id}),!s.id)throw new Error("Modules must have an ID");if(typeof s.id!="string")throw new Error("Module IDs must be strings");let o=new s({context:i,logger:n?.child({component:`language-server:${s.id}`})});if(j(this,no,"f").has(s.id))throw new Error(`Module with ID "${s.id}" already registered`);j(this,no,"f").set(s.id,o),j(this,ue,"f")?.info("Module registered",{module:s.id})}}start(){j(this,ue,"f")?.info("Starting language server"),j(this,to,"f").listen(j(this,Sn,"f")),j(this,Sn,"f").listen(),j(this,Le,"m",B_).call(this),j(this,ue,"f")?.info("Language server started")}};xr.StylelintLanguageServer=Q_;Sn=new WeakMap,ue=new WeakMap,Zi=new WeakMap,us=new WeakMap,ci=new WeakMap,ls=new WeakMap,eo=new WeakMap,to=new WeakMap,uc=new WeakMap,no=new WeakMap,ro=new WeakMap,io=new WeakMap,Le=new WeakSet,oo=function(e){(0,nd.displayError)(j(this,Sn,"f"),e)},ds=async function(e){if(!j(this,ro,"f"))return j(this,ci,"f");let n=j(this,io,"f").get(e);if(n)return j(this,ue,"f")?.debug("Returning cached options",{resource:e}),n;j(this,ue,"f")?.debug("Requesting options from client",{resource:e});let r=await j(this,Sn,"f").workspace.getConfiguration({scopeUri:e,section:"stylelint"});j(this,ue,"f")?.debug("Received options from client",{resource:e,options:r});let i=(0,rd.mergeOptionsWithDefaults)(r,id);return Object.freeze(i),j(this,io,"f").set(e,i),j(this,ue,"f")?.debug("Returning options",{resource:e,options:i}),i},H_=async function(e){j(this,ue,"f")?.debug("Resolving Stylelint",{uri:e.uri});try{let n=await j(this,Le,"m",ds).call(this,e.uri),r=await j(this,ls,"f").resolve(n,e);return r?j(this,ue,"f")?.debug("Stylelint resolved",{uri:e.uri,resolvedPath:r.resolvedPath}):j(this,ue,"f")?.warn("Failed to resolve Stylelint",{uri:e.uri}),r}catch(n){j(this,Le,"m",oo).call(this,n),j(this,ue,"f")?.error("Error resolving Stylelint",{uri:e.uri,error:n});return}},z_=async function(e,n={}){j(this,ue,"f")?.debug("Linting document",{uri:e.uri,linterOptions:n});try{let r=await j(this,Le,"m",ds).call(this,e.uri),i=await j(this,eo,"f").lintDocument(e,n,r);return j(this,ue,"f")?.debug("Lint run complete",{uri:e.uri,results:i}),i}catch(r){j(this,Le,"m",oo).call(this,r),j(this,ue,"f")?.error("Error running lint",{uri:e.uri,error:r});return}},K_=async function(e,n={}){try{let r=await j(this,Le,"m",ds).call(this,e.uri),i=await(0,SE.getFixes)(j(this,eo,"f"),e,n,r);return j(this,ue,"f")?.debug("Fixes retrieved",{uri:e.uri,edits:i}),i}catch(r){return j(this,Le,"m",oo).call(this,r),j(this,ue,"f")?.error("Error getting fixes",{uri:e.uri,error:r}),[]}},U_=function(e){return j(this,no,"f").get(e)},B_=function(){j(this,ue,"f")?.info("Registering handlers"),j(this,Sn,"f").onInitialize(j(this,Le,"m",G_).bind(this)),j(this,ue,"f")?.debug("connection.onInitialize handler registered"),j(this,Zi,"f").on(lc.InitializedNotification.type,j(this,Le,"m",X_).bind(this)),j(this,ue,"f")?.debug("connection.onInitialized handler registered"),j(this,us,"f").register(),j(this,Zi,"f").on(lc.DidChangeConfigurationNotification.type,j(this,Le,"m",J_).bind(this)),j(this,ue,"f")?.debug("connection.onDidChangeConfiguration handler registered"),j(this,to,"f").onDidClose(j(this,Le,"m",V_).bind(this)),j(this,ue,"f")?.debug("documents.onDidClose handler registered"),j(this,Le,"m",fs).call(this,"onDidRegisterHandlers"),j(this,ue,"f")?.info("Handlers registered")},fs=function(e,...n){j(this,ue,"f")?.debug(`Invoking ${String(e)}`);let r=Object.create(null);for(let[i,s]of j(this,no,"f")){let o=s[e];if(o)try{r[i]=o.apply(s,n),j(this,ue,"f")?.debug(`Invoked ${String(e)}`,{module:i,returnValue:r[i]})}catch(c){j(this,Le,"m",oo).call(this,c),j(this,ue,"f")?.error(`Error invoking ${String(e)}`,{module:i,error:c})}}return r},G_=function(e){j(this,ue,"f")?.debug("received onInitialize",{params:e});let n={capabilities:{textDocumentSync:{openClose:!0,change:lc.TextDocumentSyncKind.Full}}};e.capabilities.workspace?.configuration&&(j(this,ue,"f")?.debug("Client reports workspace configuration support; using scoped configuration"),Cn(this,ro,!0,"f"));for(let[,r]of Object.entries(j(this,Le,"m",fs).call(this,"onInitialize",e)))r&&(0,rd.mergeAssign)(n,r);return j(this,ue,"f")?.debug("Returning initialization results",{result:n}),n},X_=async function(e){j(this,ue,"f")?.debug("received onInitialized",{params:e}),j(this,ro,"f")&&(j(this,ue,"f")?.debug("Registering DidChangeConfigurationNotification"),await j(this,Sn,"f").client.register(lc.DidChangeConfigurationNotification.type,{section:"stylelint"}))},V_=function({document:e}){j(this,ue,"f")?.debug("received documents.onDidClose, clearing cached options",{uri:e.uri}),j(this,io,"f").delete(e.uri)},J_=function(e){if(j(this,ro,"f")){j(this,ue,"f")?.debug("received onDidChangeConfiguration, clearing cached options",{params:e}),j(this,io,"f").clear(),j(this,Le,"m",fs).call(this,"onDidChangeConfiguration"),j(this,Sn,"f").sendNotification(TE.Notification.DidResetConfiguration);return}j(this,ue,"f")?.debug("received onDidChangeConfiguration",{params:e}),Cn(this,ci,(0,rd.mergeOptionsWithDefaults)(e.settings.stylelint,id),"f"),Object.freeze(j(this,ci,"f")),j(this,ue,"f")?.debug("Global options updated",{options:j(this,ci,"f")}),j(this,Le,"m",fs).call(this,"onDidChangeConfiguration")}});var tw=T(Nt=>{"use strict";var Z_=Nt&&Nt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),qE=Nt&&Nt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),EE=Nt&&Nt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Z_(e,t,n);return qE(e,t),e},ew=Nt&&Nt.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Z_(e,t,n)};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.modules=void 0;Nt.modules=EE(M_());ew(Y_(),Nt);ew(Oi(),Nt)});var rw=T(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});fc.activate=void 0;var OE=require("events"),od=lv(),hs=require("vscode"),nw=Uu(),dc=tw();function FE({subscriptions:t}){let e=require.resolve("./start-server"),n=Object.assign(new OE.EventEmitter,{codeActionReady:!1}),r=new od.LanguageClient("Stylelint",{run:{module:e},debug:{module:e,options:{execArgv:["--nolazy","--inspect=6004"]}}},{documentSelector:[{scheme:"file"},{scheme:"untitled"}],diagnosticCollectionName:"Stylelint",synchronize:{fileEvents:hs.workspace.createFileSystemWatcher("**/{.stylelintrc{,.js,.json,.yaml,.yml},stylelint.config.js,.stylelintignore}")}});return r.onReady().then(()=>{r.onNotification(dc.Notification.DidRegisterCodeActionRequestHandler,()=>{n.codeActionReady=!0}),r.onNotification(dc.Notification.DidRegisterDocumentFormattingEditProvider,i=>{n.emit(nw.ApiEvent.DidRegisterDocumentFormattingEditProvider,i)}),r.onNotification(dc.Notification.DidResetConfiguration,()=>{n.emit(nw.ApiEvent.DidResetConfiguration)})}).catch(async i=>{await hs.window.showErrorMessage(`Stylelint: ${i instanceof Error?i.message:String(i)}`)}),t.push(hs.commands.registerCommand("stylelint.executeAutofix",async()=>{let i=hs.window.activeTextEditor;if(!i)return;let s={uri:i.document.uri.toString(),version:i.document.version},o={command:dc.CommandId.ApplyAutoFix,arguments:[s]};await r.sendRequest(od.ExecuteCommandRequest.type,o).then(void 0,async()=>{await hs.window.showErrorMessage("Failed to apply Stylelint fixes to the document. Please consider opening an issue with steps to reproduce.")})})),t.push(new od.SettingMonitor(r,"stylelint.enable").start()),n}fc.activate=FE});"use strict";var kE=exports&&exports.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),iw=exports&&exports.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&kE(e,t,n)};Object.defineProperty(exports,"__esModule",{value:!0});iw(rw(),exports);iw(Uu(),exports);
